(this.webpackJsonpproduct=this.webpackJsonpproduct||[]).push([[0],{31:function(e,t,a){e.exports=a(60)},37:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),o=a.n(c),s=a(62),i=a(5),u=a(6),l=a(3),p=a.n(l),m=a(22),d=a(23),f=a(29),h=a(24),v=a(30);a(37);function w(){return r.a.createElement("div",{className:"loader-wrapper"},r.a.createElement("img",{src:"/images/loader.gif",className:"loader",alt:"Loading..."}))}var b=a(28),g=a(25),y=a.n(g).a.create({withCredentials:!0});function x(e){return p.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.awrap(y.get("".concat("/api/wap","/").concat(e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}function j(e){"text"===e.role&&(e.children=[{htmlTagName:"span",role:"text",prefs:{},children:Object(b.a)(e.children)}])}function k(e){return r.a.createElement(e.htmlTagName,Object(u.a)({key:"singleItem"},e.prefs),e.children)}function E(e,t){return p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.a.awrap(y.post("".concat("/api/wap","/").concat(t),e));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))}var O=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c)))).state={wapData:{}},a.loadWebsite=function(){var e,t;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e=a.props.match.params.id)){n.next=11;break}return n.prev=2,n.next=5,p.a.awrap(x(e));case 5:t=n.sent,a.setState({wapData:t.data},(function(){document.title=t.data.settings.name})),n.next=11;break;case 9:n.prev=9,n.t0=n.catch(2);case 11:case"end":return n.stop()}}),null,null,[[2,9]])},a.renderCmpsRecursive=function(e){var t=a.state.wapData.cmps;return j(e=Object(u.a)({},e)),"form"===e.role&&(e.prefs=Object(u.a)({},e.prefs,{onSubmit:a.onSubmitForm})),r.a.createElement(e.htmlTagName,Object(u.a)({key:e._id,"data-role":e.role},e.prefs,{id:e._id}),Array.isArray(e.children)?e.children.map((function(e){return e.cmpId?a.renderCmpsRecursive(t[e.cmpId]):e.role?k(e):e})):void 0)},a.onSubmitForm=function(e){var t;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),t={},e.target.querySelectorAll('span[data-role="input"]').forEach((function(e){var a=e.children[0];t[a.name]=a.value,a.value=""})),n.prev=3,n.next=6,p.a.awrap(E(t,a.state.wapData._id));case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(3),console.log(n.t0);case 11:case"end":return n.stop()}}),null,null,[[3,8]])},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.id&&this.loadWebsite()}},{key:"render",value:function(){var e=this.state.wapData;return e&&e.cmps?this.renderCmpsRecursive(e.cmps._rootElement):r.a.createElement(w,null)}}]),t}(r.a.Component),D=Object(i.a)();Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement((function(){return r.a.createElement(s.b,{history:D},r.a.createElement(s.a,{path:"/:id?",component:O}))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.4ecb1587.chunk.js.map