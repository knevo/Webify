{"version":3,"sources":["serviceWorker.js","services/utils.js","services/editorReducerService.js","reducers/authReducer.js","reducers/modalReducer.js","actions/GenericActions.js","services/crudService.js","services/templateService.js","cmps/Home/Header.jsx","cmps/Home/Features.jsx","cmps/TemplateList/TemplatePreview.jsx","cmps/Loader.jsx","cmps/TemplateList.jsx","cmps/Modal/TemplateListModal.jsx","cmps/Home/ChooseTemplate.jsx","cmps/Footer.jsx","pages/Home.jsx","services/wapService.js","actions/EditorActions.js","cmps/Dashboard/WebsiteShare.jsx","cmps/UserThumb.jsx","cmps/Dashboard/DashboardSideNav.jsx","cmps/Dashboard/WapPreview.jsx","cmps/Dashboard/Landing.jsx","cmps/Dashboard/WapManager.jsx","pages/Dashboard.jsx","pages/About.jsx","cmps/Editor/EditorSideNav/EditPanel/helpers.js","cmps/Editor/EditorSideNav/EditPanel/Partials/DraftSettingsUpdate.jsx","cmps/Editor/EditorSideNav/EditPanel/Partials/ColorPicker.jsx","cmps/Editor/EditorSideNav/EditPanel/Partials/DetailedInput.jsx","cmps/Editor/EditorSideNav/EditPanel/Partials/SliderInput.jsx","cmps/Editor/EditorSideNav/EditPanel/Partials/TextStyle.jsx","services/mediaApiService.js","cmps/Editor/EditorSideNav/EditPanel/Partials/MediaApiSelector/ImagePreview.jsx","cmps/Editor/EditorSideNav/EditPanel/Partials/MediaApiSelector/VideoPreview.jsx","cmps/Editor/EditorSideNav/EditPanel/Partials/MediaApiSelector.jsx","cmps/Editor/EditorSideNav/EditPanel/Partials/MediaSourceChange.jsx","cmps/Editor/EditorSideNav/EditPanel/MainSection.jsx","cmps/Editor/EditorSideNav/EditPanel/SizeSection.jsx","cmps/Editor/EditorSideNav/EditPanel/LayoutSection.jsx","cmps/Editor/EditorSideNav/EditPanel/Partials/CmpNameChanger.jsx","cmps/Editor/EditorSideNav/EditPanel.jsx","cmps/Editor/EditorSideNav/ElementsButtons.jsx","cmps/Editor/EditorSideNav/SiteMap/Branch.jsx","cmps/Editor/EditorSideNav/SiteMap.jsx","cmps/Editor/EditorSideNav/cmps/GenericText.js","cmps/Editor/EditorSideNav/cmps/Img.js","cmps/Editor/EditorSideNav/cmps/Button.js","cmps/Editor/EditorSideNav/cmps/GenericSection.js","cmps/Editor/EditorSideNav/cmps/ready-cmps/Card.js","cmps/Editor/EditorSideNav/cmps/ready-cmps/Cards.js","cmps/Editor/EditorSideNav/cmps/ready-cmps/Header.js","cmps/Editor/EditorSideNav/cmps/Input.js","cmps/Editor/EditorSideNav/cmps.js","cmps/Editor/EditorSideNav/cmps/Navbar.js","cmps/Editor/EditorSideNav/cmps/Footer.js","cmps/Editor/EditorSideNav/cmps/Youtube.js","cmps/Editor/EditorSideNav/cmps/gMap.js","cmps/Editor/EditorSideNav/cmps/SocialButtons.js","cmps/Editor/EditorSideNav/cmps/ready-cmps/ContactForm.js","services/userService.js","actions/UserActions.js","cmps/Login.jsx","cmps/UserForm.jsx","cmps/Signup.jsx","cmps/Editor/EditorSideNav.jsx","cmps/Editor/CmpToolbar.jsx","cmps/Editor/renderFunctions.js","cmps/Editor/WebsiteContainer.jsx","cmps/Editor/EditorExpander.jsx","pages/Editor.jsx","services/draftCreator.js","cmps/Modal/MenusToggler.jsx","cmps/Navbar.jsx","cmps/Modal/RegularModal.jsx","cmps/Modal/NotificationBox.jsx","cmps/Modal/PageLoading.jsx","services/socketService.js","cmps/MsgPreview.jsx","cmps/ChatBox.jsx","cmps/Modal.jsx","App.js","index.js","reducers/editorReducer.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","uploadImg","ev","a","async","UPLOAD_URL","formData","FormData","append","target","files","fetch","method","body","res","json","getIdfromYoutubeUrl","url","length","getRandomId","txt","possible","i","charAt","Math","floor","random","isLegalPlacement","compsMap","parentId","cmpData","parentRole","role","childRole","_isChildless","includes","cmpRemove","cmpMap","cmpId","cmp","children","forEach","child","replaceParents","cmps","oldParentId","newParentId","targetId","diff","currentParentChildren","filter","_id","setCmpDropPos","addRecursiveCmps","cmpsMap","Array","isArray","newCmp","map","cmpRole","parentCmpChildren","newCmpId","slice","targetIdx","findIndex","childCmp","splice","push","addToHistory","selectedCmpId","newHistory","history","shift","verifyNewIdMethod","draft","draftCopy","JSON","parse","stringify","newId","inheritIntellegenceFrom","prefs","initialState","loggedInUser","notificationBox","regularModal","isEditorExpanded","isLoading","isExpanderDragged","isChatShown","_displayNotificationBox","notificationData","type","_callModal","modalData","_callChat","chatData","showModal","dispatch","hideModal","displayNotificationBox","toggleEditorExpansion","isExpanded","_toggleEditorExpansion","toggleLoader","toggleExpanderDragged","Axios","axios","create","withCredentials","crudService","API_PATH","query","filterBy","filterKey","filters","filterUrlParams","join","get","result","data","save","itemData","_edit","_add","getById","itemId","deleteById","delete","post","updatedItemData","put","this","draftsCrud","BASE_URL","Header","className","href","Component","Features","id","src","alt","React","TemplatePreview","props","template","onSelectTemplate","settings","name","thumbnailUrl","to","onClick","mapDispatchToProps","connect","undefined","Loader","TemplateList","templates","key","TemplateListModal","componentDidMount","templateService","setState","Fragment","ChooseTemplate","component","Footer","Home","wapCrud","_addCmp","parentCmpId","_updateCmp","targetParentId","_removeCmp","_selectCmp","switchPanel","_moveCmp","_setDraft","draftType","selectCmp","cmpToEdit","openPanel","_cmpToEdit","addCmp","err","message","updateCmp","_saveDraft","draftToSave","wapService","newDraftData","Error","WebsiteShare","selectItem","select","onCopyLink","textBox","document","querySelector","setSelectionRange","execCommand","editWebSettings","transData","inDash","websiteData","rel","defaultValue","Button","fullWidth","variant","color","auth","imageUrl","firstName","DashboardSideNav","userWaps","wapList","wap","useStyles","makeStyles","card","maxWidth","media","height","WapPreview","classes","Card","CardActionArea","CardMedia","image","title","CardContent","Typography","gutterBottom","CardActions","size","deleteWap","Landing","WapManager","Dashboard","onDeleteWap","wapId","loadWaps","path","render","About","initialValuesMap","spacing","sizing","direction","align","justify","grow","isMediaCmp","isTextCmp","isSectionCmp","getSectionTitle","isAlignmentActive","alignment","isActive","style","flexDirection","alignItems","justifyContent","dirRow","dirCol","alignStretch","alignStart","alignCenter","alignEnd","justifyBetween","justifyStart","justifyCenter","justifyEnd","isDisabled","sizeProperty","parentFlexDir","isDisable","flexGrow","removeRedundantStyles","width","minHeight","padding","margin","borderRadius","fontSize","backgroundColor","fontWeight","DraftSettingsUpdate","pages","handleInput","value","updateSettings","onUploadImg","imageData","draftSettings","placeholder","onChange","display","accept","htmlFor","_updateSettings","ColorPicker","showColorPicker","toggleColorPicker","prevState","handleColorChange","rgb","r","g","b","onColorChange","prevProps","icon","SliderInput","FormControl","InputLabel","field","label","Input","handleChange","inputProps","min","parseInt","initialValue","rangeValueMap","low","medium","high","isDetailsOpen","joinAttribute","isSplitAttr","formatValue","newAttrArray","split","handleAttributeChange","toggleDetails","maxInput","minInput","max","attr","sides","getRangeValues","Tooltip","tooltip","placement","arrow","Slider","newValue","valueLabelDisplay","disabled","FormGroup","row","setLinkCmpId","linkCmpId","_setLinkCmpId","defaultValueMap","regex","isHrefAnchor","test","linkTargetCmpName","cmpName","linkPlaceholder","cmpStyle","rows","updateInnerTxt","updateCmpLink","handleStyleChange","Select","textAlign","MenuItem","letterSpacing","fontFamily","font","getMediaFromSearch","apiUrl","aggregateMediaItems","results","imgObj","thumbnailSrc","unsplashObj","urls","small","regular","items","videoObj","youtubeObj","snippet","thumbnails","videoId","ImagePreview","img","onSelectItem","video","MediaApiSelector","searchQuery","mediaItems","loadMediaItems","apiType","handleSearch","onModalClose","fn","delay","timer","args","context","clearTimeout","setTimeout","apply","debounce","idx","MediaSourceChange","isUrlBoxOpen","urlText","toggleUrlTextbox","showApiModal","updateMediaSrc","handleUrlSave","locationName","replace","mediaSrc","bgImg","backgroundImage","getMapLocationString","MainSection","handleFlexChange","isVertical","isAlignActive","helpers","ButtonGroup","Switch","checked","SizeSection","setFlexGrow","newFlexGrow","toggleSizeView","handleDatasetChange","isWidthShown","isHeightShown","disabledStretchInfo","isParentRoot","elCurrCmp","parentNode","dataset","parentElementDataset","orientation","LayoutSection","CmpNameChanger","useState","changeCmpName","useEffect","onBlur","handleCmpNameChange","EditPanel","currentOpenPanel","htmlTagName","newChild","currFieldValue","tempHolder","imgSrc","handlePanelToggle","panel","event","editedCmp","setCmpData","ExpansionPanel","expanded","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","sectionTitle","ElementButtons","isSectionsOpen","toggleSections","isElementsOpen","toggleElements","dragCmp","draggable","onDragStart","data-cmptype","placeLinkAnchor","anchoredCmpId","_placeLinkAnchor","isExpandable","toggleExpansion","branchClassNames","webContainer","elSelectedElement","scrollTo","offsetTop","scrollToElement","stopPropagation","SiteMapTree","createBranch","unSetLinkCmpId","cmpType","cmpInfo","tagName","GenericText","getCards","amount","cards","inputInfo","required","VerticalSection","GenericSection","Img","Cards","Navbar","Youtube","boxShadow","overflow","allow","allowFullScreen","gMap","frameBorder","scrolling","marginHeight","marginWidth","SocialButtons","ContactForm","userCrud","checkCredentials","loginData","userData","getLoggedInUser","logOut","_loginUser","user","getLoggedUser","userService","Login","onSubmitForm","loginUser","isLoginForm","theme","paper","avatar","form","marginTop","submit","Avatar","LockOutlined","PersonAddOutlined","onSubmit","preventDefault","lastName","email","password","Grid","container","item","xs","sm","TextField","autoComplete","autoFocus","Link","Signup","registerUser","EditorSideNav","handleKeyPress","evtobj","keyCode","ctrlKey","historyBack","onAddCmp","targetCmpId","cmptype","scrollHeight","cmpsPrototypes","onDragCmp","dataTransfer","setData","saveTemplate","templateData","moveToEdit","publishWap","wapData","draftData","editPath","toggleActive","clickedTab","onkeydown","panelName","data-name","isPanelActive","SiteMap","CmpToolbar","onEditCmp","onRemoveCmp","removeCmp","onMoveCmp","moveCmp","onCloneCmp","stopProp","data-role","data-diff","wrapChildlessElements","onUpdateInnerText","contentEditable","suppressContentEditableWarning","addEditorFunctionality","onSelectCmp","onDrop","allowDrop","onDragLeave","dragStart","properties","onDragOver","renderSingleCmp","createElement","WebsiteContainer","draggedElId","draggedElParentId","resetDrag","innerText","updateCmpText","classList","remove","getData","elTarget","elNewParent","rect","getBoundingClientRect","clientY","top","bottom","clientX","left","right","add","dragOver","renderCmpsRecursive","require","newText","updatedCmp","modal","EditorExpander","buttonStyle","handleDragStart","elExpander","dragPrev","cloneNode","setDragImage","handleDrag","clientWidth","clientHeight","offsetWidth","offsetHeight","offsetY","offsetX","onDrag","Editor","loadDraft","params","resetDraft","_rootElement","MenusToggler","closeMenu","onscroll","onKeyUp","addEventListener","removeEventListener","NavBar","isMenuOpen","onSignup","onLogin","showTemplates","toggleMenu","navClassNames","exact","activeClassName","editorLinks","showChat","authLinks","logoutUser","pathName","isInEditor","dragAddCmpFunc","RegularModal","isClosing","DynamicComponent","NotificationBox","timerOut","setBoxTimer","hideNotificationBox","PageLoading","socket","io","eventName","on","emit","MsgPreview","msgBy","by","loggedUser","ChatBox","msgTxt","messages","onSubmitMsg","fieldName","initChat","msg","newUser","hideChat","Modal","createBrowserHistory","App","rootReducer","combineReducers","action","editOnSelectCmpRoles","cmpIdx","cmpRef","linkCmp","linkedCmp","currentHistory","lastState","pop","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","getElementById","URL","process","origin","headers","response","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.03a4f6de.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export function getUrlParams(paramName, searchUrl) {\r\n    let value = new URLSearchParams(searchUrl).get(paramName);\r\n    return value ? value : '';\r\n}\r\n\r\nexport async function uploadImg(ev) {\r\n    const CLOUD_NAME = 'webify',\r\n        PRESET_NAME = 'webify';\r\n\r\n    const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`,\r\n        formData = new FormData();\r\n\r\n    formData.append('file', ev.target.files[0]);\r\n    formData.append('upload_preset', PRESET_NAME);\r\n    const res = await fetch(UPLOAD_URL, {\r\n        method: 'POST',\r\n        body: formData\r\n    });\r\n    return await res.json();\r\n}\r\n\r\nexport function getIdfromYoutubeUrl(url) {\r\n    const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\r\n    const match = url.match(regExp);\r\n\r\n    return (match && match[2].length === 11)\r\n        ? match[2]\r\n        : null;\r\n}\r\n\r\nexport function getRandomColor() {\r\n    var letters = '0123456789ABCDEF';\r\n    var color = '#';\r\n    for (var i = 0; i < 6; i++) {\r\n        color += letters[Math.floor(Math.random() * 16)];\r\n    }\r\n    return color;\r\n}\r\n\r\nexport function getRandomId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n\r\n    return txt;\r\n}\r\n\r\nexport const storageService = {\r\n    save: (key, value) => {\r\n        var str = JSON.stringify(value);\r\n        localStorage.setItem(key, str);\r\n    },\r\n\r\n    load: (key, defaultValue) => {\r\n        return localStorage.getItem(key) ? JSON.parse(localStorage.getItem(key)) : defaultValue;\r\n    }\r\n}\r\n\r\nexport const debounce = (fn, delay) => {\r\n    let timer = null;\r\n    return function (...args) {\r\n        const context = this;\r\n        timer && clearTimeout(timer);\r\n        timer = setTimeout(() => {\r\n            fn.apply(context, args);\r\n        }, delay);\r\n    };\r\n}","import { getRandomId } from '../services/utils';\r\n\r\nexport function isLegalPlacement(compsMap, parentId, cmpData) {\r\n    const parentRole = compsMap[parentId].role,\r\n        childRole = cmpData.role;\r\n\r\n    if (!parentId || _isChildless(parentRole)) return false;\r\n\r\n    const unAllowedRootChildren = ['text', 'img', 'button', 'input'];\r\n\r\n    if ((parentRole === '_root' && unAllowedRootChildren.includes(childRole))) return false;\r\n    return true;\r\n}\r\n\r\nexport function cmpRemove(cmpMap, cmpId) {\r\n    const cmp = cmpMap[cmpId];\r\n    if (!_isChildless(cmp.role)) {\r\n        cmp.children.forEach(child => {\r\n            cmpRemove(cmpMap, child.cmpId);\r\n        });\r\n    }\r\n    delete cmpMap[cmpId];\r\n}\r\n\r\nexport function replaceParents(cmps, oldParentId, newParentId, cmp, targetId, diff) {\r\n    const currentParentChildren = cmps[oldParentId]\r\n        .children.filter(child => child.cmpId !== cmp._id);\r\n\r\n    cmps[oldParentId] = {\r\n        ...cmps[oldParentId],\r\n        children: currentParentChildren\r\n    };\r\n\r\n    cmps[newParentId] = {\r\n        ...cmps[newParentId],\r\n        children: setCmpDropPos(cmps[newParentId].children, targetId, { cmpId: cmp._id }, diff)\r\n    };\r\n\r\n    return cmps;\r\n}\r\n\r\nexport function addRecursiveCmps(cmpData, cmpsMap) {\r\n    if (!Array.isArray(cmpData.children)) return { ...cmpData };\r\n    let newCmp = { ...cmpData, _id: 'el-' + getRandomId(4) };\r\n\r\n    cmpsMap[newCmp._id] = newCmp;\r\n    newCmp.children = newCmp.children.map(child => {\r\n        return typeof child !== 'object' ? child :\r\n            (child.role ? addRecursiveCmps(child, cmpsMap) :\r\n                addRecursiveCmps(cmpsMap[child.cmpId], cmpsMap)); // no role ? then has cmpId - for cloning\r\n    })\r\n    return { cmpId: newCmp._id };\r\n}\r\n\r\nfunction _isChildless(cmpRole) {\r\n    const childlessCmpsRoles = ['text', 'img', 'button', 'video', 'map', 'input'];\r\n    if (childlessCmpsRoles.includes(cmpRole)) return true;\r\n    return false;\r\n}\r\n\r\nexport function setCmpDropPos(parentCmpChildren, targetId, newCmpId, diff) {\r\n    parentCmpChildren = parentCmpChildren.slice();\r\n\r\n    if (targetId) {\r\n        const targetIdx = parentCmpChildren.findIndex(childCmp => childCmp.cmpId === targetId)\r\n        if (targetIdx !== -1) {\r\n\r\n            if (diff === -1 && targetIdx === 0) diff = 0\r\n\r\n            parentCmpChildren.splice(targetIdx + diff, 0, newCmpId)\r\n            return parentCmpChildren;\r\n        }\r\n    }\r\n\r\n    parentCmpChildren.push(newCmpId)\r\n    return parentCmpChildren;\r\n}\r\n\r\nexport function addToHistory(state) {\r\n    const { cmps, selectedCmpId, history } = state;\r\n    let newHistory = history.slice();\r\n\r\n    if (newHistory.length === 15) newHistory.shift();\r\n    newHistory.push({ cmps: { ...cmps }, selectedCmpId });\r\n\r\n    return newHistory;\r\n}\r\n\r\nexport function verifyNewIdMethod(draft) {\r\n\r\n    let draftCopy = JSON.parse(JSON.stringify(draft));\r\n    let cmps = draftCopy.cmps;\r\n\r\n    cmps['_rootElement'].children = cmps['_rootElement'].children.map(child => {\r\n        if (typeof child === 'object' && child.cmpId) {\r\n            if (!child.cmpId.includes('el-')) {\r\n                child.cmpId = 'el-' + child.cmpId;\r\n            }\r\n        }\r\n        return child;\r\n    });\r\n\r\n    for (let cmpId in cmps) {\r\n\r\n        if (cmpId === '_rootElement') continue;\r\n\r\n\r\n        let newId = cmpId;\r\n\r\n        if (!newId.includes('el-')) {\r\n            newId = 'el-' + newId;\r\n        }\r\n\r\n        cmps[newId] = { ...cmps[cmpId], _id: newId };\r\n\r\n        if (Array.isArray(cmps[newId].children)) {\r\n            cmps[newId].children = cmps[newId].children.map(child => {\r\n                if (typeof child === 'object') {\r\n                    if (child.cmpId && !child.cmpId.includes('el-')) {\r\n                        child.cmpId = 'el-' + child.cmpId;\r\n                    } else if (child.role) {\r\n                        delete child.inheritIntellegenceFrom;\r\n                        delete child.prefs['data-id'];\r\n                    }\r\n                }\r\n                return child;\r\n            });\r\n        }\r\n        delete cmps[newId].prefs['data-id'];\r\n        delete cmps[newId].inheritIntellegenceFrom;\r\n\r\n        if (!cmpId.includes('el-')) {\r\n            delete cmps[cmpId];\r\n        }\r\n    }\r\n\r\n    return draftCopy;\r\n}","let initialState = {\r\n    loggedInUser: null\r\n};\r\n\r\nexport default function AuthReducer(state = initialState, action = {}) {\r\n    switch (action.type) {\r\n        case 'USER_LOGIN':\r\n            return { ...state, loggedInUser: action.user };\r\n\r\n        case 'USER_LOGOUT':\r\n            return { ...state, loggedInUser: null };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","let initialState = {\r\n    notificationBox: null,\r\n    regularModal: null,\r\n    isEditorExpanded: false,\r\n    isLoading: false,\r\n    isExpanderDragged: false,\r\n    isChatShown: false\r\n\r\n};\r\n\r\nexport default function modalReducer(state = initialState, action = {}) {\r\n    switch (action.type) {\r\n        case 'TOGGLE_MODAL':\r\n            return { ...state, regularModal: action.modalData && { ...action.modalData } }\r\n\r\n        case 'TOGGLE_CHAT':\r\n            return { ...state, isChatShown: action.chatData };\r\n\r\n        case 'NOTIFICATION_BOX_DISPLAY':\r\n            return { ...state, notificationBox: { ...action.notificationData } };\r\n\r\n        case 'NOTIFICATION_BOX_HIDE':\r\n            return { ...state, notificationBox: null };\r\n\r\n        case 'TOGGLE_EDITOR_EXPANSION':\r\n            let isExpanded;\r\n            if (action.isExpanded)\r\n                isExpanded = action.isExpanded === 'expand' ? true : false;\r\n            else\r\n                isExpanded = !state.isEditorExpanded;\r\n            return { ...state, isEditorExpanded: isExpanded };\r\n\r\n        case 'TOGGLE_LOADER':\r\n            return { ...state, isLoading: !state.isLoading };\r\n\r\n        case 'TOGGLE_EXPANDER_DRAGGED':\r\n            return { ...state, isExpanderDragged: !state.isExpanderDragged }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","// Dispatchers\r\nexport const _displayNotificationBox = (notificationData) => ({ type: 'NOTIFICATION_BOX_DISPLAY', notificationData });\r\nconst _hideNotificationBox = () => ({ type: 'NOTIFICATION_BOX_HIDE' });\r\nconst _callModal = (modalData) => ({ type: 'TOGGLE_MODAL', modalData });\r\nconst _callChat = (chatData) => ({ type: 'TOGGLE_CHAT', chatData });\r\nconst _toggleEditorExpansion = (isExpanded) => ({ type: 'TOGGLE_EDITOR_EXPANSION', isExpanded });\r\nconst _toggleLoader = () => ({ type: 'TOGGLE_LOADER' });\r\nconst _toggleExpanderDragged = () => ({ type: 'TOGGLE_EXPANDER_DRAGGED' });\r\n\r\n// THUNKs\r\nexport function showModal(modalData) {\r\n    return dispatch => dispatch(_callModal(modalData));\r\n}\r\n\r\nexport function hideModal() {\r\n    return dispatch => dispatch(_callModal(null));\r\n}\r\n\r\nexport function showChat(modalData) {\r\n    return dispatch => dispatch(_callChat(true));\r\n}\r\n\r\nexport function hideChat() {\r\n    return dispatch => dispatch(_callChat(false));\r\n}\r\n\r\nexport function displayNotificationBox(notificationData) {\r\n    return dispatch => dispatch(_displayNotificationBox(notificationData));\r\n}\r\n\r\nexport function hideNotificationBox() {\r\n    return dispatch => dispatch(_hideNotificationBox());\r\n}\r\n\r\nexport function toggleEditorExpansion(isExpanded) {\r\n    return dispatch => dispatch(_toggleEditorExpansion(isExpanded));\r\n}\r\n\r\nexport function toggleLoader() {\r\n    return dispatch => dispatch(_toggleLoader());\r\n}\r\n\r\nexport function toggleExpanderDragged() {\r\n    return dispatch => dispatch(_toggleExpanderDragged());\r\n}\r\n","import axios from 'axios';\r\n\r\nconst Axios = axios.create({\r\n    withCredentials: true\r\n});\r\n\r\nexport default class crudService {\r\n    API_PATH;\r\n    query = async (filterBy) => {\r\n        let filters = [];\r\n\r\n        for (let filterKey in filterBy) {\r\n            if (filterBy[filterKey]) filters.push(filterKey + '=' + filterBy[filterKey]);\r\n        }\r\n\r\n        let filterUrlParams = filters.length ? '?' + filters.join('&') : '';\r\n        let result = await Axios.get(this.API_PATH + filterUrlParams);\r\n        return result.data;\r\n    }\r\n\r\n    save = (itemData) => {\r\n        return itemData._id ? this._edit(itemData) : this._add(itemData);\r\n    }\r\n\r\n    getById = async (itemId) => {\r\n        let result = await Axios.get(`${this.API_PATH}/${itemId}`);\r\n        return result.data;\r\n    }\r\n\r\n    deleteById = async (itemId) => {\r\n        let result = await Axios.delete(`${this.API_PATH}/${itemId}`);\r\n        return result.data;\r\n    }\r\n\r\n    _add = async (itemData) => {\r\n        let result = await Axios.post(this.API_PATH, itemData);\r\n        return result.data;\r\n    }\r\n\r\n    _edit = async (updatedItemData) => {\r\n        let result = await Axios.put(`${this.API_PATH}/${updatedItemData._id}`, updatedItemData);\r\n        return result.data;\r\n    }\r\n\r\n    constructor(API_PATH) {\r\n        this.API_PATH = API_PATH;\r\n    }\r\n}","import crudService from './crudService';\r\n\r\nconst BASE_URL = (process.env.NODE_ENV !== 'development') ? '/' : 'http://localhost:3002/';\r\n\r\nconst draftsCrud = new crudService(BASE_URL + 'api/templates');\r\n\r\nexport default {\r\n    ...draftsCrud\r\n};","import React, { Component } from 'react'\r\n\r\nexport default class Header extends Component {\r\n    render() {\r\n        return (\r\n            <header className=\"main-hero\">\r\n                <div className=\"container\">\r\n                    <div className=\"main-hero-title\">Creating a website was never easier!</div>\r\n                    <p className=\"main-hero-text\">\r\n                        Build a modern responsive website with just a few clicks!\r\n                        <a href=\"#templates\" className=\"cta-button-1 center-block\">Lets Get Started!</a>\r\n                    </p>\r\n                </div>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\n\r\nexport default class Features extends React.Component {\r\n    render() {\r\n        return (\r\n            <section className=\"dark-section\" id=\"features\">\r\n                <div className=\"container\">\r\n                    <h3 className=\"section-title\">Meet our powerful Platform</h3>\r\n                    <div className=\"feature-container flex\">\r\n                        <div className=\"text-container\">\r\n                            <h2>Build a website easily!</h2>\r\n                            <p>Start from scratch or choose a designer-made template. Get started extremely fast with our simple and intuitive website builder which will allow you with no coding skills to maintain high customizabilty options.</p>\r\n                        </div>\r\n                        <img src='images/feature4.png' alt=\"feature1\" />\r\n                    </div>\r\n                    <div className=\"feature-container flex\">\r\n                        <img src='images/feature2.png' alt=\"feature2\" />\r\n                        <div className=\"text-container\">\r\n                            <h2>Suited for any of your needs</h2>\r\n                            <p>Design and build your own high-quality websites. Whether youre promoting your business, showcasing your work, opening your store or starting a blogyou can do it all with the Webify website builder.</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"feature-container flex\">\r\n                        <div className=\"text-container\">\r\n                            <h2>Just Drag &amp; Drop</h2>\r\n                            <p>With a super most innovative drag and drop website builder, you can design any website you want. Just Drag, Drop and Customize!</p>\r\n                            <p>All the templates below were built using Webify Platform.</p>\r\n                        </div>\r\n                        <img src='images/feature3.png' alt=\"feature3\" />\r\n                    </div>\r\n                    {/* <img className=\"feature-img\" src=\"/../assets/images/feature1.png\" alt=\"\"/> */}\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { toggleEditorExpansion } from '../../actions/GenericActions';\r\nimport { connect } from 'react-redux';\r\n\r\nclass TemplatePreview extends React.Component {\r\n    render() {\r\n        const { template, onSelectTemplate } = this.props;\r\n        const { name, thumbnailUrl } = template.settings;\r\n        return (\r\n            <li>\r\n                <Link to={`/editor/${template._id}`} onClick={onSelectTemplate}>\r\n                    <div className=\"\">{name}</div>\r\n                    <div className=\"template-cover\">\r\n                        <img src={thumbnailUrl || '/images/imagena.png'} alt={name} />\r\n                        <div className=\"template-buttons\">\r\n                            <button onClick={() => this.props.toggleEditorExpansion('expand')}><i className=\"far fa-eye\"></i>View Demo</button>\r\n                            <button onClick={() => this.props.toggleEditorExpansion('collapse')}><i className=\"fas fa-edit\"></i>Use Template</button>\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n            </li>);\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = { toggleEditorExpansion };\r\nexport default connect(undefined, mapDispatchToProps)(TemplatePreview);","import React from 'react';\r\n\r\nexport default function Loader() {\r\n    return <div className=\"loader-wrapper\"><img src=\"/images/loader.gif\" className=\"loader\" alt=\"Loading...\" /></div>;\r\n}","import React from 'react';\r\n\r\nimport TemplatePreview from './TemplateList/TemplatePreview';\r\nimport Loader from './Loader';\r\n\r\nexport default class TemplateList extends React.Component {\r\n\r\n    onSelectTemplate = () => {\r\n        return this.props.onSelectTemplate ? this.props.onSelectTemplate() : null;\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.templates) return <Loader />;\r\n        return (\r\n            <ul className=\"template-list clean-list\">\r\n                {this.props.templates.map(template =>\r\n                    <TemplatePreview key={template._id} template={template} onSelectTemplate={this.onSelectTemplate} />)}\r\n            </ul>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { hideModal } from '../../actions/GenericActions';\r\n\r\nimport TemplateList from '../../cmps/TemplateList.jsx';\r\nimport templateService from '../../services/templateService';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass TemplateListModal extends React.Component {\r\n\r\n    state = {\r\n        templates: null\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        const templates = await templateService.query();\r\n        this.setState({ templates });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"modal-template-list-container\">\r\n                    <h2 className=\"modal-template-list-title\">Choose a Template</h2>\r\n                    <TemplateList templates={this.state.templates} onSelectTemplate={this.props.hideModal} />\r\n                    <Link onClick={this.props.hideModal} to='/editor' className=\"mega-button\">\r\n                        Build your own Template <i className=\"fas fa-pencil-ruler\"></i></Link>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = { hideModal };\r\nexport default connect(undefined, mapDispatchToProps)(TemplateListModal);","import React from 'react';\r\nimport TemplateListModal from '../Modal/TemplateListModal';\r\nimport TemplateList from '../TemplateList';\r\n\r\nexport default function ChooseTemplate(props) {\r\n    return (\r\n        <section className=\"light-section\" id=\"templates\">\r\n            <div className=\"container home-templates-selection\">\r\n                <h3 className=\"section-title\">Choose your template!</h3>\r\n                <TemplateList templates={props.templates} />\r\n                <button onClick={() => props.showModal({ component: TemplateListModal })} className=\"show-more-templates\">Show More</button>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nexport default class Footer extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"footer flex justify-center\">\r\n\r\n                <small> All rights reserved  Webify 2020 </small>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { showModal } from '../actions/GenericActions';\r\n\r\nimport templateService from '../services/templateService';\r\n\r\nimport Header from '../cmps/Home/Header.jsx'\r\nimport Features from '../cmps/Home/Features';\r\nimport ChooseTemplate from '../cmps/Home/ChooseTemplate';\r\nimport Footer from '../cmps/Footer';\r\n\r\nclass Home extends React.Component {\r\n    state = {\r\n        templates: null\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        let templates = await templateService.query();\r\n        this.setState({ templates: templates.slice(0, 8) });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <Header />\r\n                <Features />\r\n                <ChooseTemplate showModal={this.props.showModal} templates={this.state.templates} />\r\n                <Footer />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = { showModal };\r\nexport default connect(undefined, mapDispatchToProps)(Home);\r\n","import crudService from './crudService';\r\n\r\nconst BASE_URL = (process.env.NODE_ENV !== 'development') ? '/' : 'http://localhost:3002/';\r\n\r\nconst wapCrud = new crudService(BASE_URL + 'api/wap');\r\n\r\nexport default {\r\n    ...wapCrud,\r\n};","import wapService from '../services/wapService';\r\nimport templateService from '../services/templateService';\r\nimport draftCreator from '../services/draftCreator';\r\n\r\nimport { _displayNotificationBox } from './GenericActions';\r\n\r\nconst _updateSettings = settings => ({ type: 'SETTINGS_UPDATE', settings });\r\nconst _addCmp = (parentCmpId, cmpData, targetId, diff) => ({ type: 'CMP_ADD', parentCmpId, cmpData, targetId, diff });\r\nconst _updateCmp = (cmpData, parentId, targetParentId, targetId, diff) =>\r\n    ({ type: 'CMP_UPDATE', cmpData, parentId, targetParentId, targetId, diff });\r\nconst _removeCmp = (parentCmpId, cmpId) => ({ type: 'CMP_REMOVE', parentCmpId, cmpId });\r\nconst _selectCmp = (selectedCmpId, switchPanel) => ({ type: 'CMP_SELECT', selectedCmpId, switchPanel });\r\nconst _cmpToEdit = (selectedCmpId, openPanel) => ({ type: 'CMP_EDIT', selectedCmpId, openPanel });\r\nconst _setLinkCmpId = (linkCmpId) => ({ type: 'LINK_CMPID_SET', linkCmpId });\r\nconst _unSetLinkCmpId = () => ({ type: 'LINK_CMPID_UNSET' });\r\nconst _placeLinkAnchor = (anchoredCmpId) => ({ type: 'CMP_ANCHOR_PLACE', anchoredCmpId });\r\nconst _moveCmp = (parentCmpId, cmpId, diff) => ({ type: 'CMP_MOVE', parentCmpId, cmpId, diff });\r\nconst _setDraft = (draft, draftType) => ({ type: 'DRAFT_SET', draft, draftType });\r\nconst _historyBack = () => ({ type: 'GO_BACK_IN_HISTORY' });\r\n\r\nexport function updateSettings(settings) {\r\n    return _updateSettings(settings);\r\n}\r\n\r\nexport function saveTemplate(draft) {\r\n    return _saveDraft(draft, 'template');\r\n}\r\n\r\nexport function publishWap(draft) {\r\n    return _saveDraft(draft, 'wap');\r\n}\r\n\r\nexport function setDraft(draft, draftType) {\r\n    return dispatch => dispatch(_setDraft(draft, draftType));\r\n}\r\n\r\nexport function resetDraft() {\r\n    return dispatch => dispatch(_setDraft({}));\r\n}\r\n\r\nexport function selectCmp(selectedCmpId, switchPanel = true) {\r\n    return dispatch => dispatch(_selectCmp(selectedCmpId, switchPanel));\r\n}\r\n\r\nexport function cmpToEdit(selectedCmpId, openPanel) {\r\n    return dispatch => dispatch(_cmpToEdit(selectedCmpId, openPanel));\r\n}\r\n\r\nexport function setLinkCmpId(linkCmpId) {\r\n    return dispatch => dispatch(_setLinkCmpId(linkCmpId));\r\n}\r\nexport function unSetLinkCmpId() {\r\n    return dispatch => dispatch(_unSetLinkCmpId());\r\n}\r\n\r\nexport function placeLinkAnchor(anchoredCmpId) {\r\n    return dispatch => dispatch(_placeLinkAnchor(anchoredCmpId));\r\n}\r\n\r\nexport function loadDraft(id, draftType = 'template') {\r\n    return async dispatch => {\r\n        let draft;\r\n        if (id) {\r\n            try {\r\n                draft = draftType === 'wap' ?\r\n                    await wapService.getById(id) :\r\n                    await templateService.getById(id);\r\n            } catch (err) {\r\n                let draftName = draftType === 'wap' ? 'Website' : 'Template';\r\n                dispatch(_displayNotificationBox({ type: 'failure', message: 'Failed to load ' + draftName }));\r\n            }\r\n        }\r\n        if (!draft) draft = draftCreator();\r\n        dispatch(_setDraft(draft, draftType));\r\n    }\r\n}\r\n\r\nexport function moveCmp(parentCmpId, cmpId, diff) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch(_moveCmp(parentCmpId, cmpId, diff));\r\n        } catch (err) {\r\n            dispatch(_displayNotificationBox({ type: 'failure', message: 'Failed to move element' }));\r\n        }\r\n    }\r\n}\r\n\r\nexport function addCmp(targetParentId, cmp, targetId, diff) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch(_addCmp(targetParentId, cmp, targetId, diff));\r\n        } catch (err) {\r\n            dispatch(_displayNotificationBox({ type: 'failure', message: err.message }));\r\n        }\r\n    }\r\n}\r\n\r\nexport function updateCmp(cmpData, parentId, targetParentId, targetId, diff) {\r\n    return async (dispatch) => {\r\n        try {\r\n            dispatch(_updateCmp(cmpData, parentId, targetParentId, targetId, diff));\r\n        } catch (err) {\r\n            dispatch(_displayNotificationBox({ type: 'failure', message: 'Failed to update element' }));\r\n        }\r\n    };\r\n}\r\n\r\nexport function updateCmpText(newText, cmp) {\r\n    return async (dispatch) => {\r\n        try {\r\n            const updatedCmp = { ...cmp, children: [newText] };\r\n            dispatch(_updateCmp(updatedCmp));\r\n        } catch (err) {\r\n            dispatch(_displayNotificationBox({ type: 'failure', message: 'Failed to update text' }));\r\n        }\r\n    };\r\n}\r\n\r\nexport function removeCmp(parentCmpId, cmpId) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch(_removeCmp(parentCmpId, cmpId));\r\n        } catch (err) {\r\n            console.log(err)\r\n            dispatch(_displayNotificationBox({ type: 'failure', message: 'Failed to delete element' }));\r\n        }\r\n    }\r\n}\r\n\r\nexport function historyBack() {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch(_historyBack());\r\n        } catch (err) {\r\n            dispatch(_displayNotificationBox({ type: 'failure', message: 'Failed to undo' }));\r\n        }\r\n    }\r\n}\r\n\r\nfunction _saveDraft(draft, draftType) {\r\n    return async dispatch => {\r\n        try {\r\n\r\n            let draftToSave = {\r\n                cmps: draft.cmps,\r\n                settings: { ...draft.settings }\r\n            }\r\n\r\n            if (draft.type === draftType) {\r\n                draftToSave._id = draft._id;\r\n            }\r\n            let newDraftData;\r\n\r\n            if (draftType === 'wap') newDraftData = await wapService.save(draftToSave);\r\n            else if (draftType === 'template') newDraftData = await templateService.save(draftToSave);\r\n            else throw new Error('Failed');\r\n\r\n            dispatch(_setDraft(newDraftData, draftType));\r\n            return newDraftData;\r\n\r\n        } catch (err) {\r\n            let draftName = draftType === 'wap' ? 'Website' : 'Template';\r\n            dispatch(_displayNotificationBox({ type: 'failure', message: 'Failed to save ' + draftName }));\r\n            throw err;\r\n        }\r\n    }\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport { cmpToEdit } from '../../actions/EditorActions';\r\nimport { hideModal } from '../../actions/GenericActions';\r\n\r\nclass WebsiteShare extends React.Component {\r\n\r\n    get websiteData() {\r\n        const { websiteData } = this.props.transData || this.props;\r\n        return websiteData;\r\n    }\r\n\r\n    selectItem = (ev) => {\r\n        ev.target.select();\r\n    }\r\n\r\n    onCopyLink = () => {\r\n        let textBox = document.querySelector('#website-share-url');\r\n        textBox.select();\r\n        textBox.setSelectionRange(0, 99999);\r\n        document.execCommand(\"copy\");\r\n    }\r\n\r\n    editWebSettings = () => {\r\n        const { hideModal, transData, cmpToEdit } = this.props;\r\n        hideModal();\r\n        if (transData.inDash) {\r\n            return transData.history.push(`/editor/${this.websiteData._id}/wap`)\r\n        }\r\n        return cmpToEdit('_rootElement', 'edit');\r\n    }\r\n\r\n    render() {\r\n        const { name, thumbnailUrl } = this.websiteData.settings;\r\n        return (\r\n            <div className=\"share-website\">\r\n                <h2>{name}</h2>\r\n\r\n                <div className=\"wide-ratio\">\r\n                    <img src={thumbnailUrl || '/images/imagena.png'} alt={name} />\r\n                </div>\r\n\r\n                <div className=\"text-center\">\r\n                    <a href={`https://wap-ca.herokuapp.com/${this.websiteData._id}`} rel=\"noopener noreferrer\" target=\"_blank\" className=\"brand-link\">Click here to visit your website!</a>\r\n                </div>\r\n\r\n                <div className=\"copy-link-section flex in-spacer-horiz-10\">\r\n                    <input type=\"text\" defaultValue={`https://wap-ca.herokuapp.com/${this.websiteData._id}`} onClick={this.selectItem} id=\"website-share-url\" />\r\n                    <Button fullWidth variant=\"contained\" color=\"primary\" onClick={this.onCopyLink}>Copy</Button>\r\n                </div>\r\n                <Link onClick={this.editWebSettings} className=\"mega-button\" to='#'>\r\n                    <i className=\"fas fa-wrench\"></i> Modify Website Settings</Link>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = { cmpToEdit, hideModal };\r\nexport default connect(undefined, mapDispatchToProps)(WebsiteShare);\r\n","\r\n\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nfunction UserThumb(props) {\r\n    return (\r\n        <div className=\"user-thumb flex auto-center\">\r\n            {props.loggedInUser && props.loggedInUser.imageUrl ?\r\n                <img src={props.loggedInUser.imageUrl} alt={props.loggedInUser.firstName} /> :\r\n                <i className=\"fas fa-user\"></i>}\r\n        </div>)\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => (\r\n    {\r\n        loggedInUser: state.auth.loggedInUser,\r\n    }\r\n);\r\nexport default connect(mapStateToProps, undefined)(UserThumb);","import React from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { showModal } from '../../actions/GenericActions';\r\nimport WebsiteShare from './WebsiteShare'\r\nimport UserThumb from '../UserThumb';\r\nimport Loader from '../Loader';\r\nimport TemplateListModal from '../Modal/TemplateListModal';\r\n\r\nclass DashboardSideNav extends React.Component {\r\n    get wapList() {\r\n        return (\r\n            <ul className=\"websites-list clean-list\">\r\n                {this.props.userWaps && this.props.userWaps.map(wap =>\r\n                    <li key={wap._id}><Link to='#' onClick={() =>\r\n                        this.props.showModal({ component: WebsiteShare, websiteData: wap, inDash: true, history: this.props.history })}>\r\n                        {wap.settings.name}</Link></li>)}\r\n                <li><Link to='#' onClick={() => this.props.showModal({ component: TemplateListModal })}>\r\n                    + Create new website</Link></li>\r\n            </ul>);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <nav className=\"dashboard-nav\">\r\n                <div className=\"dashboard-nav-container\">\r\n                    <UserThumb />\r\n                    <ul className=\"clean-list\">\r\n                        <li>Your Websites\r\n                        {this.props.userWaps ? this.wapList : <Loader />}\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = { showModal };\r\nexport default connect(undefined, mapDispatchToProps)(DashboardSideNav);\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Card, CardActionArea, CardActions, CardContent, CardMedia, Button, Typography } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles({\r\n    card: {\r\n        maxWidth: 345,\r\n    },\r\n    media: {\r\n        height: 140,\r\n    },\r\n});\r\n\r\nexport default function WapPreview(props) {\r\n    const classes = useStyles();\r\n    const { thumbnailUrl, name } = props.wap.settings;\r\n    return (\r\n        <Card className={classes.card}>\r\n            <CardActionArea>\r\n                <CardMedia className={classes.media} image={thumbnailUrl || '/images/imagena.png'} title=\"Contemplative Reptile\"\r\n                />\r\n                <CardContent>\r\n                    <Typography gutterBottom variant=\"h5\" component=\"h2\" className=\"text-center\">\r\n                        {name}\r\n                    </Typography>\r\n                </CardContent>\r\n            </CardActionArea>\r\n            <CardActions className=\"flex space-around\">\r\n                <a href={`https://wap-ca.herokuapp.com/${props.wap._id}`} target='mywebsite'>\r\n                    <Button size=\"small\" color=\"primary\">View</Button>\r\n                </a>\r\n                <Button size=\"small\" href={`/editor/${props.wap._id}/wap`} color=\"primary\">Edit</Button>\r\n                <Button onClick={() => props.deleteWap(props.wap._id)} size=\"small\" color=\"primary\">Delete</Button>\r\n            </CardActions>\r\n        </Card >\r\n    )\r\n\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { showModal } from '../../actions/GenericActions';\r\n\r\nimport WapPreview from './WapPreview';\r\nimport TemplateListModal from '../Modal/TemplateListModal';\r\n\r\nclass Landing extends Component {\r\n\r\n    get wapList() {\r\n        return this.props.userWaps && this.props.userWaps.map(wap =>\r\n            <WapPreview deleteWap={this.props.deleteWap} key={wap._id} wap={wap}></WapPreview>)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <h2 className='text-center m20 large-font'>Welcome {this.props.loggedInUser.firstName}!</h2>\r\n                <h4 className='bottom-divider medium-font'>Your Websites:</h4>\r\n                {this.wapList &&\r\n                    !this.wapList.length ?\r\n                    <button className='new-website-btn flex auto-center'\r\n                        onClick={() => this.props.showModal({ component: TemplateListModal })}>+</button> :\r\n                    <div className='wap-list-container'>\r\n                        {this.wapList}\r\n                    </div>}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => (\r\n    {\r\n        loggedInUser: state.auth.loggedInUser\r\n    }\r\n);\r\nconst mapDispatchToProps = { showModal };\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Landing);\r\n","import React from 'react';\r\n\r\nexport default function WapManager(props) {\r\n    console.log(props)\r\n    return (\r\n        <div>test</div>\r\n    )\r\n\r\n}\r\n","import React from 'react';\r\nimport { Router, Switch, Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport wapService from '../services/wapService';\r\nimport { displayNotificationBox, toggleLoader } from '../actions/GenericActions';\r\nimport DashboardSideNav from '../cmps/Dashboard/DashboardSideNav';\r\nimport Landing from '../cmps/Dashboard/Landing';\r\nimport WapManager from '../cmps/Dashboard/WapManager';\r\nimport Loader from '../cmps/Loader';\r\n\r\nclass Dashboard extends React.Component {\r\n    state = {\r\n        userWaps: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadWaps()\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (!this.state.userWaps && this.props.loggedInUser) {\r\n            this.loadWaps()\r\n        }\r\n    }\r\n\r\n    async loadWaps() {\r\n        let userWaps = await wapService.query(); // to change to user websites\r\n        this.setState({ userWaps });\r\n    }\r\n\r\n    onDeleteWap = async (wapId) => {\r\n        const { toggleLoader, displayNotificationBox } = this.props\r\n        toggleLoader()\r\n        try {\r\n            await wapService.deleteById(wapId)\r\n            this.loadWaps()\r\n            displayNotificationBox({ type: 'success', message: 'Website deleted successfully' })\r\n        } catch (err) {\r\n            displayNotificationBox({ type: 'failure', message: 'Failed to delete website' })\r\n        }\r\n        toggleLoader()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.loggedInUser) return <Loader />;\r\n        const { userWaps } = this.state;\r\n        return (\r\n            <Router history={this.props.history}>\r\n                <div className=\"dashboard-wrapper\">\r\n                    <DashboardSideNav userWaps={userWaps} history={this.props.history} />\r\n                    <div className=\"dashboard-main-content\">\r\n                        <Switch>\r\n                            <Route path=\"/dashboard/wap/:id?\" component={WapManager} />\r\n                            <Route path=\"/dashboard\"\r\n                                render={(props) => <Landing {...props} deleteWap={this.onDeleteWap}\r\n                                    userWaps={userWaps} />} />\r\n                        </Switch>\r\n                    </div>\r\n                </div>\r\n            </Router>);\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => (\r\n    {\r\n        loggedInUser: state.auth.loggedInUser\r\n    }\r\n);\r\nconst mapDispatchToProps = { toggleLoader, displayNotificationBox };\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);","import React, { Component } from 'react'\r\nexport default class About extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <section className='section'>\r\n\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","export const initialValuesMap = {\r\n    spacing: '0 0 0 0',\r\n    sizing: '0px',\r\n    direction: 'row',\r\n    align: 'stretch',\r\n    justify: 'space-between',\r\n    grow: '1'\r\n};\r\n\r\nfunction isTextCmp(cmpRole) {\r\n    switch (cmpRole) {\r\n        case 'text':\r\n            return true\r\n        case 'button':\r\n            return true\r\n        case 'title':\r\n            return true\r\n        default:\r\n            return false\r\n    }\r\n}\r\n\r\nfunction isMediaCmp(cmpRole) {\r\n    switch (cmpRole) {\r\n        case 'img':\r\n            return true;\r\n        case 'video':\r\n            return true;\r\n        case 'map':\r\n            return true;\r\n        case 'media':\r\n            return true;\r\n        default:\r\n            return false;\r\n    }\r\n}\r\n\r\nfunction isSectionCmp(cmpRole) {\r\n    switch (cmpRole) {\r\n        case 'form':\r\n            return true;\r\n        case 'section':\r\n            return true;\r\n        case 'card':\r\n            return true;\r\n        case 'nav':\r\n            return true;\r\n        case '_root':\r\n            return false;\r\n        default:\r\n            return false;\r\n    }\r\n}\r\n\r\nfunction getSectionTitle(role) {\r\n    if (isMediaCmp(role)) return 'Source';\r\n    switch (role) {\r\n        case 'text':\r\n            return 'Text';\r\n        case 'map':\r\n            return 'Location';\r\n        case 'button':\r\n        case 'input':\r\n            return 'Inner Text Edit';\r\n        case '_root':\r\n            return 'Website Settings';\r\n        default:\r\n            return 'Inner Content Alignment';\r\n    }\r\n}\r\n\r\nfunction isDisabled(sizeProperty, cmp, parentFlexDir) {\r\n    const cmpFlexGrow = cmp.prefs.style.flexGrow || initialValuesMap.grow;\r\n    let isDisable = false;\r\n\r\n    if (cmpFlexGrow === '1') {\r\n        if ((sizeProperty === 'maxWidth' && parentFlexDir === 'row') ||\r\n            (sizeProperty === 'minHeight' && parentFlexDir === 'column'))\r\n            isDisable = true;\r\n    }\r\n\r\n    return isDisable;\r\n}\r\n\r\nfunction isAlignmentActive(alignment, cmp) {\r\n    let isActive;\r\n    const { flexDirection, alignItems, justifyContent } = cmp.prefs.style,\r\n        direction = flexDirection ? flexDirection : 'row';\r\n\r\n    const dirRow = direction === 'row',\r\n        dirCol = direction === 'column',\r\n        alignStretch = !alignItems || alignItems === 'stretch',\r\n        alignStart = alignItems === 'flex-start',\r\n        alignCenter = alignItems === 'center',\r\n        alignEnd = alignItems === 'flex-end',\r\n        justifyBetween = !justifyContent || justifyContent === 'space-between',\r\n        justifyStart = justifyContent === 'flex-start',\r\n        justifyCenter = justifyContent === 'center',\r\n        justifyEnd = justifyContent === 'flex-end';\r\n\r\n    switch (alignment) {\r\n        case 'space-between':\r\n            isActive = justifyBetween;\r\n            break;\r\n        case 'stretch':\r\n            isActive = alignStretch;\r\n            break;\r\n        case 'top':\r\n            isActive = (dirRow && alignStart) || (dirCol && justifyStart);\r\n            break;\r\n        case 'middle':\r\n            isActive = (dirRow && alignCenter) || (dirCol && justifyCenter);\r\n            break;\r\n        case 'bottom':\r\n            isActive = (dirRow && alignEnd) || (dirCol && justifyEnd);\r\n            break;\r\n        case 'left':\r\n            isActive = (dirCol && alignStart) || (dirRow && justifyStart);\r\n            break;\r\n        case 'center':\r\n            isActive = (dirCol && alignCenter) || (dirRow && justifyCenter);\r\n            break;\r\n        case 'right':\r\n            isActive = (dirCol && alignEnd) || (dirRow && justifyEnd);\r\n            break;\r\n        default:\r\n            isActive = false;\r\n    }\r\n    return isActive ? 'active' : '';\r\n}\r\n\r\nfunction removeRedundantStyles(style) {\r\n    if (style.width) delete style.width;\r\n    if (style.height) delete style.height;\r\n    if (style.minHeight === 'initial') delete style.minHeight;\r\n    if (style.maxWidth === '100%' || style.maxWidth === 'initial') delete style.maxWidth;\r\n    if (style.justifyContent === 'space-between') delete style.justifyContent;\r\n    if (style.alignItems === 'stretch') delete style.alignItems;\r\n    if (style.padding === '0' || style.padding === '0px' || style.padding === '0px 0px 0px 0px') delete style.padding;\r\n    if (style.margin === '0' || style.margin === '0px' || style.margin === '0px 0px 0px 0px') delete style.margin;\r\n    if (style.borderRadius === '0' || style.borderRadius === '0px' || style.borderRadius === '0px 0px 0px 0px') delete style.borderRadius;\r\n    if (style.fontSize === '16') delete style.fontSize;\r\n    if (style.backgroundColor && style.backgroundColor.match(/rgba\\(\\d+,\\d+,\\d+,0\\)/)) delete style.backgroundColor\r\n    if (style.fontWeight === 'normal') delete style.fontWeight;\r\n    return style;\r\n}\r\n\r\nexport default {\r\n    isMediaCmp,\r\n    isTextCmp,\r\n    isSectionCmp,\r\n    getSectionTitle,\r\n    initialValuesMap,\r\n    isAlignmentActive,\r\n    isDisabled,\r\n    removeRedundantStyles\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { updateSettings } from '../../../../../actions/EditorActions';\r\nimport { uploadImg } from '../../../../../services/utils';\r\nimport { Button } from '@material-ui/core';\r\nimport { displayNotificationBox } from '../../../../../actions/GenericActions';\r\n\r\nclass DraftSettingsUpdate extends React.Component {\r\n    state = {\r\n        name: '',\r\n        thumbnailUrl: '',\r\n        pages: []\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ ...this.props.draftSettings });\r\n    }\r\n\r\n    handleInput = (ev) => {\r\n        const { name, value } = ev.target;\r\n        this.setState({ [name]: value }, this.updateSettings)\r\n    }\r\n\r\n    onUploadImg = async (ev) => {\r\n        this.props.toggleLoader();\r\n\r\n        let url;\r\n        try {\r\n            let imageData = await uploadImg(ev);\r\n            url = imageData.url;\r\n        } catch (err) {\r\n            this.props.displayNotificationBox({ type: 'failure', message: 'Failed to upload image' });\r\n            url = '';\r\n        }\r\n\r\n        this.props.toggleLoader();\r\n        this.setState({ thumbnailUrl: url }, this.updateSettings);\r\n    }\r\n\r\n    updateSettings() {\r\n        this.props.updateSettings(this.state);\r\n    }\r\n\r\n    render() {\r\n        const { name, thumbnailUrl } = this.state;\r\n        return (\r\n            <React.Fragment>\r\n                <div className='input-wrapper'>\r\n                    <label>Site Name</label>\r\n                    <input type='text' placeholder='Webify' className='bottom-item'\r\n                        name='name' value={name} onChange={this.handleInput} />\r\n                </div>\r\n\r\n                <div className='input-wrapper'>\r\n                    <div className='upload-site-thumbnail'>\r\n                        <label>Thumbnail</label>\r\n                        <input style={{ display: 'none' }} accept='image/*' onChange={this.onUploadImg}\r\n                            name='src' id='img-upload' type='file' />\r\n                        <label htmlFor='img-upload'>\r\n                            <Button variant='contained' color='primary' component='span' title='siteImg'>\r\n                                <i className='fas fa-upload'></i>\r\n                            </Button>\r\n                        </label>\r\n                    </div>\r\n                    <div className='site-thumbnail'>\r\n                        <img src={thumbnailUrl || '/images/imagena.png'} alt={name} />\r\n                    </div>\r\n                    <input type='text' placeholder='Or enter thumbnail URL' className='bottom-item'\r\n                        name='thumbnailUrl' value={thumbnailUrl || ''} onChange={this.handleInput} />\r\n                </div>\r\n            </React.Fragment >\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({ draftSettings: state.draft.settings });\r\nconst mapDispatchToProps = { updateSettings, displayNotificationBox };\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DraftSettingsUpdate);\r\n","import React, { Component } from 'react';\r\nimport { ChromePicker } from 'react-color';\r\nimport { Button } from '@material-ui/core';\r\n\r\nexport default class ColorPicker extends Component {\r\n    state = {\r\n        color: '',\r\n        showColorPicker: false\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.selectedCmpId !== this.props.selectedCmpId) {\r\n            this.setState({ showColorPicker: false })\r\n        }\r\n    }\r\n\r\n    toggleColorPicker = () => {\r\n        this.setState(prevState => ({ showColorPicker: !prevState.showColorPicker }))\r\n    }\r\n\r\n    handleColorChange = (color) => {\r\n        const { r, g, b, a } = color.rgb;\r\n        this.props.onColorChange(this.props.name, `rgba(${r},${g},${b},${a})`);\r\n    }\r\n\r\n    render() {\r\n        const { showColorPicker } = this.state;\r\n        return (\r\n            <div className='flex space-between colorpick-container input-group'>\r\n                <label>{this.props.name === 'color' ? 'Color' : 'Background Color'}</label>\r\n                <Button variant=\"contained\" style={{ backgroundColor: this.props.color }}\r\n                    title={this.props.name} onClick={this.toggleColorPicker}>\r\n                    <i className={this.props.icon}></i>\r\n                </Button>\r\n                {showColorPicker &&\r\n                    <React.Fragment>\r\n                        <div className='colorpicker-cover' onClick={this.toggleColorPicker} />\r\n                        <ChromePicker color={this.props.color} onChange={this.handleColorChange} />\r\n                    </React.Fragment>}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { FormControl, InputLabel, Input } from '@material-ui/core';\r\n\r\nexport default function SliderInput(props) {\r\n    return (\r\n        <FormControl size='small'>\r\n            <InputLabel htmlFor={`${props.field}`} >{props.label}</InputLabel>\r\n            <Input id={`${props.field}`} type='number' onChange={props.handleChange} inputProps={{ min: \"0\" }}\r\n                value={parseInt(props.initialValue || 0, 10)} />\r\n        </FormControl>\r\n    );\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Slider, FormGroup, Tooltip } from '@material-ui/core';\r\nimport DetailedInput from './DetailedInput';\r\n\r\nconst rangeValueMap = {\r\n    max: {\r\n        low: 100,\r\n        medium: 500,\r\n        high: 1500\r\n    },\r\n    min: {\r\n        low: 0,\r\n        medium: 5,\r\n        high: 50\r\n    }\r\n}\r\n\r\nexport default class SliderInput extends Component {\r\n    state = {\r\n        isDetailsOpen: false\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.selectedCmpId !== this.props.selectedCmpId) {\r\n            this.setState({ isDetailsOpen: false })\r\n        }\r\n    }\r\n\r\n    joinAttribute = (value) => {\r\n        if (!this.isSplitAttr(this.props.field)) return value\r\n        return `${value}px ${value}px ${value}px ${value}px`\r\n    }\r\n\r\n    formatValue = (value = '0') => {\r\n        let newAttrArray = value.split(' ')\r\n        if (newAttrArray.length !== 4) {\r\n            return this.joinAttribute(parseInt(value, 10)).split(' ')\r\n        }\r\n        return newAttrArray\r\n    }\r\n\r\n    handleAttributeChange = (i, value) => {\r\n        let newAttrArray = this.formatValue(this.props.initialValue)\r\n        newAttrArray[i] = `${value}px`\r\n        this.props.handleChange(this.props.field, newAttrArray.join(' '))\r\n    }\r\n\r\n    getRangeValues(field) {\r\n        let maxInput, minInput = rangeValueMap.min.low;\r\n        const { min, max } = rangeValueMap\r\n        switch (field) {\r\n            case 'fontSize':\r\n                minInput = min.medium\r\n                break;\r\n            case 'borderRadius':\r\n                minInput = min.low\r\n                break;\r\n            case 'letterSpacing':\r\n                maxInput = max.low\r\n                break;\r\n            case 'padding':\r\n            case 'margin':\r\n                maxInput = max.medium\r\n                break;\r\n            case 'maxWidth':\r\n            case 'minHeight':\r\n                maxInput = max.high\r\n                minInput = 1;\r\n                break;\r\n            default:\r\n                maxInput = max.high\r\n                minInput = min.low\r\n                break;\r\n        }\r\n        return { maxInput, minInput }\r\n    }\r\n\r\n    toggleDetails = () => {\r\n        this.setState(prevState => ({ isDetailsOpen: !prevState.isDetailsOpen }))\r\n    }\r\n\r\n    isSplitAttr(attr) {\r\n        switch (attr) {\r\n            case 'padding': return true\r\n            case 'margin': return true\r\n            case 'borderRadius': return true\r\n            default: return false;\r\n        }\r\n    }\r\n\r\n    get tooltip() {\r\n        switch (this.props.field) {\r\n            case 'padding': return 'Spacing of the element from the inside'\r\n            case 'margin': return 'Spacing of the element from the outside'\r\n            case 'borderRadius': return 'Rounded corners radius'\r\n            case 'letterSpacing': return 'Spacing between the letters'\r\n            case 'fontSize': return 'Text size'\r\n            default: return 'customize'\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const sides = ['Top', 'Right', 'Bottom', 'Left']\r\n        const { field, initialValue, label } = this.props;\r\n        const { maxInput, minInput } = this.getRangeValues(field);\r\n        return (\r\n            <React.Fragment>\r\n                {label &&\r\n                    <label>\r\n                        {label}  <Tooltip title={this.tooltip} placement='bottom' arrow>\r\n                            <i className='fas fa-question-circle'></i></Tooltip>\r\n                    </label>}\r\n                <div className='flex range-container'>\r\n                    <Slider min={minInput} max={maxInput} value={parseInt(initialValue, 10) || 0}\r\n                        onChange={(ev, newValue) => this.props.handleChange(field, this.joinAttribute(newValue))}\r\n                        valueLabelDisplay='auto' disabled={this.props.disabled} />\r\n                    {this.isSplitAttr(field) && <i onClick={this.toggleDetails}\r\n                        className={'detail-toggle fas fa-caret-square-down' + (this.state.isDetailsOpen ? ' open' : '')} />}\r\n                </div>\r\n\r\n                {this.isSplitAttr(field) &&\r\n                    <div className={'detailed-range' + (this.state.isDetailsOpen ? ' open' : '')}>\r\n                        <FormGroup className='detail-form' row>\r\n                            {this.formatValue(initialValue).map((value, i) =>\r\n                                <DetailedInput key={i} label={sides[i]} field={field + sides[i]} initialValue={value}\r\n                                    handleChange={(ev) => this.handleAttributeChange(i, ev.target.value)} />)}\r\n                        </FormGroup>\r\n                    </div>}\r\n            </React.Fragment>);\r\n    }\r\n\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Select, MenuItem, Tooltip, Button } from '@material-ui/core';\r\nimport ColorPicker from './ColorPicker';\r\nimport SliderInput from './SliderInput';\r\nimport { setLinkCmpId } from '../../../../../actions/EditorActions';\r\n\r\nfunction TextStyle(props) {\r\n    const fontsList = ['Helvetica', 'OpenSans', 'Cursive', 'Courgette', 'Roboto', 'Caveat', 'Solway',\r\n        'Pacifio', 'Lobster', 'Dancing Script', 'Nunito', 'Railway', 'Futura Light']\r\n\r\n    const defaultValueMap = {\r\n        fontWeight: 'normal',\r\n        textAlign: 'left',\r\n        alignItems: 'flex-start',\r\n        fontFamily: 'OpenSans'\r\n    }\r\n    const { cmps } = props.draft,\r\n        { href } = props.cmp.prefs,\r\n        regex = /^#(el-[\\w]{4,6})$/;\r\n\r\n    const isHrefAnchor = href && regex.test(href);\r\n    const linkTargetCmpName = isHrefAnchor ? cmps[href.match(regex)[1]].cmpName : '';\r\n    const linkPlaceholder = isHrefAnchor ? 'Links to Anchor at: ' + linkTargetCmpName : 'Enter Link';\r\n\r\n\r\n    const cmpStyle = props.cmp.prefs.style;\r\n    return (\r\n        <React.Fragment>\r\n            <div className='input-wrapper'>\r\n                <textarea value={props.cmp.children[0]}\r\n                    rows={3} placeholder=\"Enter Text\" onChange={props.updateInnerTxt} />\r\n                <div className='link-text-input-group'>\r\n                    <textarea value={isHrefAnchor ? '' : props.cmp.prefs.href}\r\n                        rows='1' placeholder={linkPlaceholder} onChange={props.updateCmpLink} />\r\n\r\n                    <Button variant='contained' color='primary' component='span' title='Place Anchor'\r\n                        onClick={() => props.setLinkCmpId(props.cmp._id)}>\r\n                        <i className=\"fas fa-anchor\"></i>\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n\r\n            <ColorPicker selectedCmpId={props.cmp._id} name='color' color={cmpStyle.color} icon='fas fa-font'\r\n                onColorChange={props.handleStyleChange} />\r\n\r\n            <div className='input-group'>\r\n                <label>Align</label>\r\n                <Select value={cmpStyle.textAlign || defaultValueMap.textAlign} name='textAlign'\r\n                    onChange={props.handleStyleChange}>\r\n                    <MenuItem value={'left'}>Left</MenuItem>\r\n                    <MenuItem value={'center'}>Center</MenuItem>\r\n                    <MenuItem value={'right'}>Right</MenuItem>\r\n                </Select>\r\n            </div>\r\n\r\n            <div className='input-group'>\r\n                <label>Vertical Align</label>\r\n                <Select value={cmpStyle.alignItems || defaultValueMap.alignItems} name='alignItems'\r\n                    onChange={props.handleStyleChange}>\r\n                    <MenuItem value={'flex-start'}>Top</MenuItem>\r\n                    <MenuItem value={'center'}>Middle</MenuItem>\r\n                    <MenuItem value={'flex-end'}>Bottom</MenuItem>\r\n                </Select>\r\n            </div>\r\n\r\n            <div className='input-group'>\r\n                <SliderInput field='fontSize' label='Text Size' initialValue={cmpStyle.fontSize}\r\n                    handleChange={props.handleStyleChange} />\r\n            </div>\r\n\r\n            <div className='input-group'>\r\n                <SliderInput field='letterSpacing' label='Letter Spacing' initialValue={cmpStyle.letterSpacing}\r\n                    handleChange={props.handleStyleChange} />\r\n            </div>\r\n\r\n            <div className='input-group'>\r\n                <label style={{ padding: '6px 0 7px' }}>Font   <Tooltip title=\"change font type\" placement=\"bottom\" arrow>\r\n                    <i className=\"fas fa-question-circle\"></i></Tooltip></label>\r\n                <Select value={cmpStyle.fontFamily || defaultValueMap.fontFamily} name='fontFamily'\r\n                    onChange={props.handleStyleChange}>\r\n                    {fontsList.map((font, i) => <MenuItem style={{ fontFamily: font }} key={i} value={font}>{font}</MenuItem>)}\r\n                </Select>\r\n            </div>\r\n\r\n            <div className='input-group'>\r\n                <label style={{ padding: '6px 0 7px' }}>Font Weight   <Tooltip title=\"change font boldness\"\r\n                    placement=\"bottom\" arrow>\r\n                    <i className=\"fas fa-question-circle\"></i></Tooltip></label>\r\n                <Select value={cmpStyle.fontWeight || defaultValueMap.fontWeight} name='fontWeight'\r\n                    onChange={props.handleStyleChange}>\r\n                    <MenuItem value={'normal'}>Normal</MenuItem>\r\n                    <MenuItem value={'bold'}>Bold</MenuItem>\r\n                </Select>\r\n            </div>\r\n        </React.Fragment>\r\n\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({ draft: state.draft });\r\nconst mapDispatchToProps = { setLinkCmpId };\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TextStyle);\r\n","import axios from 'axios';\r\n\r\n// Fake data for developing\r\n// let youtubeData = require('./data/youtube.json');\r\n// let unsplashData = require('./data/unsplash.json');\r\n\r\nexport async function getMediaFromSearch(query, type) {\r\n    let apiUrl = type === 'img' ?\r\n        `https://api.unsplash.com/search/photos?page=1&per_page=30&query=${query || 'Nature'}&client_id=05fd438aef6ac25dd06f537fcaffb66c3fd374a3fd0afaf18e4509bd0b6bfd46` :\r\n        `https://www.googleapis.com/youtube/v3/search?part=snippet&videoEmbeddable=true&type=video&maxResults=20&key=AIzaSyDARh-8oqGeyXu3wApEP7jwP2w_NRjTdY8&q=${query}`;\r\n\r\n    let result = await axios.get(apiUrl);\r\n    return aggregateMediaItems(result.data, type);\r\n    // return aggregateMediaItems(undefined, type);  // Fake data for developing\r\n}\r\n\r\nfunction aggregateMediaItems(data, type) {\r\n    return type === 'img' ?\r\n        data.results.map(imgObj => aggregateUnsplashObj(imgObj)) :\r\n        data.items.map(videoObj => aggregateYoutubeObj(videoObj));\r\n    // return type === 'img' ? unsplashData : youtubeData; // Fake data for developing\r\n}\r\n\r\nfunction aggregateYoutubeObj(youtubeObj) {\r\n    return {\r\n        thumbnailSrc: youtubeObj.snippet.thumbnails.medium.url,\r\n        src: youtubeObj.id.videoId,\r\n        title: youtubeObj.snippet.title,\r\n    };\r\n}\r\n\r\nfunction aggregateUnsplashObj(unsplashObj) {\r\n    return {\r\n        thumbnailSrc: unsplashObj.urls.small,\r\n        src: unsplashObj.urls.regular\r\n    };\r\n}\r\n","import React from 'react';\r\n\r\nexport default function ImagePreview(props) {\r\n    const { img, onSelectItem } = props;\r\n    return (\r\n        <li onClick={() => onSelectItem(img.src)}>\r\n            <div className='img-thumbnail-wrapper'>\r\n                <img src={img.thumbnailSrc} alt='Search Result' />\r\n            </div>\r\n        </li>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport default function ImagePreview(props) {\r\n    const { video, onSelectItem } = props;\r\n    return (\r\n        <li onClick={() => onSelectItem(video.src)}>\r\n            <div className='video-thumbnail-wrapper'>\r\n                <img src={video.thumbnailSrc} alt='Search Result' />\r\n            </div>\r\n            <span className='media-title'>{video.title}</span>\r\n        </li>\r\n    );\r\n}","import React from 'react';\r\nimport { getMediaFromSearch } from '../../../../../services/mediaApiService.js';\r\nimport Loader from '../../../../Loader.jsx';\r\nimport ImagePreview from './MediaApiSelector/ImagePreview.jsx';\r\nimport VideoPreview from './MediaApiSelector/VideoPreview.jsx';\r\nimport { debounce } from '../../../../../services/utils.js';\r\n\r\nexport default class MediaApiSelector extends React.Component {\r\n    state = {\r\n        searchQuery: '',\r\n        mediaItems: null\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.loadMediaItems = debounce(this.loadMediaItems, 500);\r\n    }\r\n\r\n    loadMediaItems = async (searchQuery = this.state.searchQuery) => {\r\n        let mediaItems = await getMediaFromSearch(searchQuery, this.apiType);\r\n        this.setState({ mediaItems });\r\n    }\r\n\r\n    get apiType() {\r\n        return this.props.transData.apiType;\r\n    }\r\n\r\n    handleSearch = (ev) => {\r\n        const { value } = ev.target;\r\n        this.setState({ searchQuery: value }, this.loadMediaItems);\r\n    }\r\n\r\n    onSelectItem = (src) => {\r\n        this.props.onModalClose();\r\n        src = this.apiType === 'video' ? `https://www.youtube.com/watch?v=${src}` : src;\r\n        return this.props.transData.onSelectItem(src);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadMediaItems();\r\n    }\r\n\r\n    render() {\r\n        const { mediaItems, searchQuery } = this.state;\r\n        return (\r\n            <div className='api-media-search-modal flex column'>\r\n                <div className='actions-panel flex space-between align-center'>\r\n                    <input type='search' placeholder='Search' value={searchQuery} onChange={this.handleSearch} />\r\n                    {/* <span className='pagination text-center'>{'< 1 / 3 >'}</span> */}\r\n                </div>\r\n                <div className='cards-container'>\r\n                    {!mediaItems ?\r\n                        <Loader /> :\r\n                        <ul className='api-media-cards clean-list'>\r\n                            {this.apiType === 'video' ?\r\n                                mediaItems.map((video, idx) => <VideoPreview key={idx} video={video} onSelectItem={this.onSelectItem} />) :\r\n                                mediaItems.map((img, idx) => <ImagePreview key={idx} img={img} onSelectItem={this.onSelectItem} />)}\r\n                        </ul>}\r\n                </div>\r\n            </div>);\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Button } from '@material-ui/core'\r\nimport { showModal } from '../../../../../actions/GenericActions';\r\nimport MediaApiSelector from './MediaApiSelector';\r\nimport { connect } from 'react-redux';\r\n\r\nclass MediaSourceChange extends Component {\r\n    state = {\r\n        isUrlBoxOpen: false,\r\n        urlText: ''\r\n    }\r\n\r\n    get urlFromBgImg() {\r\n        const bgImg = this.props.cmp.prefs.style.backgroundImage;\r\n        if (bgImg)\r\n            return bgImg.match(/\\((.*?)\\)/)[1].replace(/('|\")/g, '');\r\n        return '';\r\n    }\r\n\r\n    getMapLocationString(src) {\r\n        let locationName = src.match(/q=(.*)&t/);\r\n        if (locationName)\r\n            return locationName = locationName[1].replace('%20', ' ');\r\n        return '';\r\n    }\r\n\r\n    toggleUrlTextbox = () => {\r\n        this.setState((prevState) => ({ isUrlBoxOpen: !prevState.isUrlBoxOpen }));\r\n    }\r\n\r\n    get mediaSrc() {\r\n        let src = this.props.cmp.children[0].prefs.src;\r\n        return this.props.cmp.role === 'map' ? this.getMapLocationString(src) : src;\r\n    }\r\n\r\n    showApiModal = () => {\r\n        const { showModal, updateMediaSrc, cmp } = this.props,\r\n            apiType = cmp.role === 'video' ? 'video' : 'img';\r\n        return showModal({ component: MediaApiSelector, onSelectItem: updateMediaSrc, apiType });\r\n    }\r\n\r\n    handleUrlSave = () => {\r\n        this.props.updateMediaSrc(this.state.urlText);\r\n        this.setState({ urlText: '', isUrlBoxOpen: false });\r\n\r\n    }\r\n\r\n    handleInput = (ev) => {\r\n        const { name, value } = ev.target;\r\n        this.setState({ [name]: value });\r\n    }\r\n\r\n    render() {\r\n        const { onUploadImg, updateMediaSrc, cmp } = this.props;\r\n        if (cmp.role === 'video' || cmp.role === 'img') {\r\n            return (\r\n                <React.Fragment>\r\n                    <div className='input-group'>\r\n                        <label>Upload</label>\r\n                        <input style={{ display: 'none' }} accept='image/*' onChange={onUploadImg}\r\n                            id='img-upload' type='file' />\r\n                        <label htmlFor='img-upload'>\r\n                            <Button variant='contained' color='primary' component='span' title='Upload Your Image'>\r\n                                <i className='fas fa-upload'></i>\r\n                            </Button>\r\n                        </label>\r\n                    </div>\r\n\r\n                    <div className='input-group'>\r\n                        <label>Search</label>\r\n                        <label>\r\n                            <Button variant='contained' color='primary' component='span' title='Search Online'\r\n                                onClick={this.showApiModal}>\r\n                                <i className='fas fa-search'></i>\r\n                            </Button>\r\n                        </label>\r\n                    </div>\r\n\r\n                    <div className='input-group'>\r\n                        <label>URL</label>\r\n                        <label>\r\n                            <Button variant='contained' color='primary' component='span' title='URL' onClick={this.toggleUrlTextbox}>\r\n                                <i className='fas fa-link'></i>\r\n                            </Button>\r\n                        </label>\r\n                        <div className={'slider-input-container flex space-between' + (this.state.isUrlBoxOpen ? ' open' : '')}>\r\n                            <input type='text' name='urlText' placeholder='Enter URL Here' value={this.state.urlText} onChange={this.handleInput} />\r\n\r\n                            <Button variant='contained' color='primary' component='span' title='Save URL' onClick={this.handleUrlSave}>\r\n                                <i className=\"far fa-save\"></i>\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </React.Fragment>)\r\n\r\n        } else if (cmp.role === 'map') {\r\n            return (\r\n                <div className='input-wrapper'>\r\n                    <label>Location Address</label>\r\n                    <input type='text' placeholder={cmp.role === 'map' ? 'Location Address' : 'URL'} className='bottom-item'\r\n                        value={this.mediaSrc} onChange={ev => updateMediaSrc(ev.target.value)} />\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div className='input-wrapper'>\r\n                    <label htmlFor=''>Background Image</label>\r\n                    <div className='bottom-item flex space-between wrap'>\r\n                        <input style={{ display: 'none' }} accept='image/*' onChange={onUploadImg}\r\n                            id='img-upload' type='file' />\r\n                        <label htmlFor='img-upload'>\r\n                            <Button variant='contained' color='primary' component='span' title='Background Image'>\r\n                                <i className='fas fa-upload'></i>\r\n                            </Button>\r\n                        </label>\r\n                        <Button variant='contained' color='primary' component='span' title='Search Online'\r\n                            onClick={this.showApiModal}>\r\n                            <i className='fas fa-search'></i>\r\n                        </Button>\r\n                        <Button variant='contained' color='primary' component='span' title='URL' onClick={this.toggleUrlTextbox}>\r\n                            <i className='fas fa-link'></i>\r\n                        </Button>\r\n                        <div className={'slider-input-container flex space-between' + (this.state.isUrlBoxOpen ? ' open' : '')}>\r\n                            <input type='text' name='urlText' placeholder='Enter URL Here' value={this.state.urlText} onChange={this.handleInput} />\r\n\r\n                            <Button variant='contained' color='primary' component='span' title='Save URL' onClick={this.handleUrlSave}>\r\n                                <i className=\"far fa-save\"></i>\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\nconst mapDispatchToProps = { showModal };\r\nexport default connect(undefined, mapDispatchToProps)(MediaSourceChange);","import React from 'react';\r\nimport { Button, Select, MenuItem, ButtonGroup, Tooltip, Switch } from '@material-ui/core';\r\n\r\nimport helpers from './helpers';\r\nimport DraftSettingsUpdate from './Partials/DraftSettingsUpdate';\r\nimport TextStyle from './Partials/TextStyle';\r\nimport MediaSourceChange from './Partials/MediaSourceChange';\r\n\r\nexport default class MainSection extends React.Component {\r\n\r\n    handleFlexChange = (ev) => {\r\n        const { handleStyleChange, cmp } = this.props;\r\n\r\n        const direction = cmp.prefs.style.flexDirection,\r\n            field = ev.target.name,\r\n            value = ev.target.value;\r\n\r\n        const isVertical = field === 'top' || field === 'middle' || field === 'bottom';\r\n\r\n        let attribute = direction === 'column' ?\r\n            (isVertical ? 'justifyContent' : 'alignItems') :\r\n            (isVertical ? 'alignItems' : 'justifyContent');\r\n\r\n        handleStyleChange(attribute, value)\r\n    }\r\n\r\n    isAlignActive = (alignment) => {\r\n        return helpers.isAlignmentActive(alignment, this.props.cmp);\r\n    }\r\n\r\n\r\n    render() {\r\n        const { handleStyleChange, cmp, onUploadImg, toggleLoader,\r\n            updateCmpLink, updateInnerTxt, updateMediaSrc } = this.props;\r\n        const { isAlignActive, handleFlexChange } = this;\r\n\r\n        const cmpRole = cmp.role,\r\n            cmpStyle = cmp.prefs.style;\r\n        return (\r\n            <React.Fragment>\r\n                { cmpRole === '_root' && <DraftSettingsUpdate toggleLoader={ toggleLoader } /> }\r\n\r\n                { cmpRole === 'input' && <div className=\"input-group\">\r\n                    <label htmlFor=\"\">Placeholder</label>\r\n                    <input type=\"text\" value={ cmp.children[0].prefs.placeholder }\r\n                        onChange={ (ev) => handleStyleChange('placeholder', ev.target.value) } />\r\n                </div> }\r\n\r\n                { (helpers.isTextCmp(cmpRole)) &&\r\n                    <TextStyle updateCmpLink={ updateCmpLink } handleStyleChange={ handleStyleChange }\r\n                        updateInnerTxt={ updateInnerTxt } cmp={ cmp } /> }\r\n\r\n                { helpers.isMediaCmp(cmpRole) &&\r\n                    <MediaSourceChange onUploadImg={ onUploadImg } cmp={ cmp } updateMediaSrc={ updateMediaSrc } /> }\r\n\r\n                { (helpers.isSectionCmp(cmpRole)) &&\r\n                    <div className='input-group'>\r\n                        <label>Orientation</label>\r\n                        <Select value={ cmpStyle.flexDirection || 'row' } name='flexDirection'\r\n                            onChange={ handleStyleChange }>\r\n                            <MenuItem value={ 'row' }>Horizontal</MenuItem>\r\n                            <MenuItem value={ 'column' }>Vertical</MenuItem>\r\n                        </Select>\r\n                    </div> }\r\n\r\n                { helpers.isSectionCmp(cmpRole) &&\r\n                    <React.Fragment>\r\n                        <ButtonGroup size='small' className='input-wrapper'>\r\n                            <Button className={ isAlignActive('top') } onClick={ handleFlexChange } name='top' value='flex-start'>Top</Button>\r\n                            <Button className={ isAlignActive('middle') } onClick={ handleFlexChange } name='middle' value='center'>Middle</Button>\r\n                            <Button className={ isAlignActive('bottom') } onClick={ handleFlexChange } name='bottom' value='flex-end'>Bottom</Button>\r\n                        </ButtonGroup>\r\n                        <ButtonGroup size='small' className='input-wrapper'>\r\n                            <Button className={ isAlignActive('left') } onClick={ handleFlexChange } name='left' value='flex-start'><i className='fas fa-align-left'></i></Button>\r\n                            <Button className={ isAlignActive('center') } onClick={ handleFlexChange } name='center' value='center'><i className='fas fa-align-center'></i></Button>\r\n                            <Button className={ isAlignActive('right') } onClick={ handleFlexChange } name='right' value='flex-end'><i className='fas fa-align-right'></i></Button>\r\n                        </ButtonGroup>\r\n\r\n                        <div className='input-group'>\r\n\r\n                            <label>\r\n                                Stretch { cmpStyle.flexDirection === 'column' ? 'Horizontally' : 'Vertically' }\r\n                                <Tooltip title={ 'Stretching all the elements inside perpendicular to the orientation' }\r\n                                    placement=\"bottom\" arrow><i className=\"fas fa-question-circle\"></i></Tooltip>\r\n                            </label>\r\n                            <div className='auto-switch-container'>\r\n                                <Switch checked={ isAlignActive('stretch') ? true : false }\r\n                                    onChange={ handleStyleChange } name='alignItems' value='stretch' />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className='input-group'>\r\n                            <label>\r\n                                Spacing\r\n                                <Tooltip title='Adds spacing between the elements automatically' placement=\"bottom\" arrow>\r\n                                    <i className=\"fas fa-question-circle\"></i>\r\n                                </Tooltip>\r\n                            </label>\r\n                            <div className='auto-switch-container'>\r\n                                <label>Auto</label>\r\n                                <Switch checked={ isAlignActive('space-between') ? true : false }\r\n                                    onChange={ handleStyleChange } name='justifyContent' value='space-between' />\r\n                            </div>\r\n                        </div>\r\n                    </React.Fragment> }\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Select, MenuItem, Switch, Tooltip } from '@material-ui/core';\r\n\r\nimport helpers, { initialValuesMap } from './helpers';\r\nimport SliderInput from './Partials/SliderInput';\r\n\r\n\r\nexport default class SizeSection extends React.Component {\r\n\r\n    setFlexGrow = () => {\r\n        const { handleStyleChange } = this.props;\r\n        const { maxWidth, flexGrow } = this.props.cmp.prefs.style;\r\n\r\n        let newFlexGrow = !flexGrow || flexGrow === '0' ? '1' : '0';\r\n\r\n        this.props.handleStyleChange('flexGrow', newFlexGrow);\r\n        if (this.parentFlexDir === 'row' && maxWidth && maxWidth !== 'initial' && newFlexGrow === '0') handleStyleChange('maxWidth', 'initial');\r\n    }\r\n\r\n    toggleSizeView = (ev) => {\r\n        const { name, checked } = ev.target;\r\n        const { handleStyleChange } = this.props;\r\n        const { flexGrow } = this.props.cmp.prefs.style;\r\n\r\n        let newValue = checked ? 'initial' : '1';\r\n        handleStyleChange(name, newValue);\r\n\r\n        if (name === 'maxWidth' && this.parentFlexDir === 'row' &&\r\n            newValue !== 'initial' && flexGrow === '0') handleStyleChange('flexGrow', '1');\r\n    }\r\n\r\n    get isWidthShown() {\r\n        const { style } = this.props.cmp.prefs;\r\n        if (style.maxWidth === 'initial' || !style.maxWidth ||\r\n            (this.parentFlexDir === 'row' && style.flexGrow === '0')) return false;\r\n        return true;\r\n    }\r\n\r\n    get isHeightShown() {\r\n        const { style } = this.props.cmp.prefs;\r\n        if (style.minHeight === 'initial' || !style.minHeight) return false;\r\n        return true;\r\n    }\r\n\r\n    get disabledStretchInfo() {\r\n        return this.isParentRoot ? 'this property is disabled when element is nested directly inside the root element.' : '';\r\n    }\r\n\r\n    get parentElementDataset() {\r\n        const elCurrCmp = document.querySelector(`#${this.props.cmp._id}`);\r\n        return elCurrCmp ? elCurrCmp.parentNode.dataset : null;\r\n    }\r\n\r\n    get parentFlexDir() {\r\n        return this.parentElementDataset ? this.parentElementDataset.orientation : undefined;\r\n    }\r\n\r\n    get isParentRoot() {\r\n        return this.parentElementDataset ? this.parentElementDataset.role === '_root' : undefined;\r\n    }\r\n\r\n    render() {\r\n        const { handleStyleChange, handleDatasetChange, cmp } = this.props;\r\n\r\n        const cmpRole = cmp.role,\r\n            cmpStyle = cmp.prefs.style;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className='input-group'>\r\n                    <label>Width</label>\r\n                    <div className='auto-switch-container'>\r\n                        <label>Auto</label>\r\n                        <Switch checked={!this.isWidthShown} name='maxWidth' onChange={this.toggleSizeView} />\r\n                    </div>\r\n                </div>\r\n\r\n                {this.isWidthShown &&\r\n                    <SliderInput field='maxWidth' selectedCmpId={cmp._id}\r\n                        initialValue={cmpStyle.maxWidth || initialValuesMap.sizing} handleChange={handleStyleChange} />\r\n                }\r\n\r\n                {(cmpRole !== '_root') &&\r\n                    <React.Fragment>\r\n                        <div className='input-group'>\r\n                            <label>Height</label>\r\n                            <div className='auto-switch-container'>\r\n                                <label>Auto</label>\r\n                                <Switch checked={!this.isHeightShown} name='minHeight' onChange={this.toggleSizeView} />\r\n                            </div>\r\n                        </div>\r\n                        {this.isHeightShown &&\r\n                            <SliderInput field='minHeight' selectedCmpId={cmp._id}\r\n                                initialValue={cmpStyle.minHeight || initialValuesMap.sizing} handleChange={handleStyleChange} />\r\n                        }\r\n\r\n                        <div className='input-group'>\r\n                            <label>\r\n                                Stretch {this.parentFlexDir === 'column' ? 'Vertically' : 'Horizontally'}\r\n                                <Tooltip title={'Stretching the element according to it\\'s parent orientation' + this.disabledStretchInfo}\r\n                                    placement=\"bottom\" arrow><i className=\"fas fa-question-circle\"></i></Tooltip>\r\n                            </label>\r\n                            <Switch checked={(!cmpStyle.flexGrow || cmpStyle.flexGrow === '0') ? false : true}\r\n                                onChange={this.setFlexGrow} value='flexGrow' color='primary' disabled={this.isParentRoot} />\r\n                        </div>\r\n\r\n                        {helpers.isMediaCmp(cmpRole) &&\r\n                            <div className='input-group'>\r\n                                <label>Aspect Ratio</label>\r\n                                <Select value={cmp.prefs['data-aspect'] || 'normal'} name='aspect'\r\n                                    onChange={handleDatasetChange}>\r\n                                    <MenuItem value={'normal'}>Normal</MenuItem>\r\n                                    <MenuItem value={'16-9'}>16:9</MenuItem>\r\n                                    <MenuItem value={'square'}>1:1</MenuItem>\r\n                                    <MenuItem value={'4-3'}>4:3</MenuItem>\r\n                                </Select>\r\n                            </div>}\r\n                    </React.Fragment>}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Select, MenuItem } from '@material-ui/core';\r\n\r\nimport helpers, { initialValuesMap } from './helpers';\r\nimport ColorPicker from './Partials/ColorPicker';\r\nimport SliderInput from './Partials/SliderInput';\r\nimport MediaSourceChange from './Partials/MediaSourceChange';\r\n\r\nexport default class LayoutSection extends React.Component {\r\n\r\n    render() {\r\n        const { handleStyleChange, cmp, onUploadImg, updateMediaSrc } = this.props;\r\n\r\n        const cmpRole = cmp.role,\r\n            cmpStyle = cmp.prefs.style;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                {cmpRole === '_root' &&\r\n                    <React.Fragment>\r\n                        <div className='input-group'>\r\n                            <label>Direction</label>\r\n                            <Select value={cmpStyle.direction || 'ltr'} name='direction'\r\n                                onChange={handleStyleChange}>\r\n                                <MenuItem value={'ltr'}>Left to Right</MenuItem>\r\n                                <MenuItem value={'rtl'}>Right to Left</MenuItem>\r\n                            </Select>\r\n                        </div>\r\n                    </React.Fragment>}\r\n\r\n                <ColorPicker name='backgroundColor' color={cmpStyle.backgroundColor} icon='fas fa-fill-drip'\r\n                    selectedCmpId={cmp._id} onColorChange={handleStyleChange} />\r\n\r\n                {helpers.isSectionCmp(cmpRole) &&\r\n                    <MediaSourceChange onUploadImg={onUploadImg} cmp={cmp} updateMediaSrc={updateMediaSrc} />}\r\n\r\n                <div className='input-group'>\r\n                    <SliderInput field='padding' label='Spacing' selectedCmpId={cmp._id}\r\n                        initialValue={cmpStyle.padding || initialValuesMap.spacing}\r\n                        handleChange={handleStyleChange} />\r\n                </div>\r\n\r\n                {(cmpRole !== '_root') &&\r\n                    <div className='input-group'>\r\n                        <SliderInput field='margin' label='Margin' selectedCmpId={cmp._id}\r\n                            initialValue={cmpStyle.margin || initialValuesMap.spacing}\r\n                            handleChange={handleStyleChange} />\r\n                    </div>}\r\n\r\n                {(helpers.isSectionCmp(cmpRole) || helpers.isMediaCmp(cmpRole)) &&\r\n                    <div className='input-group'>\r\n                        <SliderInput field='borderRadius' selectedCmpId={cmp._id} label='Radius'\r\n                            initialValue={cmpStyle.borderRadius || initialValuesMap.spacing}\r\n                            handleChange={handleStyleChange} />\r\n                    </div>}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nexport default function CmpNameChanger(props) {\r\n    let [cmpName, changeCmpName] = useState(props.cmp.cmpName);\r\n\r\n    useEffect(() => {\r\n        changeCmpName(props.cmp.cmpName);\r\n    }, [props.cmp._id, props.cmp.cmpName])\r\n\r\n    return (\r\n        <input type=\"text\" value={cmpName} id=\"cmpNameInput\"\r\n            onChange={(ev) => changeCmpName(ev.target.value)}\r\n            onBlur={() => props.handleCmpNameChange(cmpName)} />\r\n    )\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { uploadImg, getIdfromYoutubeUrl } from '../../../services/utils';\r\nimport { updateCmp } from '../../../actions/EditorActions';\r\nimport { toggleLoader, displayNotificationBox } from '../../../actions/GenericActions';\r\n\r\nimport { ExpansionPanel, ExpansionPanelSummary, ExpansionPanelDetails } from '@material-ui/core';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\nimport helpers from './EditPanel/helpers';\r\nimport MainSection from './EditPanel/MainSection';\r\nimport SizeSection from './EditPanel/SizeSection';\r\nimport LayoutSection from './EditPanel/LayoutSection';\r\nimport Loader from '../../Loader';\r\nimport CmpNameChanger from './EditPanel/Partials/CmpNameChanger';\r\n\r\n\r\nclass EditPanel extends React.Component {\r\n    state = {\r\n        cmp: null,\r\n        currentOpenPanel: 'main-section'\r\n    }\r\n\r\n    setCmpData() {\r\n        const { selectedCmpId, cmps } = this.props.draft;\r\n        const editedCmp = cmps[selectedCmpId];\r\n\r\n        editedCmp.prefs = editedCmp.prefs.style ? editedCmp.prefs : { ...editedCmp.prefs, style: {} };\r\n\r\n        this.setState({\r\n            cmp: editedCmp\r\n        });\r\n    }\r\n\r\n    get sectionTitle() {\r\n        return helpers.getSectionTitle(this.state.cmp.role);\r\n    }\r\n\r\n    updateInnerTxt = (ev) => {\r\n        const value = ev.target.value;\r\n        this.setState(prevState => ({ cmp: { ...prevState.cmp, children: [value] } }),\r\n            () => this.props.updateCmp(this.state.cmp));\r\n    }\r\n\r\n    updateMediaSrc = (src) => {\r\n        const { cmp } = this.state;\r\n\r\n        if (helpers.isMediaCmp(cmp.role)) {\r\n            if (cmp.role === 'video') {\r\n                src = `https://www.youtube.com/embed/${getIdfromYoutubeUrl(src)}`\r\n            } else if (cmp.role === 'map') {\r\n                src = `https://maps.google.com/maps?q=${src}&t=&z=15&ie=UTF8&iwloc=&output=embed`\r\n            }\r\n\r\n            this.setState(prevState => {\r\n                let cmp = JSON.parse(JSON.stringify(prevState.cmp));\r\n                cmp.children[0].prefs.src = src;\r\n                return { cmp };\r\n            }, () => this.props.updateCmp(this.state.cmp));\r\n\r\n        } else {\r\n            this.handleStyleChange('backgroundImage', `url(${src})`);\r\n        }\r\n    }\r\n\r\n    updateCmpLink = (ev) => {\r\n        const value = ev.target.value;\r\n        if (value) {\r\n            this.setState(prevState => ({\r\n                cmp: {\r\n                    ...prevState.cmp, prefs:\r\n                        { ...prevState.cmp.prefs, href: value }, htmlTagName: `a`\r\n                }\r\n            }), () => this.props.updateCmp(this.state.cmp));\r\n        } else {\r\n            this.setState(prevState => ({ cmp: { ...prevState.cmp, prefs: { ...prevState.cmp.prefs, href: value }, htmlTagName: `span` } }),\r\n                () => this.props.updateCmp(this.state.cmp));\r\n        }\r\n    }\r\n\r\n    handleDatasetChange = (field, newValue) => {\r\n        if (typeof field === 'object') { // field === event\r\n            newValue = field.target.value;\r\n            field = field.target.name;\r\n        }\r\n\r\n        this.setState(prevState => ({\r\n            cmp: {\r\n                ...prevState.cmp, prefs: {\r\n                    ...prevState.cmp.prefs,\r\n                    ['data-' + field]: newValue\r\n                }\r\n            }\r\n        }), () => this.props.updateCmp(this.state.cmp));\r\n    }\r\n\r\n    handleCmpNameChange = (cmpName) => {\r\n        this.setState(prevState => ({\r\n            cmp: {\r\n                ...prevState.cmp,\r\n                cmpName\r\n            }\r\n        }), () => this.props.updateCmp(this.state.cmp));\r\n    }\r\n\r\n    handleStyleChange = (field, newValue) => {\r\n        if (typeof field === 'object') { // field === event\r\n            newValue = field.target.value;\r\n            field = field.target.name;\r\n        }\r\n\r\n        if (field === 'placeholder') {\r\n            const newChild = { ...this.state.cmp.children[0] }\r\n            newChild.prefs.placeholder = newValue\r\n            this.setState(prevState => ({ cmp: { ...prevState.cmp, children: [newChild] } })\r\n                , () => this.props.updateCmp(this.state.cmp))\r\n        }\r\n\r\n        const currFieldValue = this.state.cmp.prefs.style[field];\r\n        if (((field === 'alignItems' && newValue === 'stretch') ||\r\n            (field === 'justifyContent' && newValue === 'space-between')) &&\r\n            (currFieldValue === newValue || !currFieldValue)) {\r\n            newValue = 'flex-start';\r\n        }\r\n        this.setState(prevState => ({\r\n            cmp: {\r\n                ...prevState.cmp, prefs: {\r\n                    ...prevState.cmp.prefs,\r\n                    style: helpers.removeRedundantStyles({ ...prevState.cmp.prefs.style, [field]: newValue })\r\n                }\r\n            }\r\n        }), () => this.props.updateCmp(this.state.cmp));\r\n\r\n        if (field === 'flexDirection') {\r\n            const cmpStyle = this.state.cmp.prefs.style;\r\n            const tempHolder = cmpStyle.alignItems;\r\n            if (cmpStyle.alignItems !== 'stretch' && cmpStyle.alignItems)\r\n                this.handleStyleChange('alignItems', cmpStyle.justifyContent);\r\n            if (cmpStyle.justifyContent !== 'space-between' && cmpStyle.justifyContent)\r\n                this.handleStyleChange('justifyContent', tempHolder);\r\n        }\r\n    }\r\n\r\n    onUploadImg = async (ev) => {\r\n        this.props.toggleLoader();\r\n\r\n        let imgSrc;\r\n        try {\r\n            imgSrc = await uploadImg(ev);\r\n        } catch (err) {\r\n            this.props.displayNotificationBox({ type: 'failure', message: 'Failed to upload image' });\r\n            imgSrc = '';\r\n        }\r\n\r\n        this.props.toggleLoader();\r\n\r\n        this.updateMediaSrc(imgSrc.url);\r\n    }\r\n\r\n    handlePanelToggle = panel => (event, isExpanded) => {\r\n        this.setState({ currentOpenPanel: isExpanded ? panel : false });\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.setCmpData()\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const { cmp } = this.state;\r\n        if ((cmp && this.props.draft.selectedCmpId !== cmp._id) ||\r\n            (this.props.draft.selectedCmpId === cmp._id && prevProps.draft.cmps[cmp._id] !== this.props.draft.cmps[cmp._id])) {\r\n            this.setCmpData();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.cmp) return <Loader />;\r\n\r\n        const { currentOpenPanel, cmp } = this.state;\r\n\r\n        const cmpRole = cmp.role;\r\n\r\n        return (\r\n            <React.Fragment>\r\n\r\n                {cmpRole !== '_root' &&\r\n                    <ExpansionPanel expanded={currentOpenPanel === 'element-name'} onChange={this.handlePanelToggle('element-name')}>\r\n                        <ExpansionPanelSummary className='editor-section-title' expandIcon={<ExpandMoreIcon />}>\r\n                            Element Name\r\n                        </ExpansionPanelSummary>\r\n                        <ExpansionPanelDetails>\r\n                            <CmpNameChanger cmp={this.state.cmp} handleCmpNameChange={this.handleCmpNameChange} />\r\n                        </ExpansionPanelDetails>\r\n                    </ExpansionPanel>}\r\n\r\n\r\n                <ExpansionPanel expanded={currentOpenPanel === 'main-section'} onChange={this.handlePanelToggle('main-section')}>\r\n                    <ExpansionPanelSummary className='editor-section-title' expandIcon={<ExpandMoreIcon />}>\r\n                        {this.sectionTitle}\r\n                    </ExpansionPanelSummary>\r\n                    <ExpansionPanelDetails>\r\n                        <MainSection cmp={cmp} handleStyleChange={this.handleStyleChange} updateInnerTxt={this.updateInnerTxt}\r\n                            onUploadImg={this.onUploadImg} updateCmpLink={this.updateCmpLink}\r\n                            toggleLoader={this.props.toggleLoader} updateMediaSrc={this.updateMediaSrc} />\r\n                    </ExpansionPanelDetails>\r\n                </ExpansionPanel>\r\n\r\n                <ExpansionPanel expanded={currentOpenPanel === 'size-section'} onChange={this.handlePanelToggle('size-section')}>\r\n                    <ExpansionPanelSummary className='editor-section-title' expandIcon={<ExpandMoreIcon />}>\r\n                        Size\r\n                            </ExpansionPanelSummary>\r\n                    <ExpansionPanelDetails>\r\n\r\n                        <SizeSection cmp={this.state.cmp} handleStyleChange={this.handleStyleChange}\r\n                            handleDatasetChange={this.handleDatasetChange} />\r\n\r\n                    </ExpansionPanelDetails>\r\n                </ExpansionPanel>\r\n\r\n                <ExpansionPanel expanded={currentOpenPanel === 'layout-section'} onChange={this.handlePanelToggle('layout-section')}>\r\n                    <ExpansionPanelSummary className='editor-section-title' expandIcon={<ExpandMoreIcon />}>\r\n                        Layout\r\n                    </ExpansionPanelSummary>\r\n                    <ExpansionPanelDetails>\r\n                        <LayoutSection cmp={this.state.cmp} handleStyleChange={this.handleStyleChange}\r\n                            onUploadImg={this.onUploadImg} updateMediaSrc={this.updateMediaSrc} />\r\n                    </ExpansionPanelDetails>\r\n                </ExpansionPanel>\r\n            </React.Fragment>)\r\n    }\r\n}\r\nconst mapStateToProps = (state) => ({ draft: state.draft });\r\nconst mapDispatchToProps = { updateCmp, toggleLoader, displayNotificationBox };\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EditPanel);","import React, { useState } from 'react';\r\nimport { ExpansionPanel, ExpansionPanelSummary, ExpansionPanelDetails } from '@material-ui/core';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\nexport default function ElementButtons(props) {\r\n    const [isSectionsOpen, toggleSections] = useState(true);\r\n    const [isElementsOpen, toggleElements] = useState(false);\r\n    // const [currentOpenPanel, togglePanel] = useState('sections');\r\n    const { addCmp, dragCmp } = props;\r\n    return (\r\n        <React.Fragment>\r\n            {/* <ExpansionPanel expanded={currentOpenPanel === 'sections'} onChange={() => togglePanel('sections')}> */}\r\n            <ExpansionPanel expanded={isSectionsOpen} onChange={() => toggleSections(!isSectionsOpen)}>\r\n                <ExpansionPanelSummary className='editor-section-title' expandIcon={<ExpandMoreIcon />}>\r\n                    Sections\r\n                </ExpansionPanelSummary>\r\n                <ExpansionPanelDetails>\r\n                    <div className=\"editor-btn-container\">\r\n                        <button onClick={addCmp} draggable=\"true\" onDragStart={dragCmp} data-cmptype='GenericSection'><i className=\"fas fa-grip-horizontal\"></i>Horizontal Section</button>\r\n                        <button onClick={addCmp} draggable=\"true\" onDragStart={dragCmp} data-cmptype='VerticalSection'><i className=\"fas fa-grip-vertical\"></i>Vertical Section</button>\r\n                        <button onClick={addCmp} draggable=\"true\" onDragStart={dragCmp} data-cmptype='Navbar'><i className=\"rect\"></i>Navigation Bar</button>\r\n                        <button onClick={addCmp} draggable=\"true\" onDragStart={dragCmp} data-cmptype='Header'><i className=\"rect\"></i>Header</button>\r\n                        <button onClick={addCmp} draggable=\"true\" onDragStart={dragCmp} data-cmptype='Cards'><i className=\"fas fa-border-all\"></i>Cards</button>\r\n                        <button onClick={addCmp} draggable=\"true\" onDragStart={dragCmp} data-cmptype='Footer'><i className=\"rect\"></i>Footer</button>\r\n                    </div>\r\n                </ExpansionPanelDetails>\r\n            </ExpansionPanel>\r\n\r\n            {/* <ExpansionPanel expanded={currentOpenPanel === 'elements'} onChange={() => togglePanel('elements')}> */}\r\n            <ExpansionPanel expanded={isElementsOpen} onChange={() => toggleElements(!isElementsOpen)}>\r\n                <ExpansionPanelSummary className='editor-section-title' expandIcon={<ExpandMoreIcon />}>\r\n                    Regular Elements\r\n                </ExpansionPanelSummary>\r\n                <ExpansionPanelDetails>\r\n                    <div className=\"editor-btn-container\">\r\n                        <button onClick={addCmp} draggable=\"true\" onDragStart={dragCmp} data-cmptype='GenericText'><i className=\"fas fa-font\"></i>Text</button>\r\n                        <button onClick={addCmp} draggable=\"true\" onDragStart={dragCmp} data-cmptype='Img'><i className=\"far fa-image\"></i>Image</button>\r\n                        <button onClick={addCmp} draggable=\"true\" onDragStart={dragCmp} data-cmptype='Button'><i className=\"fas fa-mouse\"></i>Button</button>\r\n                        <button onClick={addCmp} draggable=\"true\" onDragStart={dragCmp} data-cmptype='Card'><i className=\"fas fa-square\"></i>Card</button>\r\n                        <button onClick={addCmp} draggable=\"true\" onDragStart={dragCmp} data-cmptype='Youtube'><i className=\"fab fa-youtube\"></i>Youtube Video</button>\r\n                        <button onClick={addCmp} draggable=\"true\" onDragStart={dragCmp} data-cmptype='gMap'><i className=\"fas fa-map-marked-alt\"></i>Map</button>\r\n                        <button onClick={addCmp} draggable=\"true\" onDragStart={dragCmp} data-cmptype='ContactForm'><i className=\"far fa-envelope\"></i>Form</button>\r\n\r\n                        {/* <button onClick={addCmp} draggable=\"true\" onDragStart={dragCmp} data-cmptype=''><i className=\"fab fa-soundcloud\"></i>SoundCloud</button> */}\r\n                        <button onClick={addCmp} draggable=\"true\" onDragStart={dragCmp} data-cmptype='SocialButtons'><i className=\"fas fa-share-alt\"></i>Social Buttons</button>\r\n                    </div>\r\n                </ExpansionPanelDetails>\r\n            </ExpansionPanel>\r\n        </React.Fragment>)\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useState } from 'react';\r\nimport { selectCmp, cmpToEdit, placeLinkAnchor } from '../../../../actions/EditorActions';\r\n\r\nfunction Branch(props) {\r\n    const { cmp, children, selectedCmpId, linkCmpId } = props;\r\n\r\n    const isExpandable = children && children.length ? true : false;\r\n    const [isExpanded, toggleExpansion] = useState(cmp.role === '_root');\r\n\r\n    const scrollToElement = () => {\r\n        if (cmp._id === '_rootElement') return;\r\n\r\n        const webContainer = document.querySelector('.web-site-container');\r\n        let elSelectedElement = document.querySelector(`#${cmp._id}`);\r\n\r\n        if (elSelectedElement) {\r\n            while (elSelectedElement.parentNode.dataset.role !== '_root') {\r\n                elSelectedElement = elSelectedElement.parentNode;\r\n            }\r\n            webContainer.scrollTo(0, elSelectedElement.offsetTop);\r\n        }\r\n    }\r\n\r\n    const selectElement = () => {\r\n        props.selectCmp(cmp._id, false);\r\n        if (isExpandable) toggleExpansion(!isExpanded);\r\n        scrollToElement();\r\n    }\r\n\r\n    const editCmp = (ev) => {\r\n        ev.stopPropagation();\r\n        props.cmpToEdit(cmp._id, 'edit');\r\n    }\r\n\r\n    const onLinkCmp = (ev) => {\r\n        ev.stopPropagation();\r\n        props.placeLinkAnchor(cmp._id);\r\n    }\r\n\r\n    let branchClassNames = (isExpanded ? ' expanded' : '') + (selectedCmpId === cmp._id ? ' active' : '');\r\n\r\n    return (\r\n        <li className={isExpandable ? 'expandable' : ''}>\r\n\r\n            <span className={'cmpName' + branchClassNames} onClick={selectElement}>\r\n                {cmp.role === '_root' ? 'Root Element' : cmp.cmpName || 'Element'}\r\n                {linkCmpId && <button className='sitemap-anchor-btn' onClick={onLinkCmp}><i className=\"fas fa-anchor\"></i></button>}\r\n                <button className='sitemap-edit-btn' onClick={editCmp}><i className=\"fas fa-pencil-alt\"></i></button>\r\n            </span>\r\n\r\n            {isExpandable && isExpanded &&\r\n                <ul className='sitemap-list clean-list'>\r\n                    {children}\r\n                </ul>\r\n            }\r\n        </li>)\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    selectedCmpId: state.draft.selectedCmpId,\r\n    linkCmpId: state.draft.linkCmpId\r\n});\r\nconst mapDispatchToProps = { selectCmp, cmpToEdit, placeLinkAnchor };\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Branch);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Branch from './SiteMap/Branch';\r\nimport { unSetLinkCmpId } from '../../../actions/EditorActions';\r\n\r\nclass SiteMapTree extends React.Component {\r\n\r\n    // state = {\r\n    //     expanded: {},\r\n    //     searchEnded: false\r\n    // }\r\n\r\n    // bubbleExpansionUp = (childId, parentId) => {\r\n    //     const selectedCmpId = this.props.draft.selectedCmpId;\r\n    //     if (childId === selectedCmpId || this.state.expanded[childId]) {\r\n    //         this.setState(prevState => ({ expanded: { ...prevState.expanded, [childId]: true } }))\r\n    //     }\r\n    //     if (parentId === '_rootElement') this.setState({ searchEnded: true });\r\n    // }\r\n    // let newBranch = this.createBranch(child.cmpId);\r\n    // if (!this.state.searchEnded) this.bubbleExpansionUp(child.cmpId, cmpId);\r\n    // return newBranch;\r\n\r\n    createBranch = (cmpId) => {\r\n        const cmp = this.props.draft.cmps[cmpId];\r\n        return (\r\n            <Branch cmp={cmp} key={cmpId}>\r\n                {Array.isArray(cmp.children) && typeof cmp.children[0] === 'object' && cmp.children[0].cmpId ?\r\n                    cmp.children.map(child => this.createBranch(child.cmpId)) : undefined}\r\n            </Branch>);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                {this.props.draft.linkCmpId &&\r\n                    <h3 className='anchor-sitemap-title'>\r\n                        Place the Anchor on desired target element\r\n                    <button onClick={this.props.unSetLinkCmpId}>Dismiss</button>\r\n                    </h3>}\r\n                <ul className='sitemap-list clean-list main-list'>\r\n                    {this.createBranch('_rootElement')}\r\n                </ul>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({ draft: state.draft });\r\nconst mapDispatchToProps = {\r\n    unSetLinkCmpId\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SiteMapTree);","export default (children = ['Enter some text here....'], style = {}) => ({\r\n    cmpName: 'Text',\r\n    htmlTagName: 'span',\r\n    role: 'text',\r\n    prefs: {\r\n        style: {\r\n            fontSize: '16px',\r\n            flexGrow: '1',\r\n            ...style\r\n        }\r\n    },\r\n    children\r\n});","export default () => {\r\n    return {\r\n        cmpName: 'Image',\r\n        htmlTagName: 'div',\r\n        role: 'img',\r\n        prefs: {\r\n            className: 'image-wrapper'\r\n        },\r\n        children: [\r\n            {\r\n                htmlTagName: 'img',\r\n                role: 'img',\r\n                prefs: {\r\n                    src: '/images/upload-your-image.jpg',\r\n                    alt: 'Image'\r\n                },\r\n                children: undefined\r\n            }\r\n        ]\r\n    };\r\n};","export default (children = ['click me'], style = {}) => ({\r\n    cmpName: 'Button',\r\n    htmlTagName: 'button',\r\n    role: 'button',\r\n    prefs: {\r\n        style: {\r\n            padding: '7px 15px 7px 15px',\r\n            ...style\r\n        }\r\n    },\r\n    children\r\n});","export default (cmpType, children = [], style = {}) => {\r\n    let cmpInfo = {};\r\n\r\n    switch (cmpType) {\r\n        case 'vertical':\r\n            cmpInfo.orientation = 'vertical';\r\n            break;\r\n\r\n        case 'header':\r\n            cmpInfo.name = 'Header';\r\n            cmpInfo.tagName = 'header';\r\n            break;\r\n\r\n        case 'footer':\r\n            cmpInfo.name = 'Footer';\r\n            cmpInfo.tagName = 'footer';\r\n            break;\r\n\r\n        case 'nav':\r\n            cmpInfo.name = 'Navigation Bar';\r\n            cmpInfo.tagName = 'nav';\r\n            break;\r\n\r\n        default:\r\n    }\r\n\r\n    return {\r\n        cmpName: cmpInfo.name || 'Section',\r\n        htmlTagName: cmpInfo.tagName || 'div',\r\n        role: 'section',\r\n        prefs: {\r\n            style: {\r\n                padding: '12px',\r\n                flexDirection: (cmpInfo.orientation === 'vertical' ? 'column' : 'row'),\r\n                flexGrow: '1',\r\n                ...style\r\n            }\r\n        },\r\n        children\r\n    }\r\n};\r\n\r\n","import Img from '../Img';\r\nimport GenericText from '../GenericText';\r\n\r\nexport default () => {\r\n    return {\r\n        cmpName: 'Card',\r\n        htmlTagName: 'div',\r\n        role: 'card',\r\n        prefs: {\r\n            style: {\r\n                fontSize: '16px',\r\n                padding: '12px',\r\n                textAlign: 'center',\r\n                flexDirection: 'column'\r\n            }\r\n        },\r\n        children: [\r\n            Img('/images/upload-your-image.jpg'),\r\n            GenericText()]\r\n    }\r\n}\r\n","import Card from './Card';\r\n\r\nexport default () => {\r\n    return {\r\n        cmpName: 'Cards Section',\r\n        htmlTagName: 'section',\r\n        role: 'section',\r\n        prefs: {\r\n            style: {\r\n                flexDirection: 'row',\r\n                padding: '12px'\r\n            }\r\n        },\r\n        children: getCards(4)\r\n    };\r\n};\r\n\r\nfunction getCards(amount) {\r\n    let cards = []\r\n    for (let i = 0; i < amount; i++) {\r\n        cards.push(Card());\r\n    }\r\n    return cards;\r\n}\r\n\r\n","export default () => {\r\n    return {\r\n        cmpName: 'Site Header',\r\n        htmlTagName: 'header',\r\n        role: 'section',\r\n        prefs: {\r\n            style: {\r\n                backgroundImage: 'url(/images/header.jpg)',\r\n                minHeight: '400px',\r\n                padding: '12px',\r\n                flexDirection: 'column',\r\n                justifyContent: 'center',\r\n                alignItems: 'center'\r\n            },\r\n        },\r\n        children: [\r\n            {\r\n                cmpName: 'Section',\r\n                htmlTagName: 'div',\r\n                role: 'section',\r\n                prefs: {\r\n                    style: {\r\n                        padding: '10px',\r\n                        flexDirection: 'column',\r\n                        justifyContent: 'center',\r\n                        alignItems: 'center'\r\n                    }\r\n                },\r\n                children: [\r\n                    {\r\n                        cmpName: 'Main text',\r\n                        htmlTagName: 'span',\r\n                        role: 'text',\r\n                        prefs: {\r\n                            style: {\r\n                                fontSize: 80,\r\n                                fontFamily: 'Pacifio',\r\n                                color: '#FFFFFF',\r\n                                textAlign: 'center'\r\n                            },\r\n                        },\r\n                        children: [\r\n                            'Your Brand Comes Here'\r\n                        ]\r\n                    },\r\n                    {\r\n                        cmpName: 'Sub text',\r\n                        htmlTagName: 'span',\r\n                        role: 'text',\r\n                        prefs: {\r\n                            style: {\r\n                                fontSize: 35,\r\n                                fontFamily: 'OpenSans'\r\n                            },\r\n                        },\r\n                        children: [\r\n                            'Enter Your Website Description'\r\n                        ],\r\n                    }\r\n                ]\r\n            }\r\n        ]\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","export default (inputInfo, style = {}) => {\r\n    return {\r\n        cmpName: 'Input',\r\n        htmlTagName: 'span',\r\n        role: 'input',\r\n        prefs: {\r\n            className: 'input-wrapper',\r\n            style: {\r\n                ...style\r\n            }\r\n        },\r\n        children: [\r\n            {\r\n                cmpName: 'Input',\r\n                htmlTagName: inputInfo.tagName || 'input',\r\n                role: 'input',\r\n                prefs: {\r\n                    className: 'input-element',\r\n                    type: inputInfo.type || 'text',\r\n                    required: true,\r\n                    placeholder: inputInfo.placeholder || 'This is a placeholder',\r\n                    name: inputInfo.name\r\n                },\r\n                children: undefined\r\n            }\r\n        ]\r\n    }\r\n}","import GenericText from './cmps/GenericText';\r\nimport Img from './cmps/Img';\r\nimport Button from './cmps/Button';\r\nimport GenericSection from './cmps/GenericSection';\r\nimport Navbar from './cmps/Navbar';\r\nimport Footer from './cmps/Footer';\r\nimport Cards from './cmps/ready-cmps/Cards';\r\nimport Card from './cmps/ready-cmps/Card';\r\nimport Header from './cmps/ready-cmps/Header';\r\nimport Youtube from './cmps/Youtube';\r\nimport gMap from './cmps/gMap';\r\nimport SocialButtons from './cmps/SocialButtons'\r\nimport ContactForm from './cmps/ready-cmps/ContactForm'\r\n\r\nconst cmps = {\r\n    VerticalSection: () => GenericSection('vertical'),\r\n    GenericText,\r\n    GenericSection,\r\n    Img,\r\n    Button,\r\n    Cards,\r\n    Card,\r\n    Header,\r\n    Navbar,\r\n    Footer,\r\n    Youtube,\r\n    gMap,\r\n    SocialButtons,\r\n    ContactForm\r\n};\r\n\r\nexport default cmps;","export default () => {\r\n    return {\r\n        cmpName: 'Navigation Bar',\r\n        htmlTagName: 'nav',\r\n        role: 'nav',\r\n        prefs: {\r\n            style: {\r\n                padding: '10px',\r\n                flexDirection: 'row'\r\n            }\r\n        },\r\n        children: [\r\n            {\r\n                cmpName: 'Brand',\r\n                htmlTagName: 'span',\r\n                role: 'text',\r\n                prefs: {\r\n                    style: {\r\n                        fontSize: 27,\r\n                        alignItems: 'center',\r\n                        letterSpacing: 5,\r\n                        fontFamily: 'Courgette',\r\n                        padding: '10px',\r\n                        fontWeight: 'bold'\r\n                    }\r\n                },\r\n                children: ['Your Brand'],\r\n            },\r\n            {\r\n                cmpName: 'Navigation Links',\r\n                htmlTagName: 'div',\r\n                role: 'section',\r\n                prefs: {\r\n                    style: {\r\n                        padding: '10px',\r\n                        flexDirection: 'row'\r\n                    }\r\n                },\r\n                children: [\r\n                    {\r\n                        cmpName: 'Link',\r\n                        htmlTagName: 'span',\r\n                        role: 'text',\r\n                        prefs: {\r\n                            style: {\r\n                                fontSize: 25,\r\n                                fontFamily: 'OpenSans'\r\n                            }\r\n                        },\r\n                        children: [\r\n                            'Home'\r\n                        ]\r\n\r\n                    },\r\n                    {\r\n                        cmpName: 'Link',\r\n                        htmlTagName: 'span',\r\n                        role: 'text',\r\n                        prefs: {\r\n                            style: {\r\n                                fontSize: 25,\r\n                                margin: '0 0 0 50px'\r\n                            },\r\n                        },\r\n                        children: [\r\n                            'Contact'\r\n                        ],\r\n                    },\r\n                    {\r\n                        cmpName: 'Link',\r\n                        htmlTagName: 'span',\r\n                        role: 'text',\r\n                        prefs: {\r\n                            style: {\r\n                                fontSize: 25,\r\n                                margin: '0 0 0 50px'\r\n                            }\r\n                        },\r\n                        children: [\r\n                            'About'\r\n                        ],\r\n                    }]\r\n            }\r\n        ]\r\n    }\r\n}\r\n\r\n\r\n\r\n","export default (style = {}, children = []) => {\r\n    return {\r\n        cmpName: 'Footer',\r\n        htmlTagName: 'footer',\r\n        role: 'section',\r\n        prefs: {\r\n            style: {\r\n                backgroundColor: '#DAD9D9',\r\n                padding: '15px',\r\n                flexDirection: 'row'\r\n            }\r\n        },\r\n        children: [\r\n            {\r\n                cmpName: 'Text',\r\n                htmlTagName: 'span',\r\n                role: 'text',\r\n                prefs: {\r\n                    style: {\r\n                        fontSize: '14px',\r\n                        flexGrow: 1,\r\n                        textAlign: 'center'\r\n                    }\r\n                },\r\n                children: ['All rights Reserved']\r\n            }\r\n        ]\r\n    }\r\n}","export default () => {\r\n    return {\r\n        cmpName: 'Video',\r\n        htmlTagName: 'div',\r\n        role: 'video',\r\n        prefs: {\r\n            className: 'iframe-wrapper',\r\n            style: {\r\n                maxWidth: '800px',\r\n                boxShadow: '0 0 5px rgba(0,0,0,0.3)',\r\n                borderRadius: '10px',\r\n                overflow: 'hidden'\r\n            }\r\n        },\r\n        children: [\r\n            {\r\n                htmlTagName: 'iframe',\r\n                role: 'video',\r\n                prefs: {\r\n                    allow: \"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\",\r\n                    allowFullScreen: true,\r\n                    src: 'https://www.youtube.com/embed/VvU27gvAK40',\r\n                },\r\n                children: undefined\r\n            }\r\n        ]\r\n    };\r\n};\r\n","export default () => {\r\n    return {\r\n        cmpName: 'Map',\r\n        htmlTagName: 'div',\r\n        role: 'map',\r\n        prefs: {\r\n            className: 'map-wrapper',\r\n            style: {\r\n                flexGrow: '1',\r\n                maxWidth: '500px',\r\n                minHeight: '300px'\r\n            }\r\n        },\r\n        children: [\r\n            {\r\n                htmlTagName: 'iframe',\r\n                role: 'map',\r\n                prefs: {\r\n                    frameBorder: '0',\r\n                    scrolling: 'n',\r\n                    marginHeight: '0',\r\n                    marginWidth: '0',\r\n                    src: 'https://maps.google.com/maps?q=HaBonim%204&t=&z=15&ie=UTF8&iwloc=&output=embed'\r\n                },\r\n                children: undefined\r\n            }\r\n        ]\r\n    };\r\n};\r\n","export default () => ({\r\n    cmpName: 'Socials Share',\r\n    htmlTagName: 'div',\r\n    role: 'section',\r\n    prefs: {\r\n        style: {\r\n            flexDirection: 'row',\r\n            flexGrow: '0',\r\n            justifyContent: 'flex-start'\r\n        }\r\n    },\r\n    children: [\r\n        {\r\n            cmpName: 'Pinterest',\r\n            htmlTagName: 'div',\r\n            role: 'img',\r\n            prefs: {\r\n                className: 'image-wrapper',\r\n                style: {}\r\n            },\r\n            children: [\r\n                {\r\n                    htmlTagName: 'img',\r\n                    role: 'img',\r\n                    prefs: {\r\n                        src: 'https://static.wixstatic.com/media/8f6f59264a094af0b46e9f6c77dff83e.png/v1/fill/w_30,h_30,al_c,q_85,usm_0.66_1.00_0.01/8f6f59264a094af0b46e9f6c77dff83e.webp',\r\n                        alt: 'Image'\r\n                    }\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            cmpName: 'Facebook',\r\n            htmlTagName: 'div',\r\n            role: 'img',\r\n            prefs: {\r\n                className: 'image-wrapper',\r\n                style: {\r\n                    margin: '0 0 0 24px'\r\n                }\r\n            },\r\n            children: [\r\n                {\r\n                    htmlTagName: 'img',\r\n                    role: 'img',\r\n                    prefs: {\r\n                        src: 'https://static.wixstatic.com/media/0fdef751204647a3bbd7eaa2827ed4f9.png/v1/fill/w_30,h_30,al_c,q_85,usm_0.66_1.00_0.01/0fdef751204647a3bbd7eaa2827ed4f9.webp',\r\n                        alt: 'Image'\r\n                    }\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            cmpName: 'Twitter',\r\n            htmlTagName: 'div',\r\n            role: 'img',\r\n            prefs: {\r\n                className: 'image-wrapper',\r\n                style: {\r\n                    margin: '0 0 0 24px'\r\n                }\r\n            },\r\n            children: [\r\n                {\r\n                    htmlTagName: 'img',\r\n                    role: 'img',\r\n                    prefs: {\r\n                        src: 'https://static.wixstatic.com/media/c7d035ba85f6486680c2facedecdcf4d.png/v1/fill/w_30,h_30,al_c,q_85,usm_0.66_1.00_0.01/c7d035ba85f6486680c2facedecdcf4d.webp',\r\n                        alt: 'Image'\r\n                    }\r\n                }\r\n            ],\r\n        },\r\n        {\r\n            cmpName: 'Instagram',\r\n            htmlTagName: 'div',\r\n            role: 'img',\r\n            prefs: {\r\n                className: 'image-wrapper',\r\n                style: {\r\n                    margin: '0 0 0 24px'\r\n                }\r\n            },\r\n            children: [\r\n                {\r\n                    htmlTagName: 'img',\r\n                    role: 'img',\r\n                    prefs: {\r\n                        src: 'https://static.wixstatic.com/media/01c3aff52f2a4dffa526d7a9843d46ea.png/v1/fill/w_30,h_30,al_c,q_85,usm_0.66_1.00_0.01/01c3aff52f2a4dffa526d7a9843d46ea.webp',\r\n                        alt: 'Image'\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n})\r\n","import GenericText from '../GenericText'\r\nimport Input from '../Input'\r\nimport Button from '../Button'\r\nimport GenericSection from '../GenericSection'\r\nexport default () => {\r\n    return {\r\n        cmpName: 'Form',\r\n        htmlTagName: 'form',\r\n        role: 'form',\r\n        prefs: {\r\n            method: 'post',\r\n            style: {\r\n                padding: '20px 30px 20px 30px',\r\n                flexDirection: 'column',\r\n                maxWidth: '530px',\r\n                flexGrow: '1'\r\n            }\r\n        },\r\n        children: [\r\n            GenericText(['Name: '], {}),\r\n            Input({ name: 'fullName', placeholder: 'John Due' }),\r\n            GenericText(['Your Email: '], {}),\r\n            Input({ name: 'email', type: 'email', placeholder: 'John@gmail.com' }),\r\n            GenericText(['Phone Number: '], {}),\r\n            Input({ name: 'phone', type: 'tel', placeholder: '+972-52-823-5428' }),\r\n            GenericText(['Subject: '], {}),\r\n            Input({ name: 'subject', placeholder: 'Enter Your Subject' }),\r\n            GenericText(['Enter Your Message Here: '], {}),\r\n            Input({ name: 'content', placeholder: 'Your Message', tagName: 'textarea' }, { minHeight: '100px' }),\r\n            GenericSection(undefined, [Button(['Submit'], { backgroundColor: 'rgb(99, 194, 185)', color: '#FFF', fontFamily: 'Nunito' })],\r\n                { padding: '2px', justifyContent: 'flex-end' })\r\n        ]\r\n    }\r\n}\r\n","import axios from 'axios';\r\nimport crudService from './crudService.js';\r\n\r\nconst Axios = axios.create({\r\n    withCredentials: true\r\n});\r\n\r\nconst BASE_URL = (process.env.NODE_ENV !== 'development') ? '/' : 'http://localhost:3002/';\r\n\r\nconst userCrud = new crudService(BASE_URL + 'api/users');\r\n\r\nasync function register(userData) {\r\n    let result = await Axios.post(BASE_URL + 'api/auth', userData);\r\n    if (result.data.error) throw new Error(result.data.error);\r\n    return result.data;\r\n}\r\n\r\nasync function checkCredentials(loginData) {\r\n    let result = await Axios.post(BASE_URL + 'api/auth/login', loginData);\r\n    if (result.data.error) throw new Error(result.data.error);\r\n    return result.data;\r\n}\r\n\r\nasync function getLoggedInUser() {\r\n    let result = await Axios.get(BASE_URL + 'api/auth');\r\n    return result.data;\r\n}\r\n\r\nasync function logOut() {\r\n    let result = await Axios.post(BASE_URL + 'api/auth/logout');\r\n    if (result.data.error) throw new Error(result.data.error);\r\n    return result.data;\r\n}\r\n\r\nexport default {\r\n    ...userCrud,\r\n    checkCredentials,\r\n    register,\r\n    getLoggedInUser,\r\n    logOut\r\n};","import userService from '../services/userService';\r\nimport { _displayNotificationBox } from './GenericActions';\r\n\r\n// Dispatchers\r\nconst _loginUser = (user) => ({ type: 'USER_LOGIN', user: user });\r\nconst _logoutUser = () => ({ type: 'USER_LOGOUT' });\r\n\r\n// THUNK\r\nexport function getLoggedUser() {\r\n    return async (dispatch) => {\r\n        const user = await userService.getLoggedInUser();\r\n        \r\n        if (user._id) dispatch(_loginUser(user));\r\n    }\r\n}\r\n\r\nexport function registerUser(loginData) {\r\n    return async (dispatch) => {\r\n        const user = await userService.register(loginData);\r\n        dispatch(_loginUser(user));\r\n        dispatch(_displayNotificationBox({ type: 'success', message: user.firstName + ', Welcome!' }));\r\n    }\r\n}\r\n\r\nexport function loginUser(loginData) {\r\n    return async (dispatch) => {\r\n        const user = await userService.checkCredentials(loginData);\r\n        dispatch(_loginUser(user));\r\n        dispatch(_displayNotificationBox({ type: 'success', message: user.firstName + ', Welcome back!' }));\r\n    }\r\n}\r\n\r\nexport function logoutUser() {\r\n    return async (dispatch) => {\r\n        try {\r\n            await userService.logOut();\r\n            dispatch(_logoutUser());\r\n        }\r\n        catch {\r\n            dispatch(_displayNotificationBox({ type: 'failure', message: 'Failed to logout' }));\r\n        }\r\n    }\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { loginUser } from '../actions/UserActions';\r\nimport { hideModal } from '../actions/GenericActions';\r\n\r\nimport UserForm from './UserForm';\r\n\r\nclass Login extends React.Component {\r\n    state = {\r\n        error: null\r\n    }\r\n\r\n    onSubmitForm = async (formData) => {\r\n        try {\r\n            await this.props.loginUser(formData);\r\n            this.props.hideModal();\r\n        }\r\n        catch (err) {\r\n            this.setState({ error: err.message });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <UserForm onSubmitForm={this.onSubmitForm} isLoginForm={true} error={this.state.error} />\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => (\r\n    {\r\n        loggedInUser: state.auth.loggedInUser,\r\n    }\r\n);\r\nconst mapDispatchToProps = {\r\n    loginUser, hideModal\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { showModal } from '../actions/GenericActions';\r\n\r\nimport Login from './Login';\r\nimport Signup from './Signup';\r\n\r\nimport { Avatar, Button, TextField, Link, Grid, Typography } from '@material-ui/core';\r\nimport { LockOutlined, PersonAddOutlined } from '@material-ui/icons';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n}));\r\n\r\n\r\nfunction UserForm(props) {\r\n    const { isLoginForm } = props;\r\n    const classes = useStyles();\r\n\r\n    function onFormSubmit(ev) {\r\n        ev.preventDefault()\r\n        const formData = {}\r\n\r\n        if (!isLoginForm) {\r\n            const { firstName, lastName } = ev.target\r\n            formData.firstName = firstName.value\r\n            formData.lastName = lastName.value\r\n        }\r\n\r\n        const { email, password } = ev.target\r\n        formData.email = email.value;\r\n        formData.password = password.value;\r\n        props.onSubmitForm(formData);\r\n    }\r\n\r\n    return (\r\n        <div className={ 'user-auth-form p20 ' + classes.paper }>\r\n            <Avatar className={ classes.avatar }>\r\n                { isLoginForm ? <LockOutlined /> : <PersonAddOutlined /> }\r\n            </Avatar>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n                { isLoginForm ? 'Login' : 'Sign up' }\r\n            </Typography>\r\n            <form className={ classes.form } onSubmit={ onFormSubmit }>\r\n                <Grid container spacing={ 2 }>\r\n                    { !isLoginForm && [<Grid key='fName' item xs={ 12 } sm={ 6 }>\r\n                        <TextField autoComplete=\"fname\" name=\"firstName\" required\r\n                            fullWidth id=\"firstName\" label=\"First Name (2-15 Characters)\" autoFocus />\r\n                    </Grid>,\r\n                    <Grid key='lName' item xs={ 12 } sm={ 6 }>\r\n                        <TextField required fullWidth id=\"lastName\" label=\"Last Name (2-15 Characters)\"\r\n                            name=\"lastName\" autoComplete=\"lname\" />\r\n                    </Grid>] }\r\n                    <Grid item xs={ 12 }>\r\n                        <TextField required fullWidth id=\"email\" label=\"Email Address\"\r\n                            name=\"email\" autoComplete=\"email\" type=\"email\" />\r\n                    </Grid>\r\n                    <Grid item xs={ 12 }>\r\n                        <TextField required fullWidth name=\"password\" label={ \"Password\" + (isLoginForm ? '' : ' (6-20 Characters)') }\r\n                            type=\"password\" id=\"password\" autoComplete=\"current-password\" />\r\n                    </Grid>\r\n                </Grid>\r\n\r\n                { props.error &&\r\n                    <div className=\"user-form-errors\">\r\n                        { props.error }\r\n                    </div>\r\n                }\r\n\r\n                <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\"\r\n                    className={ classes.submit }>\r\n                    { isLoginForm ? 'Login' : 'Sign up' }\r\n                </Button>\r\n\r\n                <Grid container justify=\"center\">\r\n                    <Grid item>\r\n                        { !isLoginForm ?\r\n                            <Link href=\"#\" onClick={ () => props.showModal({ component: Login }) } variant=\"body2\">Already have an account? Sign in</Link> :\r\n                            <Link href=\"#\" onClick={ () => props.showModal({ component: Signup }) } variant=\"body2\">No account? Sign up</Link>\r\n                        }\r\n                    </Grid>\r\n                </Grid>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    showModal\r\n};\r\n\r\nexport default connect(undefined, mapDispatchToProps)(UserForm);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { registerUser } from '../actions/UserActions';\r\nimport { hideModal } from '../actions/GenericActions';\r\n\r\nimport UserForm from './UserForm';\r\n\r\nclass Signup extends React.Component {\r\n    state = {\r\n        error: null\r\n    }\r\n\r\n    onSubmitForm = async (formData) => {\r\n        try {\r\n            await this.props.registerUser(formData);\r\n            this.props.hideModal();\r\n        }\r\n        catch (err) {\r\n            this.setState({ error: err.message });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <UserForm onSubmitForm={this.onSubmitForm} isLoginForm={false} error={this.state.error} />\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => (\r\n    {\r\n        loggedInUser: state.auth.loggedInUser,\r\n    }\r\n);\r\nconst mapDispatchToProps = {\r\n    registerUser, hideModal\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Signup);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addCmp, cmpToEdit, historyBack, publishWap, saveTemplate } from '../../actions/EditorActions';\r\nimport { showModal, toggleLoader } from '../../actions/GenericActions';\r\n\r\nimport EditPanel from './EditorSideNav/EditPanel';\r\nimport ElementsButtons from './EditorSideNav/ElementsButtons';\r\nimport SiteMap from './EditorSideNav/SiteMap';\r\nimport cmpsPrototypes from './EditorSideNav/cmps.js';\r\nimport WebsiteShare from '../Dashboard/WebsiteShare';\r\nimport Signup from '../Signup';\r\n\r\nclass EditorSideNav extends Component {\r\n    componentDidMount() {\r\n        document.onkeydown = this.handleKeyPress;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.onkeydown = null\r\n    }\r\n\r\n    handleKeyPress = (ev) => {\r\n        var evtobj = window.event ? window.event : ev\r\n        if (evtobj.keyCode === 90 && evtobj.ctrlKey) this.props.historyBack()\r\n    }\r\n\r\n    onAddCmp = (ev) => {\r\n        const { selectedCmpId } = this.props.draft;\r\n\r\n        const targetCmpId = selectedCmpId,\r\n            cmpType = ev.target.dataset.cmptype;\r\n\r\n        const webContainer = document.querySelector('.web-site-container');\r\n        if (selectedCmpId === '_rootElement') webContainer.scrollTo(0, webContainer.scrollHeight);\r\n\r\n        this.props.addCmp(targetCmpId, cmpsPrototypes[cmpType]());\r\n    }\r\n\r\n    onDragCmp = (ev) => {\r\n        ev.dataTransfer.setData(\"text\", ev.target.dataset.cmptype);\r\n    }\r\n\r\n    saveTemplate = async () => {\r\n        if (!this.props.loggedInUser) return this.props.showModal({ component: Signup });\r\n        try {\r\n            this.props.toggleLoader();\r\n            const templateData = await this.props.saveTemplate(this.props.draft);\r\n            this.props.toggleLoader();\r\n            this.moveToEdit(templateData, 'template');\r\n\r\n        } catch (err) { }\r\n    }\r\n\r\n    publishWap = async () => {\r\n        if (!this.props.loggedInUser) return this.props.showModal({ component: Signup });\r\n        try {\r\n            this.props.toggleLoader();\r\n            const wapData = await this.props.publishWap(this.props.draft);\r\n            this.props.toggleLoader();\r\n            this.props.showModal({ component: WebsiteShare, websiteData: wapData });\r\n            this.moveToEdit(wapData, 'wap');\r\n        } catch (err) { }\r\n    }\r\n\r\n    moveToEdit = (draftData, type) => {\r\n        const { _id } = draftData;\r\n        let editPath = type === 'wap' ? _id + '/wap' : _id;\r\n        this.props.history.push(`/editor/${editPath}`);\r\n    }\r\n\r\n\r\n    toggleActive = (ev) => {\r\n        const clickedTab = ev.target.dataset.name\r\n        this.props.cmpToEdit(undefined, clickedTab)\r\n    }\r\n\r\n    isPanelActive(panelName) {\r\n        return this.props.draft.openPanel === panelName;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"editor-side-nav\">\r\n                <div className=\"top-sidenav-btns\">\r\n                    <div data-name='sitemap' className={ `flex column align-center ${this.isPanelActive('sitemap') && `active`}` }\r\n                        onClick={ this.toggleActive }>\r\n                        <i className=\"fas fa-tree\"></i>\r\n                        <h2>Site Tree</h2>\r\n                    </div>\r\n                    <div data-name='add' className={ `flex column align-center ${this.isPanelActive('add') && `active`}` }\r\n                        onClick={ this.toggleActive }>\r\n                        <i className=\"fas fa-plus\"></i>\r\n                        <h2>Elements</h2>\r\n                    </div>\r\n\r\n                    <div data-name='edit' className={ `flex column align-center ${this.isPanelActive('edit') ? `active` : ``}` } onClick={ this.toggleActive }>\r\n                        <i className=\"fas fa-edit\"></i>\r\n                        <h2>Edit</h2>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className='edit-panel-container'>\r\n                    { this.isPanelActive('sitemap') && <SiteMap /> }\r\n                    { this.isPanelActive('add') && <ElementsButtons dragCmp={ this.onDragCmp } addCmp={ this.onAddCmp } /> }\r\n                    { this.isPanelActive('edit') && <EditPanel /> }\r\n                </div>\r\n\r\n                <div className=\"bottom-sidenav-btns\">\r\n                    <button onClick={ this.props.historyBack }><i className=\"fas fa-undo\"></i></button>\r\n                    <button onClick={ this.saveTemplate }><i className=\"far fa-save\"></i></button>\r\n                    <button onClick={ this.publishWap }><i className=\"fas fa-cloud-upload-alt\"></i></button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({ draft: state.draft, loggedInUser: state.auth.loggedInUser });\r\nconst mapDispatchToProps = { addCmp, cmpToEdit, showModal, historyBack, publishWap, saveTemplate, toggleLoader };\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EditorSideNav);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addCmp, removeCmp, updateCmp, moveCmp, cmpToEdit } from '../../actions/EditorActions';\r\n\r\nclass CmpToolbar extends React.Component {\r\n    onEditCmp = (ev) => {\r\n        this.props.cmpToEdit(this.props.cmpId);\r\n    }\r\n\r\n    onRemoveCmp = (ev) => {\r\n        const parentCmpId = ev.target.parentNode.parentNode.parentNode.id;\r\n        this.props.removeCmp(parentCmpId, this.props.cmpId);\r\n    }\r\n\r\n    onMoveCmp = (ev) => {\r\n        const diff = ev.target.dataset.diff,\r\n            parentCmpId = ev.target.parentNode.parentNode.parentNode.id;\r\n        this.props.moveCmp(parentCmpId, this.props.cmpId, +diff);\r\n    }\r\n\r\n    onCloneCmp = (ev) => {\r\n        const parentId = ev.target.parentNode.parentNode.parentNode.id,\r\n            newCmp = this.props.draft.cmps[this.props.cmpId];\r\n        this.props.addCmp(parentId, newCmp)\r\n    }\r\n\r\n    stopProp = (ev) => {\r\n        ev.stopPropagation();\r\n    }\r\n\r\n    render() {\r\n        if (this.props.cmpId === '_rootElement') return '';\r\n        return (\r\n            <div className=\"toolbar\" data-role='toolbar' onClick={this.stopProp} >\r\n                <i className=\"far fa-arrow-alt-circle-up\" data-diff='-1' onClick={this.onMoveCmp}></i>\r\n                <i className=\"far fa-arrow-alt-circle-down\" data-diff='1' onClick={this.onMoveCmp}></i>\r\n                <i className=\"far fa-clone\" onClick={this.onCloneCmp}></i>\r\n                <i className=\"edit fas fa-edit\" onClick={this.onEditCmp}></i>\r\n                <i className=\"remove fas fa-trash-alt\" onClick={this.onRemoveCmp}></i>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({ draft: state.draft });\r\nconst mapDispatchToProps = { addCmp, removeCmp, updateCmp, moveCmp, cmpToEdit };\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CmpToolbar);","import React from 'react';\r\nimport { getRandomId } from '../../services/utils'\r\nexport function addLoaderToImg(cmpData) {\r\n    return {\r\n        ...cmpData,\r\n        prefs: {\r\n            ...cmpData.prefs,\r\n            src: '/images/loader.gif'\r\n        }\r\n    };\r\n}\r\n\r\nexport function wrapChildlessElements(cmpData, onUpdateInnerText) {\r\n    if (cmpData.role === 'text') {\r\n        cmpData.children = [{\r\n            htmlTagName: 'span',\r\n            role: 'text',\r\n            prefs: {\r\n                contentEditable: true,\r\n                suppressContentEditableWarning: true,\r\n                onBlur: onUpdateInnerText,\r\n                onClick: (ev) => ev.stopPropagation(),\r\n                draggable: false,\r\n                onDragStart: (ev) => ev.preventDefault()\r\n            },\r\n            children: [...cmpData.children]\r\n        }]\r\n    }\r\n}\r\n\r\nexport function addEditorFunctionality(cmpData, { onSelectCmp, onDrop, allowDrop, onDragLeave, dragStart }, selectedCmpId) {\r\n\r\n    let properties = {\r\n        onClick: onSelectCmp\r\n    };\r\n\r\n    if (selectedCmpId === cmpData._id) properties['data-selected'] = 'true';\r\n\r\n    if (cmpData.role !== 'text' && cmpData.prefs.style &&\r\n        cmpData.prefs.style.flexDirection) {\r\n        properties['data-orientation'] = cmpData.prefs.style.flexDirection;\r\n    }\r\n\r\n    if (cmpData.role === '_root') {\r\n        properties['data-orientation'] = 'column';\r\n    }\r\n\r\n    if (cmpData.role === 'form') {\r\n        properties.onSubmit = (ev) => ev.preventDefault();\r\n    }\r\n\r\n    if (cmpData.role === 'section' || cmpData.role === '_root') {\r\n        properties.onDrop = onDrop;\r\n        properties.onDragOver = allowDrop;\r\n        properties.onDragLeave = onDragLeave;\r\n    } else {\r\n        properties.draggable = true;\r\n        properties.onDragStart = dragStart;\r\n    }\r\n\r\n    cmpData.prefs = {\r\n        ...cmpData.prefs,\r\n        ...properties\r\n    }\r\n}\r\n\r\nexport function renderSingleCmp(cmpData) {\r\n    return React.createElement(\r\n        cmpData.htmlTagName,\r\n        {\r\n            key: getRandomId(),\r\n            ...cmpData.prefs,\r\n        },\r\n        cmpData.children\r\n    );\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { selectCmp, addCmp, updateCmp, updateCmpText } from '../../actions/EditorActions';\r\nimport cmpsPrototypes from './EditorSideNav/cmps.js';\r\nimport { isLegalPlacement } from '../../services/editorReducerService';\r\n\r\nimport { toggleExpanderDragged } from '../../actions/GenericActions';\r\nimport CmpToolbar from './CmpToolbar';\r\nimport { wrapChildlessElements, addEditorFunctionality, renderSingleCmp } from './renderFunctions';\r\n\r\nclass WebsiteContainer extends React.Component {\r\n    state = { draggedElId: '', draggedElParentId: '' }\r\n\r\n    onSelectCmp = (ev) => {\r\n        ev.preventDefault();\r\n        ev.stopPropagation();\r\n        const cmpId = ev.target.id,\r\n            { cmps } = this.props.draft;\r\n\r\n        if (cmpId && cmps[cmpId]) {\r\n            this.props.selectCmp(cmpId);\r\n        }\r\n    }\r\n\r\n    resetDrag = () => {\r\n        this.setState({\r\n            draggedElId: '',\r\n            draggedElParentId: ''\r\n        });\r\n    }\r\n\r\n    onUpdateInnerText = (ev) => {\r\n        const { innerText, parentNode } = ev.target;\r\n        const cmpData = this.props.draft.cmps[parentNode.id];\r\n        if (cmpData.children[0] !== innerText) this.props.updateCmpText(innerText, cmpData);\r\n    }\r\n\r\n    onDrop = (ev) => {\r\n        ev.stopPropagation();\r\n        ev.preventDefault();\r\n\r\n        ev.target.classList.remove('dragHoverBottom', 'dragHoverTop');\r\n\r\n        if (!ev.target.id || ev.target.id === this.state.draggedElId) return this.resetDrag();\r\n\r\n\r\n        const cmpType = ev.dataTransfer.getData(\"text\"),\r\n            { draggedElParentId, draggedElId } = this.state;\r\n\r\n        if (cmpType === 'expander') {\r\n            this.props.toggleExpanderDragged()\r\n            return;\r\n        }\r\n\r\n\r\n        let elTarget = !ev.target.id ? ev.target.parentNode : ev.target,\r\n            cmps = this.props.draft.cmps,\r\n            elNewParent = ev.target;\r\n\r\n        const rect = ev.target.getBoundingClientRect();\r\n\r\n        let diff;\r\n        if (elNewParent.parentNode.dataset.orientation === 'column') {\r\n            const height = ev.clientY - rect.top;\r\n            diff = (height < ((rect.bottom - rect.top) / 2)) ? 0 : 1;\r\n        } else {\r\n            const width = ev.clientX - rect.left;\r\n            diff = (width < ((rect.right - rect.left) / 2)) ? 0 : 1;\r\n        }\r\n\r\n        let newCmp = cmpType ? cmpsPrototypes[cmpType]() : cmps[this.state.draggedElId];\r\n\r\n\r\n        let { id: newParentId } = elNewParent;\r\n        while (newParentId !== '_rootElement' && !isLegalPlacement(cmps, newParentId, newCmp)) {\r\n            elNewParent = elNewParent.parentNode;\r\n            newParentId = elNewParent.id;\r\n        }\r\n\r\n        if (this.state.draggedElId === newParentId || !isLegalPlacement(cmps, newParentId, newCmp)) return this.resetDrag();\r\n\r\n        cmpType ?\r\n            this.props.addCmp(newParentId, newCmp, elTarget.id, diff) :\r\n            this.props.updateCmp(cmps[draggedElId], draggedElParentId, newParentId, elTarget.id, diff);\r\n    }\r\n\r\n    allowDrop = (ev) => {\r\n        ev.preventDefault();\r\n        if (ev.target.id === this.state.draggedElId) return;\r\n\r\n        const { target, clientY, clientX } = ev,\r\n            allowedDropCmpsRoles = ['section', '_root', 'toolbar', 'nav', 'card'];\r\n        if (!allowedDropCmpsRoles.includes(target.dataset.role) && target.parentNode.dataset.role !== 'toolbar') {\r\n\r\n            let rect = target.getBoundingClientRect();\r\n            let diff;\r\n            if (target.parentNode.dataset.orientation === 'column') {\r\n                const height = clientY - rect.top;\r\n                diff = (height < ((rect.bottom - rect.top) / 2)) ? -1 : 1;\r\n            } else {\r\n                const width = clientX - rect.left;\r\n                diff = (width < ((rect.right - rect.left) / 2)) ? -1 : 1;\r\n            }\r\n\r\n            if (diff === -1) {\r\n                target.classList.add('dragHoverTop')\r\n                target.classList.remove('dragHoverBottom')\r\n            } else if (diff === 1) {\r\n                target.classList.add('dragHoverBottom')\r\n                target.classList.remove('dragHoverTop')\r\n            }\r\n        }\r\n    }\r\n\r\n    dragOver = (ev) => {\r\n        ev.preventDefault();\r\n        ev.target.classList.remove('dragHoverBottom', 'dragHoverTop');\r\n    }\r\n\r\n    dragStart = (ev) => {\r\n        let target = ev.target.contentEditable && !ev.target.id ? ev.target.parentNode : ev.target; // For text dragging\r\n\r\n        this.setState({\r\n            draggedElId: target.id,\r\n            draggedElParentId: target.parentNode.id\r\n        })\r\n    }\r\n\r\n    renderCmpsRecursive = (cmpData) => {\r\n        const { cmps, selectedCmpId } = this.props.draft;\r\n        cmpData = { ...cmpData };\r\n        wrapChildlessElements(cmpData, this.onUpdateInnerText);\r\n        addEditorFunctionality(cmpData,\r\n            {\r\n                onSelectCmp: this.onSelectCmp, allowDrop: this.allowDrop,\r\n                onDrop: this.onDrop, onDragLeave: this.dragOver, dragStart: this.dragStart\r\n            }, selectedCmpId);\r\n\r\n        return React.createElement(\r\n            cmpData.htmlTagName,\r\n            {\r\n                key: cmpData._id,\r\n                'data-role': cmpData.role,\r\n                ...cmpData.prefs,\r\n                id: cmpData._id\r\n            },\r\n\r\n            (Array.isArray(cmpData.children) ?\r\n                [\r\n                    <CmpToolbar cmpId={cmpData._id} key={cmpData._id + ' toolbar'} />,\r\n                    ...cmpData.children.map(child =>\r\n                        child.cmpId ?\r\n                            this.renderCmpsRecursive(cmps[child.cmpId]) :\r\n                            (child.role ? renderSingleCmp(child) : child))\r\n                ] : undefined)\r\n        );\r\n    }\r\n\r\n    componentDidMount() {\r\n        require('../../assets/scss/basics/editorTypography.scss');\r\n    }\r\n\r\n\r\n    render() {\r\n        const { cmps } = this.props.draft;\r\n        return (\r\n            <div className=\"web-site-container\">\r\n                {this.renderCmpsRecursive(cmps['_rootElement'])}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({ draft: state.draft, isExpanderDragged: state.modal.isExpanderDragged });\r\nconst mapDispatchToProps = { selectCmp, addCmp, toggleExpanderDragged, updateCmp, updateCmpText };\r\nexport default connect(mapStateToProps, mapDispatchToProps)(WebsiteContainer);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { toggleEditorExpansion, toggleExpanderDragged } from '../../actions/GenericActions';\r\n\r\nclass EditorExpander extends React.Component {\r\n\r\n    state = {\r\n        buttonStyle: {\r\n        }\r\n    }\r\n\r\n    handleDragStart = (ev) => {\r\n        const elExpander = ev.target;\r\n        ev.dataTransfer.setData(\"text\", \"expander\")\r\n        this.props.toggleExpanderDragged()\r\n        var dragPrev = elExpander.cloneNode(true);\r\n        dragPrev.style.display = \"none\";\r\n        ev.dataTransfer.setDragImage(dragPrev, 0, 0);\r\n    }\r\n\r\n    handleDrag = (ev) => {\r\n        ev.preventDefault()\r\n        const elExpander = ev.target;\r\n        const { clientX, clientY } = ev,\r\n            { clientWidth, clientHeight } = document.body\r\n\r\n        if (clientX <= 0 || clientY <= 0 ||\r\n            clientX >= clientWidth - elExpander.offsetWidth / 2 ||\r\n            clientY >= clientHeight - elExpander.offsetHeight / 2) return;\r\n\r\n\r\n        let offsetY = clientY - elExpander.offsetHeight / 2 + 'px',\r\n            offsetX = clientX - elExpander.offsetWidth / 2 + 'px';\r\n        this.setState({ buttonStyle: { left: offsetX, top: offsetY } });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <button style={ this.state.buttonStyle }\r\n                onDragStart={ this.handleDragStart } onDrag={ this.handleDrag } draggable\r\n                onClick={ this.props.toggleEditorExpansion } className=\"editor-expander\">\r\n                { this.props.isEditorExpanded ? <i className=\"fas fa-compress\"></i> : <i className=\"fas fa-expand\"></i> }\r\n            </button>);\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({ isEditorExpanded: state.modal.isEditorExpanded });\r\nconst mapDispatchToProps = { toggleEditorExpansion, toggleExpanderDragged };\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EditorExpander);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { resetDraft, loadDraft } from '../actions/EditorActions';\r\n\r\nimport EditorSideNav from '../cmps/Editor/EditorSideNav.jsx';\r\nimport WebsiteContainer from '../cmps/Editor/WebsiteContainer.jsx';\r\nimport EditorExpander from '../cmps/Editor/EditorExpander.jsx';\r\nimport Loader from '../cmps/Loader';\r\n\r\nclass Editor extends React.Component {\r\n    loadDraft = async () => {\r\n        const { id, type } = this.props.match.params;\r\n        this.props.loadDraft(id, type);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.match.params.id !== this.props.match.params.id) this.loadDraft();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadDraft();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.resetDraft();\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.draft.cmps) return <Loader />;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"editor flex\">\r\n                    <EditorSideNav history={this.props.history} />\r\n                    <WebsiteContainer />\r\n                    <EditorExpander />\r\n                </div>\r\n                <div className='editor-mobile-message flex auto-center'>Editor is available only on desktop and tablet</div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => (\r\n    {\r\n        draft: state.draft\r\n    }\r\n);\r\nconst mapDispatchToProps = { resetDraft, loadDraft };\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Editor);","export default function draftCreator(prototypeId) {\r\n    return {\r\n        type: 'template',\r\n        settings: {\r\n            name: '',\r\n            thumbnailUrl: '',\r\n        },\r\n        cmps: {\r\n            _rootElement: {\r\n                _id: '_rootElement',\r\n                htmlTagName: 'div',\r\n                role: '_root',\r\n                prefs: {\r\n                    className: 'web-wrapper'\r\n                },\r\n                children: []\r\n            }\r\n        }\r\n    }\r\n}\r\n","import React from 'react';\r\n\r\nexport default class MenusToggler extends React.Component {\r\n\r\n    closeMenu = () => {\r\n        window.onscroll = null;\r\n        this.props.closeMenu();\r\n    }\r\n\r\n    onKeyUp = (event) => {\r\n        if (event.key === 'Escape') this.props.closeMenu();\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('scroll', this.closeMenu);\r\n        window.addEventListener('keyup', this.onKeyUp);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll', this.closeMenu);\r\n        window.removeEventListener('keyup', this.onKeyUp);\r\n    }\r\n\r\n    render() {\r\n        return (<div className=\"menus-toggler\" onClick={this.closeMenu}></div>);\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink, Link } from 'react-router-dom';\r\n\r\nimport { getLoggedUser, logoutUser } from '../actions/UserActions';\r\n\r\nimport { showModal } from '../actions/GenericActions';\r\nimport { showChat } from '../actions/GenericActions';\r\n\r\nimport Login from './Login';\r\nimport Signup from './Signup';\r\nimport UserThumb from './UserThumb';\r\nimport TemplateListModal from './Modal/TemplateListModal';\r\nimport MenusToggler from './Modal/MenusToggler';\r\n\r\nclass NavBar extends Component {\r\n    state = {\r\n        isMenuOpen: false\r\n    }\r\n\r\n    onSignup = () => this.props.showModal({ component: Signup });\r\n    onLogin = () => this.props.showModal({ component: Login });\r\n    showTemplates = () => this.props.showModal({ component: TemplateListModal });\r\n    toggleMenu = () => this.setState(prevState => ({ isMenuOpen: !prevState.isMenuOpen }));\r\n\r\n    get authLinks() {\r\n        return this.props.loggedInUser ?\r\n            (<li><Link to=\"#\" onClick={this.props.logoutUser}>Signout</Link></li>) :\r\n            (<React.Fragment>\r\n                <li><Link to='#' onClick={this.onLogin}>Login</Link></li>\r\n                <li><Link to='#' onClick={this.onSignup}>Signup</Link></li>\r\n            </React.Fragment>);\r\n    }\r\n\r\n    get editorLinks() {\r\n        return this.props.match.params.pathName === 'editor' ?\r\n            (<li><Link to=\"#\" onClick={this.showTemplates}>Templates</Link></li>) :\r\n            (<li><NavLink to='/editor'>Editor</NavLink></li>);\r\n    }\r\n\r\n    get navClassNames() {\r\n        const { isMenuOpen } = this.state,\r\n            isInEditor = this.props.match.params.pathName === 'editor';\r\n\r\n        let navClassNames = (isMenuOpen ? ' menu-open' : '')\r\n            + (isInEditor ? ' in-editor' : '')\r\n            + (isInEditor && this.props.isEditorExpanded ? ' editor-expanded' : '');\r\n\r\n        return navClassNames;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.getLoggedUser();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <nav className={\"main-navbar flex align-center\" + this.navClassNames}>\r\n                {this.state.isMenuOpen && <MenusToggler closeMenu={this.toggleMenu} />}\r\n                <div className=\"flex space-between align-center nav-content\">\r\n                    <NavLink to='/'><span className=\"brand fs40\">Webify</span></NavLink>\r\n\r\n                    <div className=\"flex\">\r\n                        <ul className=\"links clean-list flex align-center\">\r\n                            <li><NavLink to='/' exact activeClassName='active'>Home</NavLink></li>\r\n                            {this.editorLinks}\r\n                            <li><Link to='#' onClick={this.props.showChat}>Support</Link></li>\r\n                            {this.authLinks}\r\n                        </ul>\r\n                        {this.props.loggedInUser && <Link to='/dashboard' className='nav-user-thumb'><UserThumb /></Link>}\r\n                        <button className=\"nav-hamburger\" onClick={this.toggleMenu}>\r\n                            <span></span>\r\n                            <span></span>\r\n                            <span></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state) => (\r\n    {\r\n        isEditorExpanded: state.modal.isEditorExpanded,\r\n        loggedInUser: state.auth.loggedInUser,\r\n        dragAddCmpFunc: state.draft.dragAddCmpFunc\r\n    }\r\n);\r\n\r\nconst mapDispatchToProps = { showModal, getLoggedUser, logoutUser, showChat };\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NavBar);\r\n","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { hideModal } from '../../actions/GenericActions';\r\n\r\nclass RegularModal extends React.Component {\r\n    state = {\r\n        isClosing: false\r\n    }\r\n\r\n    onModalClose = () => {\r\n        this.setState(() => {\r\n            setTimeout(() => this.props.hideModal(), 400);\r\n            return { isClosing: true };\r\n        })\r\n    }\r\n\r\n    onKeyUp = (event) => {\r\n        if (event.key === 'Escape') this.onModalClose();\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keyup', this.onKeyUp);\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keyup', this.onKeyUp);\r\n    }\r\n\r\n    render() {\r\n        const DynamicComponent = this.props.modalData.component;\r\n        return (\r\n            <div className={'modal-wrapper' + (this.state.isClosing ? ' fade-out' : '')} onClick={this.onModalClose}>\r\n                <div className=\"modal-content\" onClick={(event) => event.stopPropagation()}>\r\n\r\n                    <button onClick={this.onModalClose} className=\"dismiss simple-button normal-trans\">&times;</button>\r\n                    <DynamicComponent onModalClose={this.onModalClose} transData={this.props.modalData} />\r\n                </div>\r\n            </div>);\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    hideModal\r\n};\r\nexport default connect(null, mapDispatchToProps)(RegularModal);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { hideNotificationBox } from '../../actions/GenericActions';\r\n\r\nclass NotificationBox extends React.Component {\r\n    state = {\r\n        timerOut: null\r\n    }\r\n\r\n    setBoxTimer = () => {\r\n        this.setState({ timerOut: setTimeout(this.props.hideNotificationBox, 2700) });\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.notificationData !== this.props.notificationData && this.state.timerOut) {\r\n            clearTimeout(this.state.timerOut);\r\n            this.setState({ timerOut: null }, this.setBoxTimer)\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setBoxTimer();\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.timerOut || !this.props.notificationData.message) return '';\r\n        return (\r\n            <div className={'notification-box ' + this.props.notificationData.type}>\r\n                {this.props.notificationData.message}\r\n            </div>);\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = { hideNotificationBox };\r\nexport default connect(undefined, mapDispatchToProps)(NotificationBox);","import React from 'react';\r\nimport Loader from \"../Loader\";\r\n\r\nexport default function PageLoading() {\r\n    return (<div className=\"page-loading-screen flex auto-center\"><Loader /></div>);\r\n}","import io from 'socket.io-client';\r\nconst BASE_URL = process.env.NODE_ENV === 'production' ? '/' : '//localhost:3002';\r\nlet socket = null;\r\n\r\n\r\nconst setup = () => {\r\n    socket = io(BASE_URL);\r\n}\r\n\r\nconst terminate = () => {\r\n    socket = null;\r\n}\r\n\r\nconst on = (eventName, data) => socket.on(eventName, data);\r\nconst off = (eventName, data) => socket.off(eventName, data);\r\nconst emit = (eventName, data) => socket.emit(eventName, data);\r\nexport default { setup, terminate, on, off, emit };\r\n","import React from 'react';\r\n\r\nexport default class MsgPreview extends React.Component {\r\n    render() {\r\n        const { message } = this.props;\r\n        const msgBy = message.by === this.props.loggedUser ? \"user-msg\" : ''\r\n        return (\r\n            <li className={msgBy}>\r\n                <div className=\"flex space-between\">\r\n                </div>\r\n                {message.txt}\r\n            </li>)\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport socket from '../services/socketService.js';\r\nimport MsgPreview from './MsgPreview';\r\nimport { getLoggedUser } from '../actions/UserActions';\r\n\r\nimport { hideChat, displayNotificationBox } from '../actions/GenericActions';\r\n\r\nclass ChatBox extends React.Component {\r\n\r\n    state = {\r\n        msgTxt: '',\r\n        messages: [],\r\n        loggedUser: 'Guest'\r\n    }\r\n\r\n    onSubmitMsg = (ev) => {\r\n        ev.preventDefault();\r\n        if (!this.state.msgTxt) return;\r\n        socket.emit('chat msg', this.state.msgTxt);\r\n        this.setState({ msgTxt: '' });\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        let fieldName = event.target.name,\r\n            value = event.target.value;\r\n        this.setState({ [fieldName]: value });\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.initChat();\r\n    }\r\n\r\n    initChat = async () => {\r\n        try {\r\n            await this.props.getLoggedUser();\r\n        } catch (err) {\r\n            this.props.displayNotificationBox({ type: 'failure', message: 'Failed to upload image' });\r\n        }\r\n\r\n        if (this.props.loggedInUser) {\r\n            const { firstName } = this.props.loggedInUser\r\n            this.setState({ loggedUser: firstName })\r\n        }\r\n\r\n        socket.setup();\r\n\r\n        socket.emit('chat join', this.state.loggedUser);\r\n\r\n        socket.on('chat newMsg', (msg) => {\r\n\r\n            this.setState(prevState => ({ messages: [...prevState.messages, msg] }));\r\n        });\r\n\r\n        socket.on('chat newJoin', (newUser) => {\r\n            this.setState(prevState => ({ messages: [...prevState.messages, { by: 'System', txt: newUser + ' just joined!' }] }));\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        socket.terminate();\r\n    }\r\n\r\n    render() {\r\n        const { loggedUser, messages, msgTxt } = this.state\r\n        return (\r\n            <div className=\"chat-wrapper flex column\">\r\n                <span className=\"close-chat-btn\" onClick={ this.props.hideChat }><i className=\"fas fa-times\"></i></span>\r\n                <div className=\"chat-title\">\r\n                    <span>Webichat</span>\r\n                    <small>Guide to explore Webify</small>\r\n                </div>\r\n                <div className=\"chat-content\">\r\n                    <ul className=\"chat-messages clean-list\">\r\n                        { messages.map((message, idx) => <MsgPreview message={ message } loggedUser={ loggedUser } key={ idx } />) }\r\n                    </ul>\r\n                    <div className=\"chat-notifications text-center\"></div>\r\n                </div>\r\n\r\n                <form onSubmit={ this.onSubmitMsg } className=\"chat-inputs flex space-between\">\r\n                    <input autoComplete=\"off\" type=\"text\" name=\"msgTxt\" onChange={ this.handleChange } value={ msgTxt } />\r\n                    <button><i className=\"fas fa-paper-plane\"></i></button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => (\r\n    {\r\n        loggedInUser: state.auth.loggedInUser,\r\n        isChatShown: state.modal.isChatShown\r\n    }\r\n);\r\n\r\nconst mapDispatchToProps = { getLoggedUser, hideChat, displayNotificationBox };\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatBox);\r\n\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { toggleEditorExpansion } from '../actions/GenericActions';\r\n\r\nimport RegularModal from './Modal/RegularModal';\r\nimport NotificationBox from './Modal/NotificationBox';\r\nimport PageLoading from './Modal/PageLoading';\r\nimport ChatBox from './ChatBox';\r\n\r\nclass Modal extends React.Component {\r\n    \r\n    render() {\r\n        const { notificationBox, regularModal, isLoading,isChatShown } = this.props\r\n        return (\r\n            <React.Fragment>\r\n                { notificationBox && <NotificationBox notificationData={ notificationBox } /> }\r\n                { regularModal && <RegularModal modalData={ regularModal } /> }\r\n                { isLoading && <PageLoading /> }\r\n                {isChatShown && <ChatBox/>}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => (\r\n    {\r\n        notificationBox: state.modal.notificationBox,\r\n        regularModal: state.modal.regularModal,\r\n        isLoading: state.modal.isLoading,\r\n        isChatShown: state.modal.isChatShown\r\n    }\r\n);\r\nconst mapDispatchToProps = { toggleEditorExpansion };\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Modal);\r\n","import React from 'react';\r\nimport { Router, Switch, Route } from 'react-router-dom';\r\nimport { createBrowserHistory } from 'history';\r\n\r\nimport './assets/scss/main.scss';\r\n\r\n\r\nimport Home from './pages/Home.jsx';\r\nimport Dashboard from './pages/Dashboard.jsx';\r\nimport About from './pages/About.jsx';\r\nimport Editor from './pages/Editor.jsx';\r\n\r\nimport Navbar from './cmps/Navbar.jsx';\r\nimport Modal from './cmps/Modal.jsx';\r\n\r\nconst history = createBrowserHistory();\r\n\r\nclass App extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n\r\n            <Router history={history}>\r\n                <Route path=\"/:pathName?\" component={Navbar} />\r\n                <div className=\"content-wrapper\">\r\n                    <Switch>\r\n                        <Route path=\"/dashboard\" component={Dashboard} />\r\n                        <Route path=\"/editor/:id?/:type?\" component={Editor} />\r\n                        <Route path=\"/about\" component={About} exact />\r\n                        <Route path=\"/\" component={Home} />\r\n                    </Switch>\r\n                </div>\r\n                <Modal />\r\n            </Router>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { createStore, applyMiddleware, combineReducers, compose } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport editorReducer from './reducers/editorReducer';\r\nimport authReducer from './reducers/authReducer';\r\nimport modalReducer from './reducers/modalReducer';\r\nimport App from './App';\r\n\r\nconst rootReducer = combineReducers({\r\n    draft: editorReducer,\r\n    auth: authReducer,\r\n    modal: modalReducer\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n","import {\r\n    addRecursiveCmps, replaceParents, isLegalPlacement,\r\n    cmpRemove, setCmpDropPos, addToHistory, verifyNewIdMethod\r\n} from '../services/editorReducerService';\r\n\r\nexport default function draftReducer(state = {}, action = {}) {\r\n    switch (action.type) {\r\n        case 'DRAFT_SET': {\r\n            let draft = action.draft.cmps ? verifyNewIdMethod(action.draft) : action.draft;\r\n\r\n            return {\r\n                ...draft,\r\n                type: action.draftType,\r\n                selectedCmpId: '_rootElement',\r\n                openPanel: 'add',\r\n                linkCmpId: null,\r\n                history: []\r\n            };\r\n        }\r\n\r\n        case 'SETTINGS_UPDATE': {\r\n            return {\r\n                ...state,\r\n                settings: { ...action.settings }\r\n            };\r\n        }\r\n\r\n        case 'CMP_SELECT': {\r\n            const { selectedCmpId, switchPanel } = action,\r\n                editOnSelectCmpRoles = ['text', 'img'];\r\n            if (!selectedCmpId) return state;\r\n            const cmpRole = state.cmps[selectedCmpId].role;\r\n\r\n            if (editOnSelectCmpRoles.includes(cmpRole)) return { ...state, selectedCmpId, openPanel: switchPanel ? 'edit' : state.openPanel };\r\n\r\n            return { ...state, selectedCmpId, openPanel: switchPanel ? 'add' : state.openPanel }\r\n        }\r\n\r\n        case 'CMP_EDIT': {\r\n            const { selectedCmpId, openPanel } = action;\r\n            if (!selectedCmpId) return { ...state, openPanel }\r\n            return { ...state, selectedCmpId, openPanel: 'edit' }\r\n        }\r\n\r\n        case 'CMP_UPDATE': {\r\n            const history = addToHistory(state);\r\n\r\n            let { parentId, targetParentId, cmpData, targetId, diff } = action;\r\n\r\n            if (!cmpData || !cmpData._id) return state;\r\n\r\n            const cmps = { ...state.cmps };\r\n\r\n            if (parentId !== targetParentId || targetId) replaceParents(cmps, parentId, targetParentId, cmpData, targetId, diff);\r\n\r\n            cmps[cmpData._id] = { ...cmpData };\r\n            return { ...state, cmps, history };\r\n        }\r\n\r\n        case 'CMP_ADD': {\r\n            const history = addToHistory(state);\r\n            let { parentCmpId, cmpData, targetId, diff } = action;\r\n\r\n            if (!cmpData) return state;\r\n\r\n            parentCmpId = parentCmpId ? parentCmpId : state.selectedCmpId;\r\n\r\n            if (!isLegalPlacement(state.cmps, parentCmpId, cmpData))\r\n                throw new Error('You need to drop this element inside a section')\r\n\r\n            const cmps = { ...state.cmps };\r\n            const newCmp = addRecursiveCmps(cmpData, cmps);\r\n\r\n            cmps[parentCmpId] = { ...cmps[parentCmpId] };\r\n            cmps[parentCmpId].children = setCmpDropPos(cmps[parentCmpId].children, targetId, newCmp, diff);\r\n            return { ...state, cmps, selectedCmpId: parentCmpId, history };\r\n        }\r\n\r\n\r\n        case 'CMP_REMOVE': {\r\n            const history = addToHistory(state);\r\n            const { parentCmpId, cmpId } = action;\r\n\r\n            if (!cmpId || !parentCmpId || cmpId === '_rootElement') return state;\r\n\r\n            let cmps = { ...state.cmps };\r\n            cmps[parentCmpId] = { ...cmps[parentCmpId] };\r\n            cmps[parentCmpId].children = cmps[parentCmpId].children.filter(child => child.cmpId !== cmpId);\r\n            cmpRemove(cmps, cmpId);\r\n\r\n            return { ...state, cmps, selectedCmpId: parentCmpId, history };\r\n        }\r\n\r\n        case 'CMP_MOVE': {\r\n            const history = addToHistory(state);\r\n            const { parentCmpId, cmpId, diff } = action;\r\n            if (!cmpId || !parentCmpId || cmpId === '_rootElement') return state;\r\n\r\n            const cmps = { ...state.cmps };\r\n\r\n            cmps[parentCmpId] = { ...cmps[parentCmpId] };\r\n\r\n            const cmpIdx = cmps[parentCmpId].children.findIndex(child => child.cmpId === cmpId),\r\n                parentCmpChildren = cmps[parentCmpId].children.slice();\r\n\r\n            if (cmpIdx === 0 && diff === -1) return state;\r\n            if (cmps[parentCmpId]._id === '_rootElement') {\r\n                if (cmpIdx === cmps._rootElement.children.length - 1 && diff === 1) return state;\r\n            } else {\r\n                if (cmpIdx === parentCmpChildren.length - 1 && diff === 1) return state;\r\n            }\r\n\r\n            const cmpRef = parentCmpChildren[cmpIdx];\r\n            parentCmpChildren.splice(cmpIdx, 1, parentCmpChildren[cmpIdx + diff]);\r\n            parentCmpChildren.splice(cmpIdx + diff, 1, cmpRef);\r\n\r\n            cmps[parentCmpId].children = parentCmpChildren;\r\n\r\n            return { ...state, cmps, selectedCmpId: parentCmpId, history };\r\n        }\r\n\r\n        case 'LINK_CMPID_SET': {\r\n            let { linkCmpId } = action;\r\n\r\n            if (!linkCmpId) return state;\r\n\r\n            return { ...state, linkCmpId, openPanel: 'sitemap' };\r\n        }\r\n\r\n        case 'LINK_CMPID_UNSET': {\r\n            return { ...state, linkCmpId: null };\r\n        }\r\n\r\n        case 'CMP_NAME_CHANGE': {\r\n            const history = addToHistory(state);\r\n            let { cmpName } = action;\r\n\r\n            if (!cmpName) return state;\r\n\r\n            const cmps = { ...state.cmps };\r\n            cmps[state.selectedCmpId] = { ...cmps[state.selectedCmpId], cmpName };\r\n            return { ...state, cmps, history };\r\n        }\r\n\r\n        case 'CMP_ANCHOR_PLACE': {\r\n            const history = addToHistory(state);\r\n            let { anchoredCmpId } = action;\r\n\r\n\r\n            if (!anchoredCmpId || !state.linkCmpId) return state;\r\n            const cmps = { ...state.cmps };\r\n\r\n            const linkCmp = cmps[state.linkCmpId];\r\n            const linkedCmp = {\r\n                ...linkCmp,\r\n                htmlTagName: 'a',\r\n                prefs: { ...linkCmp.prefs, href: '#' + anchoredCmpId }\r\n            };\r\n\r\n            cmps[state.linkCmpId] = linkedCmp;\r\n            return { ...state, cmps, selectedCmpId: state.linkCmpId, openPanel: 'edit', linkCmpId: null, history };\r\n        }\r\n\r\n        case 'GO_BACK_IN_HISTORY': {\r\n            if (!state.history.length) return state;\r\n            const currentHistory = state.history.slice();\r\n            const lastState = currentHistory.pop();\r\n            return { ...state, ...lastState, history: currentHistory };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}"],"sourceRoot":""}