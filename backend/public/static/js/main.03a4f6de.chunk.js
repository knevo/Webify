(this.webpackJsonpwebify=this.webpackJsonpwebify||[]).push([[0],{203:function(e,t,a){e.exports=a(428)},213:function(e,t,a){},396:function(e,t,a){},425:function(e,t){},428:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),i=a.n(c),l=a(59),o=a(13),s=a(190),m=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function p(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var u=a(4),d=a(6),f=a.n(d);function h(e){var t,a,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return"webify","webify",t="https://api.cloudinary.com/v1_1/".concat("webify","/image/upload"),(a=new FormData).append("file",e.target.files[0]),a.append("upload_preset","webify"),r.next=6,f.a.awrap(fetch(t,{method:"POST",body:a}));case 6:return n=r.sent,r.next=9,f.a.awrap(n.json());case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}}))}function g(e){var t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:null}function v(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}function b(e,t,a){var n=e[t].role,r=a.role;if(!t||w(n))return!1;return"_root"!==n||!["text","img","button","input"].includes(r)}function E(e,t){var a=e[t];w(a.role)||a.children.forEach((function(t){E(e,t.cmpId)})),delete e[t]}function y(e,t,a,n,r,c){var i=e[t].children.filter((function(e){return e.cmpId!==n._id}));return e[t]=Object(u.a)({},e[t],{children:i}),e[a]=Object(u.a)({},e[a],{children:x(e[a].children,r,{cmpId:n._id},c)}),e}function C(e,t){if(!Array.isArray(e.children))return Object(u.a)({},e);var a=Object(u.a)({},e,{_id:"el-"+v(4)});return t[a._id]=a,a.children=a.children.map((function(e){return"object"!==typeof e?e:e.role?C(e,t):C(t[e.cmpId],t)})),{cmpId:a._id}}function w(e){return!!["text","img","button","video","map","input"].includes(e)}function x(e,t,a,n){if(e=e.slice(),t){var r=e.findIndex((function(e){return e.cmpId===t}));if(-1!==r)return-1===n&&0===r&&(n=0),e.splice(r+n,0,a),e}return e.push(a),e}function N(e){var t=e.cmps,a=e.selectedCmpId,n=e.history.slice();return 15===n.length&&n.shift(),n.push({cmps:Object(u.a)({},t),selectedCmpId:a}),n}function O(e){var t=JSON.parse(JSON.stringify(e)),a=t.cmps;for(var n in a._rootElement.children=a._rootElement.children.map((function(e){return"object"===typeof e&&e.cmpId&&(e.cmpId.includes("el-")||(e.cmpId="el-"+e.cmpId)),e})),a)if("_rootElement"!==n){var r=n;r.includes("el-")||(r="el-"+r),a[r]=Object(u.a)({},a[n],{_id:r}),Array.isArray(a[r].children)&&(a[r].children=a[r].children.map((function(e){return"object"===typeof e&&(e.cmpId&&!e.cmpId.includes("el-")?e.cmpId="el-"+e.cmpId:e.role&&(delete e.inheritIntellegenceFrom,delete e.prefs["data-id"])),e}))),delete a[r].prefs["data-id"],delete a[r].inheritIntellegenceFrom,n.includes("el-")||delete a[n]}return t}var j={loggedInUser:null};var k={notificationBox:null,regularModal:null,isEditorExpanded:!1,isLoading:!1,isExpanderDragged:!1,isChatShown:!1};var S=a(9),I=a(8),D=a(10),T=a(11),_=a(12),A=a(50),M=a(28),L=(a(213),function(e){return{type:"NOTIFICATION_BOX_DISPLAY",notificationData:e}}),U=function(e){return{type:"TOGGLE_MODAL",modalData:e}},P=function(e){return{type:"TOGGLE_CHAT",chatData:e}};function F(e){return function(t){return t(U(e))}}function W(){return function(e){return e(U(null))}}function B(e){return function(t){return t(L(e))}}function R(e){return function(t){return t(function(e){return{type:"TOGGLE_EDITOR_EXPANSION",isExpanded:e}}(e))}}function H(){return function(e){return e({type:"TOGGLE_LOADER"})}}function G(){return function(e){return e({type:"TOGGLE_EXPANDER_DRAGGED"})}}var z=a(65),V=a.n(z),q=V.a.create({withCredentials:!0}),Y=function e(t){var a=this;Object(S.a)(this,e),this.query=function(e){var t,n,r,c;return f.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:for(n in t=[],e)e[n]&&t.push(n+"="+e[n]);return r=t.length?"?"+t.join("&"):"",i.next=5,f.a.awrap(q.get(a.API_PATH+r));case 5:return c=i.sent,i.abrupt("return",c.data);case 7:case"end":return i.stop()}}))},this.save=function(e){return e._id?a._edit(e):a._add(e)},this.getById=function(e){var t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.awrap(q.get("".concat(a.API_PATH,"/").concat(e)));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}))},this.deleteById=function(e){var t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.awrap(q.delete("".concat(a.API_PATH,"/").concat(e)));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}))},this._add=function(e){var t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.awrap(q.post(a.API_PATH,e));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}))},this._edit=function(e){var t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.awrap(q.put("".concat(a.API_PATH,"/").concat(e._id),e));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}))},this.API_PATH=t},K=new Y("/api/templates"),X=Object(u.a)({},K),J=function(e){function t(){return Object(S.a)(this,t),Object(D.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"main-hero"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"main-hero-title"},"Creating a website was never easier!"),r.a.createElement("p",{className:"main-hero-text"},"Build a modern responsive website with just a few clicks!",r.a.createElement("a",{href:"#templates",className:"cta-button-1 center-block"},"Lets Get Started!"))))}}]),t}(n.Component),Q=function(e){function t(){return Object(S.a)(this,t),Object(D.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"dark-section",id:"features"},r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:"section-title"},"Meet our powerful Platform"),r.a.createElement("div",{className:"feature-container flex"},r.a.createElement("div",{className:"text-container"},r.a.createElement("h2",null,"Build a website easily!"),r.a.createElement("p",null,"Start from scratch or choose a designer-made template. Get started extremely fast with our simple and intuitive website builder which will allow you with no coding skills to maintain high customizabilty options.")),r.a.createElement("img",{src:"images/feature4.png",alt:"feature1"})),r.a.createElement("div",{className:"feature-container flex"},r.a.createElement("img",{src:"images/feature2.png",alt:"feature2"}),r.a.createElement("div",{className:"text-container"},r.a.createElement("h2",null,"Suited for any of your needs"),r.a.createElement("p",null,"Design and build your own high-quality websites. Whether you\u2019re promoting your business, showcasing your work, opening your store or starting a blog\u2014you can do it all with the Webify website builder."))),r.a.createElement("div",{className:"feature-container flex"},r.a.createElement("div",{className:"text-container"},r.a.createElement("h2",null,"Just Drag & Drop"),r.a.createElement("p",null,"With a super most innovative drag and drop website builder, you can design any website you want. Just Drag, Drop and Customize!"),r.a.createElement("p",null,"All the templates below were built using Webify Platform.")),r.a.createElement("img",{src:"images/feature3.png",alt:"feature3"}))))}}]),t}(r.a.Component),$=a(23),Z=function(e){function t(){return Object(S.a)(this,t),Object(D.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.template,n=t.onSelectTemplate,c=a.settings,i=c.name,l=c.thumbnailUrl;return r.a.createElement("li",null,r.a.createElement($.a,{to:"/editor/".concat(a._id),onClick:n},r.a.createElement("div",{className:""},i),r.a.createElement("div",{className:"template-cover"},r.a.createElement("img",{src:l||"/images/imagena.png",alt:i}),r.a.createElement("div",{className:"template-buttons"},r.a.createElement("button",{onClick:function(){return e.props.toggleEditorExpansion("expand")}},r.a.createElement("i",{className:"far fa-eye"}),"View Demo"),r.a.createElement("button",{onClick:function(){return e.props.toggleEditorExpansion("collapse")}},r.a.createElement("i",{className:"fas fa-edit"}),"Use Template")))))}}]),t}(r.a.Component),ee={toggleEditorExpansion:R},te=Object(o.b)(void 0,ee)(Z);function ae(){return r.a.createElement("div",{className:"loader-wrapper"},r.a.createElement("img",{src:"/images/loader.gif",className:"loader",alt:"Loading..."}))}var ne=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).onSelectTemplate=function(){return a.props.onSelectTemplate?a.props.onSelectTemplate():null},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this;return this.props.templates?r.a.createElement("ul",{className:"template-list clean-list"},this.props.templates.map((function(t){return r.a.createElement(te,{key:t._id,template:t,onSelectTemplate:e.onSelectTemplate})}))):r.a.createElement(ae,null)}}]),t}(r.a.Component),re=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={templates:null},a.componentDidMount=function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(X.query());case 2:e=t.sent,a.setState({templates:e});case 4:case"end":return t.stop()}}))},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal-template-list-container"},r.a.createElement("h2",{className:"modal-template-list-title"},"Choose a Template"),r.a.createElement(ne,{templates:this.state.templates,onSelectTemplate:this.props.hideModal}),r.a.createElement($.a,{onClick:this.props.hideModal,to:"/editor",className:"mega-button"},"Build your own Template ",r.a.createElement("i",{className:"fas fa-pencil-ruler"}))))}}]),t}(r.a.Component),ce={hideModal:W},ie=Object(o.b)(void 0,ce)(re);function le(e){return r.a.createElement("section",{className:"light-section",id:"templates"},r.a.createElement("div",{className:"container home-templates-selection"},r.a.createElement("h3",{className:"section-title"},"Choose your template!"),r.a.createElement(ne,{templates:e.templates}),r.a.createElement("button",{onClick:function(){return e.showModal({component:ie})},className:"show-more-templates"},"Show More")))}var oe=function(e){function t(){return Object(S.a)(this,t),Object(D.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer flex justify-center"},r.a.createElement("small",null," All rights reserved \xa9 Webify 2020 "))}}]),t}(n.Component),se=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={templates:null},a.componentDidMount=function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(X.query());case 2:e=t.sent,a.setState({templates:e.slice(0,8)});case 4:case"end":return t.stop()}}))},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,null),r.a.createElement(Q,null),r.a.createElement(le,{showModal:this.props.showModal,templates:this.state.templates}),r.a.createElement(oe,null))}}]),t}(r.a.Component),me={showModal:F},pe=Object(o.b)(void 0,me)(se),ue=new Y("/api/wap"),de=Object(u.a)({},ue),fe=a(429);var he=function(e,t,a,n){return{type:"CMP_ADD",parentCmpId:e,cmpData:t,targetId:a,diff:n}},ge=function(e,t,a,n,r){return{type:"CMP_UPDATE",cmpData:e,parentId:t,targetParentId:a,targetId:n,diff:r}},ve=function(e,t){return{type:"CMP_REMOVE",parentCmpId:e,cmpId:t}},be=function(e,t){return{type:"CMP_SELECT",selectedCmpId:e,switchPanel:t}},Ee=function(e,t,a){return{type:"CMP_MOVE",parentCmpId:e,cmpId:t,diff:a}},ye=function(e,t){return{type:"DRAFT_SET",draft:e,draftType:t}};function Ce(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(a){return a(be(e,t))}}function we(e,t){return function(a){return a(function(e,t){return{type:"CMP_EDIT",selectedCmpId:e,openPanel:t}}(e,t))}}function xe(e,t,a,n){return function(r){return f.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:try{r(he(e,t,a,n))}catch(i){r(L({type:"failure",message:i.message}))}case 1:case"end":return c.stop()}}))}}function Ne(e,t,a,n,r){return function(c){return f.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:try{c(ge(e,t,a,n,r))}catch(l){c(L({type:"failure",message:"Failed to update element"}))}case 1:case"end":return i.stop()}}))}}function Oe(e,t){return function(a){var n,r;return f.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,n={cmps:e.cmps,settings:Object(u.a)({},e.settings)},e.type===t&&(n._id=e._id),"wap"!==t){c.next=9;break}return c.next=6,f.a.awrap(de.save(n));case 6:r=c.sent,c.next=16;break;case 9:if("template"!==t){c.next=15;break}return c.next=12,f.a.awrap(X.save(n));case 12:r=c.sent,c.next=16;break;case 15:throw new Error("Failed");case 16:return a(ye(r,t)),c.abrupt("return",r);case 20:throw c.prev=20,c.t0=c.catch(0),a(L({type:"failure",message:"Failed to save "+("wap"===t?"Website":"Template")})),c.t0;case 25:case"end":return c.stop()}}),null,null,[[0,20]])}}var je=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).selectItem=function(e){e.target.select()},a.onCopyLink=function(){var e=document.querySelector("#website-share-url");e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")},a.editWebSettings=function(){var e=a.props,t=e.hideModal,n=e.transData,r=e.cmpToEdit;return t(),n.inDash?n.history.push("/editor/".concat(a.websiteData._id,"/wap")):r("_rootElement","edit")},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this.websiteData.settings,t=e.name,a=e.thumbnailUrl;return r.a.createElement("div",{className:"share-website"},r.a.createElement("h2",null,t),r.a.createElement("div",{className:"wide-ratio"},r.a.createElement("img",{src:a||"/images/imagena.png",alt:t})),r.a.createElement("div",{className:"text-center"},r.a.createElement("a",{href:"https://wap-ca.herokuapp.com/".concat(this.websiteData._id),rel:"noopener noreferrer",target:"_blank",className:"brand-link"},"Click here to visit your website!")),r.a.createElement("div",{className:"copy-link-section flex in-spacer-horiz-10"},r.a.createElement("input",{type:"text",defaultValue:"https://wap-ca.herokuapp.com/".concat(this.websiteData._id),onClick:this.selectItem,id:"website-share-url"}),r.a.createElement(fe.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:this.onCopyLink},"Copy")),r.a.createElement($.a,{onClick:this.editWebSettings,className:"mega-button",to:"#"},r.a.createElement("i",{className:"fas fa-wrench"})," Modify Website Settings"))}},{key:"websiteData",get:function(){return(this.props.transData||this.props).websiteData}}]),t}(r.a.Component),ke={cmpToEdit:we,hideModal:W},Se=Object(o.b)(void 0,ke)(je);var Ie=Object(o.b)((function(e){return{loggedInUser:e.auth.loggedInUser}}),void 0)((function(e){return r.a.createElement("div",{className:"user-thumb flex auto-center"},e.loggedInUser&&e.loggedInUser.imageUrl?r.a.createElement("img",{src:e.loggedInUser.imageUrl,alt:e.loggedInUser.firstName}):r.a.createElement("i",{className:"fas fa-user"}))})),De=function(e){function t(){return Object(S.a)(this,t),Object(D.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"dashboard-nav"},r.a.createElement("div",{className:"dashboard-nav-container"},r.a.createElement(Ie,null),r.a.createElement("ul",{className:"clean-list"},r.a.createElement("li",null,"Your Websites",this.props.userWaps?this.wapList:r.a.createElement(ae,null)))))}},{key:"wapList",get:function(){var e=this;return r.a.createElement("ul",{className:"websites-list clean-list"},this.props.userWaps&&this.props.userWaps.map((function(t){return r.a.createElement("li",{key:t._id},r.a.createElement($.a,{to:"#",onClick:function(){return e.props.showModal({component:Se,websiteData:t,inDash:!0,history:e.props.history})}},t.settings.name))})),r.a.createElement("li",null,r.a.createElement($.a,{to:"#",onClick:function(){return e.props.showModal({component:ie})}},"+ Create new website")))}}]),t}(r.a.Component),Te={showModal:F},_e=Object(o.b)(void 0,Te)(De),Ae=a(465),Me=a(466),Le=a(467),Ue=a(468),Pe=a(469),Fe=a(431),We=a(470),Be=Object(Ae.a)({card:{maxWidth:345},media:{height:140}});function Re(e){var t=Be(),a=e.wap.settings,n=a.thumbnailUrl,c=a.name;return r.a.createElement(Me.a,{className:t.card},r.a.createElement(Le.a,null,r.a.createElement(Ue.a,{className:t.media,image:n||"/images/imagena.png",title:"Contemplative Reptile"}),r.a.createElement(Pe.a,null,r.a.createElement(Fe.a,{gutterBottom:!0,variant:"h5",component:"h2",className:"text-center"},c))),r.a.createElement(We.a,{className:"flex space-around"},r.a.createElement("a",{href:"https://wap-ca.herokuapp.com/".concat(e.wap._id),target:"mywebsite"},r.a.createElement(fe.a,{size:"small",color:"primary"},"View")),r.a.createElement(fe.a,{size:"small",href:"/editor/".concat(e.wap._id,"/wap"),color:"primary"},"Edit"),r.a.createElement(fe.a,{onClick:function(){return e.deleteWap(e.wap._id)},size:"small",color:"primary"},"Delete")))}var He=function(e){function t(){return Object(S.a)(this,t),Object(D.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"text-center m20 large-font"},"Welcome ",this.props.loggedInUser.firstName,"!"),r.a.createElement("h4",{className:"bottom-divider medium-font"},"Your Websites:"),this.wapList&&!this.wapList.length?r.a.createElement("button",{className:"new-website-btn flex auto-center",onClick:function(){return e.props.showModal({component:ie})}},"+"):r.a.createElement("div",{className:"wap-list-container"},this.wapList))}},{key:"wapList",get:function(){var e=this;return this.props.userWaps&&this.props.userWaps.map((function(t){return r.a.createElement(Re,{deleteWap:e.props.deleteWap,key:t._id,wap:t})}))}}]),t}(n.Component),Ge={showModal:F},ze=Object(o.b)((function(e){return{loggedInUser:e.auth.loggedInUser}}),Ge)(He);function Ve(e){return console.log(e),r.a.createElement("div",null,"test")}var qe=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={userWaps:null},a.onDeleteWap=function(e){var t,n,r;return f.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=a.props,n=t.toggleLoader,r=t.displayNotificationBox,n(),c.prev=2,c.next=5,f.a.awrap(de.deleteById(e));case 5:a.loadWaps(),r({type:"success",message:"Website deleted successfully"}),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(2),r({type:"failure",message:"Failed to delete website"});case 12:n();case 13:case"end":return c.stop()}}),null,null,[[2,9]])},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.loadWaps()}},{key:"componentDidUpdate",value:function(){!this.state.userWaps&&this.props.loggedInUser&&this.loadWaps()}},{key:"loadWaps",value:function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(de.query());case 2:e=t.sent,this.setState({userWaps:e});case 4:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this;if(!this.props.loggedInUser)return r.a.createElement(ae,null);var t=this.state.userWaps;return r.a.createElement(A.b,{history:this.props.history},r.a.createElement("div",{className:"dashboard-wrapper"},r.a.createElement(_e,{userWaps:t,history:this.props.history}),r.a.createElement("div",{className:"dashboard-main-content"},r.a.createElement(A.c,null,r.a.createElement(A.a,{path:"/dashboard/wap/:id?",component:Ve}),r.a.createElement(A.a,{path:"/dashboard",render:function(a){return r.a.createElement(ze,Object.assign({},a,{deleteWap:e.onDeleteWap,userWaps:t}))}})))))}}]),t}(r.a.Component),Ye={toggleLoader:H,displayNotificationBox:B},Ke=Object(o.b)((function(e){return{loggedInUser:e.auth.loggedInUser}}),Ye)(qe),Xe=function(e){function t(){return Object(S.a)(this,t),Object(D.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("section",{className:"section"}))}}]),t}(n.Component),Je=a(20),Qe=a(485),$e=a(478),Ze=a(479),et=a(51),tt=a.n(et),at={spacing:"0 0 0 0",sizing:"0px",direction:"row",align:"stretch",justify:"space-between",grow:"1"};function nt(e){switch(e){case"img":case"video":case"map":case"media":return!0;default:return!1}}var rt={isMediaCmp:nt,isTextCmp:function(e){switch(e){case"text":case"button":case"title":return!0;default:return!1}},isSectionCmp:function(e){switch(e){case"form":case"section":case"card":case"nav":return!0;case"_root":default:return!1}},getSectionTitle:function(e){if(nt(e))return"Source";switch(e){case"text":return"Text";case"map":return"Location";case"button":case"input":return"Inner Text Edit";case"_root":return"Website Settings";default:return"Inner Content Alignment"}},initialValuesMap:at,isAlignmentActive:function(e,t){var a,n=t.prefs.style,r=n.flexDirection,c=n.alignItems,i=n.justifyContent,l=r||"row",o="row"===l,s="column"===l,m=!c||"stretch"===c,p="flex-start"===c,u="center"===c,d="flex-end"===c,f=!i||"space-between"===i,h="flex-start"===i,g="center"===i,v="flex-end"===i;switch(e){case"space-between":a=f;break;case"stretch":a=m;break;case"top":a=o&&p||s&&h;break;case"middle":a=o&&u||s&&g;break;case"bottom":a=o&&d||s&&v;break;case"left":a=s&&p||o&&h;break;case"center":a=s&&u||o&&g;break;case"right":a=s&&d||o&&v;break;default:a=!1}return a?"active":""},isDisabled:function(e,t,a){var n=!1;return"1"===(t.prefs.style.flexGrow||at.grow)&&("maxWidth"===e&&"row"===a||"minHeight"===e&&"column"===a)&&(n=!0),n},removeRedundantStyles:function(e){return e.width&&delete e.width,e.height&&delete e.height,"initial"===e.minHeight&&delete e.minHeight,"100%"!==e.maxWidth&&"initial"!==e.maxWidth||delete e.maxWidth,"space-between"===e.justifyContent&&delete e.justifyContent,"stretch"===e.alignItems&&delete e.alignItems,"0"!==e.padding&&"0px"!==e.padding&&"0px 0px 0px 0px"!==e.padding||delete e.padding,"0"!==e.margin&&"0px"!==e.margin&&"0px 0px 0px 0px"!==e.margin||delete e.margin,"0"!==e.borderRadius&&"0px"!==e.borderRadius&&"0px 0px 0px 0px"!==e.borderRadius||delete e.borderRadius,"16"===e.fontSize&&delete e.fontSize,e.backgroundColor&&e.backgroundColor.match(/rgba\(\d+,\d+,\d+,0\)/)&&delete e.backgroundColor,"normal"===e.fontWeight&&delete e.fontWeight,e}},ct=a(484),it=a(490),lt=a(477),ot=a(487),st=a(491),mt=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",thumbnailUrl:"",pages:[]},a.handleInput=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(Je.a)({},n,r),a.updateSettings)},a.onUploadImg=function(e){var t,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a.props.toggleLoader(),r.prev=1,r.next=4,f.a.awrap(h(e));case 4:n=r.sent,t=n.url,r.next=12;break;case 8:r.prev=8,r.t0=r.catch(1),a.props.displayNotificationBox({type:"failure",message:"Failed to upload image"}),t="";case 12:a.props.toggleLoader(),a.setState({thumbnailUrl:t},a.updateSettings);case 14:case"end":return r.stop()}}),null,null,[[1,8]])},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(u.a)({},this.props.draftSettings))}},{key:"updateSettings",value:function(){this.props.updateSettings(this.state)}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.thumbnailUrl;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("label",null,"Site Name"),r.a.createElement("input",{type:"text",placeholder:"Webify",className:"bottom-item",name:"name",value:t,onChange:this.handleInput})),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("div",{className:"upload-site-thumbnail"},r.a.createElement("label",null,"Thumbnail"),r.a.createElement("input",{style:{display:"none"},accept:"image/*",onChange:this.onUploadImg,name:"src",id:"img-upload",type:"file"}),r.a.createElement("label",{htmlFor:"img-upload"},r.a.createElement(fe.a,{variant:"contained",color:"primary",component:"span",title:"siteImg"},r.a.createElement("i",{className:"fas fa-upload"})))),r.a.createElement("div",{className:"site-thumbnail"},r.a.createElement("img",{src:a||"/images/imagena.png",alt:t})),r.a.createElement("input",{type:"text",placeholder:"Or enter thumbnail URL",className:"bottom-item",name:"thumbnailUrl",value:a||"",onChange:this.handleInput})))}}]),t}(r.a.Component),pt={updateSettings:function(e){return function(e){return{type:"SETTINGS_UPDATE",settings:e}}(e)},displayNotificationBox:B},ut=Object(o.b)((function(e){return{draftSettings:e.draft.settings}}),pt)(mt),dt=a(192),ft=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={color:"",showColorPicker:!1},a.toggleColorPicker=function(){a.setState((function(e){return{showColorPicker:!e.showColorPicker}}))},a.handleColorChange=function(e){var t=e.rgb,n=t.r,r=t.g,c=t.b,i=t.a;a.props.onColorChange(a.props.name,"rgba(".concat(n,",").concat(r,",").concat(c,",").concat(i,")"))},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"componentDidUpdate",value:function(e){e.selectedCmpId!==this.props.selectedCmpId&&this.setState({showColorPicker:!1})}},{key:"render",value:function(){var e=this.state.showColorPicker;return r.a.createElement("div",{className:"flex space-between colorpick-container input-group"},r.a.createElement("label",null,"color"===this.props.name?"Color":"Background Color"),r.a.createElement(fe.a,{variant:"contained",style:{backgroundColor:this.props.color},title:this.props.name,onClick:this.toggleColorPicker},r.a.createElement("i",{className:this.props.icon})),e&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"colorpicker-cover",onClick:this.toggleColorPicker}),r.a.createElement(dt.ChromePicker,{color:this.props.color,onChange:this.handleColorChange})))}}]),t}(n.Component),ht=a(488),gt=a(475),vt=a(471),bt=a(486),Et=a(472);function yt(e){return r.a.createElement(vt.a,{size:"small"},r.a.createElement(bt.a,{htmlFor:"".concat(e.field)},e.label),r.a.createElement(Et.a,{id:"".concat(e.field),type:"number",onChange:e.handleChange,inputProps:{min:"0"},value:parseInt(e.initialValue||0,10)}))}var Ct={low:100,medium:500,high:1500},wt={low:0,medium:5,high:50},xt=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={isDetailsOpen:!1},a.joinAttribute=function(e){return a.isSplitAttr(a.props.field)?"".concat(e,"px ").concat(e,"px ").concat(e,"px ").concat(e,"px"):e},a.formatValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",t=e.split(" ");return 4!==t.length?a.joinAttribute(parseInt(e,10)).split(" "):t},a.handleAttributeChange=function(e,t){var n=a.formatValue(a.props.initialValue);n[e]="".concat(t,"px"),a.props.handleChange(a.props.field,n.join(" "))},a.toggleDetails=function(){a.setState((function(e){return{isDetailsOpen:!e.isDetailsOpen}}))},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"componentDidUpdate",value:function(e){e.selectedCmpId!==this.props.selectedCmpId&&this.setState({isDetailsOpen:!1})}},{key:"getRangeValues",value:function(e){var t,a=wt.low,n=wt,r=Ct;switch(e){case"fontSize":a=n.medium;break;case"borderRadius":a=n.low;break;case"letterSpacing":t=r.low;break;case"padding":case"margin":t=r.medium;break;case"maxWidth":case"minHeight":t=r.high,a=1;break;default:t=r.high,a=n.low}return{maxInput:t,minInput:a}}},{key:"isSplitAttr",value:function(e){switch(e){case"padding":case"margin":case"borderRadius":return!0;default:return!1}}},{key:"render",value:function(){var e=this,t=["Top","Right","Bottom","Left"],a=this.props,n=a.field,c=a.initialValue,i=a.label,l=this.getRangeValues(n),o=l.maxInput,s=l.minInput;return r.a.createElement(r.a.Fragment,null,i&&r.a.createElement("label",null,i,"  ",r.a.createElement(ot.a,{title:this.tooltip,placement:"bottom",arrow:!0},r.a.createElement("i",{className:"fas fa-question-circle"}))),r.a.createElement("div",{className:"flex range-container"},r.a.createElement(ht.a,{min:s,max:o,value:parseInt(c,10)||0,onChange:function(t,a){return e.props.handleChange(n,e.joinAttribute(a))},valueLabelDisplay:"auto",disabled:this.props.disabled}),this.isSplitAttr(n)&&r.a.createElement("i",{onClick:this.toggleDetails,className:"detail-toggle fas fa-caret-square-down"+(this.state.isDetailsOpen?" open":"")})),this.isSplitAttr(n)&&r.a.createElement("div",{className:"detailed-range"+(this.state.isDetailsOpen?" open":"")},r.a.createElement(gt.a,{className:"detail-form",row:!0},this.formatValue(c).map((function(a,c){return r.a.createElement(yt,{key:c,label:t[c],field:n+t[c],initialValue:a,handleChange:function(t){return e.handleAttributeChange(c,t.target.value)}})})))))}},{key:"tooltip",get:function(){switch(this.props.field){case"padding":return"Spacing of the element from the inside";case"margin":return"Spacing of the element from the outside";case"borderRadius":return"Rounded corners radius";case"letterSpacing":return"Spacing between the letters";case"fontSize":return"Text size";default:return"customize"}}}]),t}(n.Component);var Nt={setLinkCmpId:function(e){return function(t){return t(function(e){return{type:"LINK_CMPID_SET",linkCmpId:e}}(e))}}},Ot=Object(o.b)((function(e){return{draft:e.draft}}),Nt)((function(e){var t="normal",a="left",n="flex-start",c="OpenSans",i=e.draft.cmps,l=e.cmp.prefs.href,o=/^#(el-[\w]{4,6})$/,s=l&&o.test(l),m=s?i[l.match(o)[1]].cmpName:"",p=s?"Links to Anchor at: "+m:"Enter Link",u=e.cmp.prefs.style;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("textarea",{value:e.cmp.children[0],rows:3,placeholder:"Enter Text",onChange:e.updateInnerTxt}),r.a.createElement("div",{className:"link-text-input-group"},r.a.createElement("textarea",{value:s?"":e.cmp.prefs.href,rows:"1",placeholder:p,onChange:e.updateCmpLink}),r.a.createElement(fe.a,{variant:"contained",color:"primary",component:"span",title:"Place Anchor",onClick:function(){return e.setLinkCmpId(e.cmp._id)}},r.a.createElement("i",{className:"fas fa-anchor"})))),r.a.createElement(ft,{selectedCmpId:e.cmp._id,name:"color",color:u.color,icon:"fas fa-font",onColorChange:e.handleStyleChange}),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",null,"Align"),r.a.createElement(ct.a,{value:u.textAlign||a,name:"textAlign",onChange:e.handleStyleChange},r.a.createElement(it.a,{value:"left"},"Left"),r.a.createElement(it.a,{value:"center"},"Center"),r.a.createElement(it.a,{value:"right"},"Right"))),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",null,"Vertical Align"),r.a.createElement(ct.a,{value:u.alignItems||n,name:"alignItems",onChange:e.handleStyleChange},r.a.createElement(it.a,{value:"flex-start"},"Top"),r.a.createElement(it.a,{value:"center"},"Middle"),r.a.createElement(it.a,{value:"flex-end"},"Bottom"))),r.a.createElement("div",{className:"input-group"},r.a.createElement(xt,{field:"fontSize",label:"Text Size",initialValue:u.fontSize,handleChange:e.handleStyleChange})),r.a.createElement("div",{className:"input-group"},r.a.createElement(xt,{field:"letterSpacing",label:"Letter Spacing",initialValue:u.letterSpacing,handleChange:e.handleStyleChange})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{style:{padding:"6px 0 7px"}},"Font   ",r.a.createElement(ot.a,{title:"change font type",placement:"bottom",arrow:!0},r.a.createElement("i",{className:"fas fa-question-circle"}))),r.a.createElement(ct.a,{value:u.fontFamily||c,name:"fontFamily",onChange:e.handleStyleChange},["Helvetica","OpenSans","Cursive","Courgette","Roboto","Caveat","Solway","Pacifio","Lobster","Dancing Script","Nunito","Railway","Futura Light"].map((function(e,t){return r.a.createElement(it.a,{style:{fontFamily:e},key:t,value:e},e)})))),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{style:{padding:"6px 0 7px"}},"Font Weight   ",r.a.createElement(ot.a,{title:"change font boldness",placement:"bottom",arrow:!0},r.a.createElement("i",{className:"fas fa-question-circle"}))),r.a.createElement(ct.a,{value:u.fontWeight||t,name:"fontWeight",onChange:e.handleStyleChange},r.a.createElement(it.a,{value:"normal"},"Normal"),r.a.createElement(it.a,{value:"bold"},"Bold"))))}));function jt(e,t){var a,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a="img"===t?"https://api.unsplash.com/search/photos?page=1&per_page=30&query=".concat(e||"Nature","&client_id=05fd438aef6ac25dd06f537fcaffb66c3fd374a3fd0afaf18e4509bd0b6bfd46"):"https://www.googleapis.com/youtube/v3/search?part=snippet&videoEmbeddable=true&type=video&maxResults=20&key=AIzaSyDARh-8oqGeyXu3wApEP7jwP2w_NRjTdY8&q=".concat(e),r.next=3,f.a.awrap(V.a.get(a));case 3:return n=r.sent,r.abrupt("return",kt(n.data,t));case 5:case"end":return r.stop()}}))}function kt(e,t){return"img"===t?e.results.map((function(e){return{thumbnailSrc:(t=e).urls.small,src:t.urls.regular};var t})):e.items.map((function(e){return{thumbnailSrc:(t=e).snippet.thumbnails.medium.url,src:t.id.videoId,title:t.snippet.title};var t}))}function St(e){var t=e.img,a=e.onSelectItem;return r.a.createElement("li",{onClick:function(){return a(t.src)}},r.a.createElement("div",{className:"img-thumbnail-wrapper"},r.a.createElement("img",{src:t.thumbnailSrc,alt:"Search Result"})))}function It(e){var t=e.video,a=e.onSelectItem;return r.a.createElement("li",{onClick:function(){return a(t.src)}},r.a.createElement("div",{className:"video-thumbnail-wrapper"},r.a.createElement("img",{src:t.thumbnailSrc,alt:"Search Result"})),r.a.createElement("span",{className:"media-title"},t.title))}var Dt=function(e){function t(e){var a;return Object(S.a)(this,t),(a=Object(D.a)(this,Object(T.a)(t).call(this,e))).state={searchQuery:"",mediaItems:null},a.loadMediaItems=function(){var e,t,n=arguments;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:a.state.searchQuery,r.next=3,f.a.awrap(jt(e,a.apiType));case 3:t=r.sent,a.setState({mediaItems:t});case 5:case"end":return r.stop()}}))},a.handleSearch=function(e){var t=e.target.value;a.setState({searchQuery:t},a.loadMediaItems)},a.onSelectItem=function(e){return a.props.onModalClose(),e="video"===a.apiType?"https://www.youtube.com/watch?v=".concat(e):e,a.props.transData.onSelectItem(e)},a.loadMediaItems=function(e,t){var a=null;return function(){for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];var i=this;a&&clearTimeout(a),a=setTimeout((function(){e.apply(i,r)}),t)}}(a.loadMediaItems,500),a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.loadMediaItems()}},{key:"render",value:function(){var e=this,t=this.state,a=t.mediaItems,n=t.searchQuery;return r.a.createElement("div",{className:"api-media-search-modal flex column"},r.a.createElement("div",{className:"actions-panel flex space-between align-center"},r.a.createElement("input",{type:"search",placeholder:"Search",value:n,onChange:this.handleSearch})),r.a.createElement("div",{className:"cards-container"},a?r.a.createElement("ul",{className:"api-media-cards clean-list"},"video"===this.apiType?a.map((function(t,a){return r.a.createElement(It,{key:a,video:t,onSelectItem:e.onSelectItem})})):a.map((function(t,a){return r.a.createElement(St,{key:a,img:t,onSelectItem:e.onSelectItem})}))):r.a.createElement(ae,null)))}},{key:"apiType",get:function(){return this.props.transData.apiType}}]),t}(r.a.Component),Tt=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={isUrlBoxOpen:!1,urlText:""},a.toggleUrlTextbox=function(){a.setState((function(e){return{isUrlBoxOpen:!e.isUrlBoxOpen}}))},a.showApiModal=function(){var e=a.props,t=e.showModal,n=e.updateMediaSrc,r="video"===e.cmp.role?"video":"img";return t({component:Dt,onSelectItem:n,apiType:r})},a.handleUrlSave=function(){a.props.updateMediaSrc(a.state.urlText),a.setState({urlText:"",isUrlBoxOpen:!1})},a.handleInput=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(Je.a)({},n,r))},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"getMapLocationString",value:function(e){var t=e.match(/q=(.*)&t/);return t?t[1].replace("%20"," "):""}},{key:"render",value:function(){var e=this.props,t=e.onUploadImg,a=e.updateMediaSrc,n=e.cmp;return"video"===n.role||"img"===n.role?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-group"},r.a.createElement("label",null,"Upload"),r.a.createElement("input",{style:{display:"none"},accept:"image/*",onChange:t,id:"img-upload",type:"file"}),r.a.createElement("label",{htmlFor:"img-upload"},r.a.createElement(fe.a,{variant:"contained",color:"primary",component:"span",title:"Upload Your Image"},r.a.createElement("i",{className:"fas fa-upload"})))),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",null,"Search"),r.a.createElement("label",null,r.a.createElement(fe.a,{variant:"contained",color:"primary",component:"span",title:"Search Online",onClick:this.showApiModal},r.a.createElement("i",{className:"fas fa-search"})))),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",null,"URL"),r.a.createElement("label",null,r.a.createElement(fe.a,{variant:"contained",color:"primary",component:"span",title:"URL",onClick:this.toggleUrlTextbox},r.a.createElement("i",{className:"fas fa-link"}))),r.a.createElement("div",{className:"slider-input-container flex space-between"+(this.state.isUrlBoxOpen?" open":"")},r.a.createElement("input",{type:"text",name:"urlText",placeholder:"Enter URL Here",value:this.state.urlText,onChange:this.handleInput}),r.a.createElement(fe.a,{variant:"contained",color:"primary",component:"span",title:"Save URL",onClick:this.handleUrlSave},r.a.createElement("i",{className:"far fa-save"}))))):"map"===n.role?r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("label",null,"Location Address"),r.a.createElement("input",{type:"text",placeholder:"map"===n.role?"Location Address":"URL",className:"bottom-item",value:this.mediaSrc,onChange:function(e){return a(e.target.value)}})):r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("label",{htmlFor:""},"Background Image"),r.a.createElement("div",{className:"bottom-item flex space-between wrap"},r.a.createElement("input",{style:{display:"none"},accept:"image/*",onChange:t,id:"img-upload",type:"file"}),r.a.createElement("label",{htmlFor:"img-upload"},r.a.createElement(fe.a,{variant:"contained",color:"primary",component:"span",title:"Background Image"},r.a.createElement("i",{className:"fas fa-upload"}))),r.a.createElement(fe.a,{variant:"contained",color:"primary",component:"span",title:"Search Online",onClick:this.showApiModal},r.a.createElement("i",{className:"fas fa-search"})),r.a.createElement(fe.a,{variant:"contained",color:"primary",component:"span",title:"URL",onClick:this.toggleUrlTextbox},r.a.createElement("i",{className:"fas fa-link"})),r.a.createElement("div",{className:"slider-input-container flex space-between"+(this.state.isUrlBoxOpen?" open":"")},r.a.createElement("input",{type:"text",name:"urlText",placeholder:"Enter URL Here",value:this.state.urlText,onChange:this.handleInput}),r.a.createElement(fe.a,{variant:"contained",color:"primary",component:"span",title:"Save URL",onClick:this.handleUrlSave},r.a.createElement("i",{className:"far fa-save"})))))}},{key:"urlFromBgImg",get:function(){var e=this.props.cmp.prefs.style.backgroundImage;return e?e.match(/\((.*?)\)/)[1].replace(/('|")/g,""):""}},{key:"mediaSrc",get:function(){var e=this.props.cmp.children[0].prefs.src;return"map"===this.props.cmp.role?this.getMapLocationString(e):e}}]),t}(n.Component),_t={showModal:F},At=Object(o.b)(void 0,_t)(Tt),Mt=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).handleFlexChange=function(e){var t=a.props,n=t.handleStyleChange,r=t.cmp.prefs.style.flexDirection,c=e.target.name,i="top"===c||"middle"===c||"bottom"===c;n("column"===r?i?"justifyContent":"alignItems":i?"alignItems":"justifyContent",e.target.value)},a.isAlignActive=function(e){return rt.isAlignmentActive(e,a.props.cmp)},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleStyleChange,a=e.cmp,n=e.onUploadImg,c=e.toggleLoader,i=e.updateCmpLink,l=e.updateInnerTxt,o=e.updateMediaSrc,s=this.isAlignActive,m=this.handleFlexChange,p=a.role,u=a.prefs.style;return r.a.createElement(r.a.Fragment,null,"_root"===p&&r.a.createElement(ut,{toggleLoader:c}),"input"===p&&r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:""},"Placeholder"),r.a.createElement("input",{type:"text",value:a.children[0].prefs.placeholder,onChange:function(e){return t("placeholder",e.target.value)}})),rt.isTextCmp(p)&&r.a.createElement(Ot,{updateCmpLink:i,handleStyleChange:t,updateInnerTxt:l,cmp:a}),rt.isMediaCmp(p)&&r.a.createElement(At,{onUploadImg:n,cmp:a,updateMediaSrc:o}),rt.isSectionCmp(p)&&r.a.createElement("div",{className:"input-group"},r.a.createElement("label",null,"Orientation"),r.a.createElement(ct.a,{value:u.flexDirection||"row",name:"flexDirection",onChange:t},r.a.createElement(it.a,{value:"row"},"Horizontal"),r.a.createElement(it.a,{value:"column"},"Vertical"))),rt.isSectionCmp(p)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(lt.a,{size:"small",className:"input-wrapper"},r.a.createElement(fe.a,{className:s("top"),onClick:m,name:"top",value:"flex-start"},"Top"),r.a.createElement(fe.a,{className:s("middle"),onClick:m,name:"middle",value:"center"},"Middle"),r.a.createElement(fe.a,{className:s("bottom"),onClick:m,name:"bottom",value:"flex-end"},"Bottom")),r.a.createElement(lt.a,{size:"small",className:"input-wrapper"},r.a.createElement(fe.a,{className:s("left"),onClick:m,name:"left",value:"flex-start"},r.a.createElement("i",{className:"fas fa-align-left"})),r.a.createElement(fe.a,{className:s("center"),onClick:m,name:"center",value:"center"},r.a.createElement("i",{className:"fas fa-align-center"})),r.a.createElement(fe.a,{className:s("right"),onClick:m,name:"right",value:"flex-end"},r.a.createElement("i",{className:"fas fa-align-right"}))),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",null,"Stretch ","column"===u.flexDirection?"Horizontally":"Vertically",r.a.createElement(ot.a,{title:"Stretching all the elements inside perpendicular to the orientation",placement:"bottom",arrow:!0},r.a.createElement("i",{className:"fas fa-question-circle"}))),r.a.createElement("div",{className:"auto-switch-container"},r.a.createElement(st.a,{checked:!!s("stretch"),onChange:t,name:"alignItems",value:"stretch"}))),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",null,"Spacing",r.a.createElement(ot.a,{title:"Adds spacing between the elements automatically",placement:"bottom",arrow:!0},r.a.createElement("i",{className:"fas fa-question-circle"}))),r.a.createElement("div",{className:"auto-switch-container"},r.a.createElement("label",null,"Auto"),r.a.createElement(st.a,{checked:!!s("space-between"),onChange:t,name:"justifyContent",value:"space-between"})))))}}]),t}(r.a.Component),Lt=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).setFlexGrow=function(){var e=a.props.handleStyleChange,t=a.props.cmp.prefs.style,n=t.maxWidth,r=t.flexGrow,c=r&&"0"!==r?"0":"1";a.props.handleStyleChange("flexGrow",c),"row"===a.parentFlexDir&&n&&"initial"!==n&&"0"===c&&e("maxWidth","initial")},a.toggleSizeView=function(e){var t=e.target,n=t.name,r=t.checked,c=a.props.handleStyleChange,i=a.props.cmp.prefs.style.flexGrow,l=r?"initial":"1";c(n,l),"maxWidth"===n&&"row"===a.parentFlexDir&&"initial"!==l&&"0"===i&&c("flexGrow","1")},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleStyleChange,a=e.handleDatasetChange,n=e.cmp,c=n.role,i=n.prefs.style;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-group"},r.a.createElement("label",null,"Width"),r.a.createElement("div",{className:"auto-switch-container"},r.a.createElement("label",null,"Auto"),r.a.createElement(st.a,{checked:!this.isWidthShown,name:"maxWidth",onChange:this.toggleSizeView}))),this.isWidthShown&&r.a.createElement(xt,{field:"maxWidth",selectedCmpId:n._id,initialValue:i.maxWidth||at.sizing,handleChange:t}),"_root"!==c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-group"},r.a.createElement("label",null,"Height"),r.a.createElement("div",{className:"auto-switch-container"},r.a.createElement("label",null,"Auto"),r.a.createElement(st.a,{checked:!this.isHeightShown,name:"minHeight",onChange:this.toggleSizeView}))),this.isHeightShown&&r.a.createElement(xt,{field:"minHeight",selectedCmpId:n._id,initialValue:i.minHeight||at.sizing,handleChange:t}),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",null,"Stretch ","column"===this.parentFlexDir?"Vertically":"Horizontally",r.a.createElement(ot.a,{title:"Stretching the element according to it's parent orientation"+this.disabledStretchInfo,placement:"bottom",arrow:!0},r.a.createElement("i",{className:"fas fa-question-circle"}))),r.a.createElement(st.a,{checked:!(!i.flexGrow||"0"===i.flexGrow),onChange:this.setFlexGrow,value:"flexGrow",color:"primary",disabled:this.isParentRoot})),rt.isMediaCmp(c)&&r.a.createElement("div",{className:"input-group"},r.a.createElement("label",null,"Aspect Ratio"),r.a.createElement(ct.a,{value:n.prefs["data-aspect"]||"normal",name:"aspect",onChange:a},r.a.createElement(it.a,{value:"normal"},"Normal"),r.a.createElement(it.a,{value:"16-9"},"16:9"),r.a.createElement(it.a,{value:"square"},"1:1"),r.a.createElement(it.a,{value:"4-3"},"4:3")))))}},{key:"isWidthShown",get:function(){var e=this.props.cmp.prefs.style;return!("initial"===e.maxWidth||!e.maxWidth||"row"===this.parentFlexDir&&"0"===e.flexGrow)}},{key:"isHeightShown",get:function(){var e=this.props.cmp.prefs.style;return!("initial"===e.minHeight||!e.minHeight)}},{key:"disabledStretchInfo",get:function(){return this.isParentRoot?"this property is disabled when element is nested directly inside the root element.":""}},{key:"parentElementDataset",get:function(){var e=document.querySelector("#".concat(this.props.cmp._id));return e?e.parentNode.dataset:null}},{key:"parentFlexDir",get:function(){return this.parentElementDataset?this.parentElementDataset.orientation:void 0}},{key:"isParentRoot",get:function(){return this.parentElementDataset?"_root"===this.parentElementDataset.role:void 0}}]),t}(r.a.Component),Ut=function(e){function t(){return Object(S.a)(this,t),Object(D.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleStyleChange,a=e.cmp,n=e.onUploadImg,c=e.updateMediaSrc,i=a.role,l=a.prefs.style;return r.a.createElement(r.a.Fragment,null,"_root"===i&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-group"},r.a.createElement("label",null,"Direction"),r.a.createElement(ct.a,{value:l.direction||"ltr",name:"direction",onChange:t},r.a.createElement(it.a,{value:"ltr"},"Left to Right"),r.a.createElement(it.a,{value:"rtl"},"Right to Left")))),r.a.createElement(ft,{name:"backgroundColor",color:l.backgroundColor,icon:"fas fa-fill-drip",selectedCmpId:a._id,onColorChange:t}),rt.isSectionCmp(i)&&r.a.createElement(At,{onUploadImg:n,cmp:a,updateMediaSrc:c}),r.a.createElement("div",{className:"input-group"},r.a.createElement(xt,{field:"padding",label:"Spacing",selectedCmpId:a._id,initialValue:l.padding||at.spacing,handleChange:t})),"_root"!==i&&r.a.createElement("div",{className:"input-group"},r.a.createElement(xt,{field:"margin",label:"Margin",selectedCmpId:a._id,initialValue:l.margin||at.spacing,handleChange:t})),(rt.isSectionCmp(i)||rt.isMediaCmp(i))&&r.a.createElement("div",{className:"input-group"},r.a.createElement(xt,{field:"borderRadius",selectedCmpId:a._id,label:"Radius",initialValue:l.borderRadius||at.spacing,handleChange:t})))}}]),t}(r.a.Component),Pt=a(58);function Ft(e){var t=Object(n.useState)(e.cmp.cmpName),a=Object(Pt.a)(t,2),c=a[0],i=a[1];return Object(n.useEffect)((function(){i(e.cmp.cmpName)}),[e.cmp._id,e.cmp.cmpName]),r.a.createElement("input",{type:"text",value:c,id:"cmpNameInput",onChange:function(e){return i(e.target.value)},onBlur:function(){return e.handleCmpNameChange(c)}})}var Wt=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={cmp:null,currentOpenPanel:"main-section"},a.updateInnerTxt=function(e){var t=e.target.value;a.setState((function(e){return{cmp:Object(u.a)({},e.cmp,{children:[t]})}}),(function(){return a.props.updateCmp(a.state.cmp)}))},a.updateMediaSrc=function(e){var t=a.state.cmp;rt.isMediaCmp(t.role)?("video"===t.role?e="https://www.youtube.com/embed/".concat(g(e)):"map"===t.role&&(e="https://maps.google.com/maps?q=".concat(e,"&t=&z=15&ie=UTF8&iwloc=&output=embed")),a.setState((function(t){var a=JSON.parse(JSON.stringify(t.cmp));return a.children[0].prefs.src=e,{cmp:a}}),(function(){return a.props.updateCmp(a.state.cmp)}))):a.handleStyleChange("backgroundImage","url(".concat(e,")"))},a.updateCmpLink=function(e){var t=e.target.value;t?a.setState((function(e){return{cmp:Object(u.a)({},e.cmp,{prefs:Object(u.a)({},e.cmp.prefs,{href:t}),htmlTagName:"a"})}}),(function(){return a.props.updateCmp(a.state.cmp)})):a.setState((function(e){return{cmp:Object(u.a)({},e.cmp,{prefs:Object(u.a)({},e.cmp.prefs,{href:t}),htmlTagName:"span"})}}),(function(){return a.props.updateCmp(a.state.cmp)}))},a.handleDatasetChange=function(e,t){"object"===typeof e&&(t=e.target.value,e=e.target.name),a.setState((function(a){return{cmp:Object(u.a)({},a.cmp,{prefs:Object(u.a)({},a.cmp.prefs,Object(Je.a)({},"data-"+e,t))})}}),(function(){return a.props.updateCmp(a.state.cmp)}))},a.handleCmpNameChange=function(e){a.setState((function(t){return{cmp:Object(u.a)({},t.cmp,{cmpName:e})}}),(function(){return a.props.updateCmp(a.state.cmp)}))},a.handleStyleChange=function(e,t){if("object"===typeof e&&(t=e.target.value,e=e.target.name),"placeholder"===e){var n=Object(u.a)({},a.state.cmp.children[0]);n.prefs.placeholder=t,a.setState((function(e){return{cmp:Object(u.a)({},e.cmp,{children:[n]})}}),(function(){return a.props.updateCmp(a.state.cmp)}))}var r=a.state.cmp.prefs.style[e];if(!("alignItems"===e&&"stretch"===t||"justifyContent"===e&&"space-between"===t)||r!==t&&r||(t="flex-start"),a.setState((function(a){return{cmp:Object(u.a)({},a.cmp,{prefs:Object(u.a)({},a.cmp.prefs,{style:rt.removeRedundantStyles(Object(u.a)({},a.cmp.prefs.style,Object(Je.a)({},e,t)))})})}}),(function(){return a.props.updateCmp(a.state.cmp)})),"flexDirection"===e){var c=a.state.cmp.prefs.style,i=c.alignItems;"stretch"!==c.alignItems&&c.alignItems&&a.handleStyleChange("alignItems",c.justifyContent),"space-between"!==c.justifyContent&&c.justifyContent&&a.handleStyleChange("justifyContent",i)}},a.onUploadImg=function(e){var t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.props.toggleLoader(),n.prev=1,n.next=4,f.a.awrap(h(e));case 4:t=n.sent,n.next=11;break;case 7:n.prev=7,n.t0=n.catch(1),a.props.displayNotificationBox({type:"failure",message:"Failed to upload image"}),t="";case 11:a.props.toggleLoader(),a.updateMediaSrc(t.url);case 13:case"end":return n.stop()}}),null,null,[[1,7]])},a.handlePanelToggle=function(e){return function(t,n){a.setState({currentOpenPanel:!!n&&e})}},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"setCmpData",value:function(){var e=this.props.draft,t=e.selectedCmpId,a=e.cmps[t];a.prefs=a.prefs.style?a.prefs:Object(u.a)({},a.prefs,{style:{}}),this.setState({cmp:a})}},{key:"componentDidMount",value:function(){this.setCmpData()}},{key:"componentDidUpdate",value:function(e,t){var a=this.state.cmp;(a&&this.props.draft.selectedCmpId!==a._id||this.props.draft.selectedCmpId===a._id&&e.draft.cmps[a._id]!==this.props.draft.cmps[a._id])&&this.setCmpData()}},{key:"render",value:function(){if(!this.state.cmp)return r.a.createElement(ae,null);var e=this.state,t=e.currentOpenPanel,a=e.cmp,n=a.role;return r.a.createElement(r.a.Fragment,null,"_root"!==n&&r.a.createElement(Qe.a,{expanded:"element-name"===t,onChange:this.handlePanelToggle("element-name")},r.a.createElement($e.a,{className:"editor-section-title",expandIcon:r.a.createElement(tt.a,null)},"Element Name"),r.a.createElement(Ze.a,null,r.a.createElement(Ft,{cmp:this.state.cmp,handleCmpNameChange:this.handleCmpNameChange}))),r.a.createElement(Qe.a,{expanded:"main-section"===t,onChange:this.handlePanelToggle("main-section")},r.a.createElement($e.a,{className:"editor-section-title",expandIcon:r.a.createElement(tt.a,null)},this.sectionTitle),r.a.createElement(Ze.a,null,r.a.createElement(Mt,{cmp:a,handleStyleChange:this.handleStyleChange,updateInnerTxt:this.updateInnerTxt,onUploadImg:this.onUploadImg,updateCmpLink:this.updateCmpLink,toggleLoader:this.props.toggleLoader,updateMediaSrc:this.updateMediaSrc}))),r.a.createElement(Qe.a,{expanded:"size-section"===t,onChange:this.handlePanelToggle("size-section")},r.a.createElement($e.a,{className:"editor-section-title",expandIcon:r.a.createElement(tt.a,null)},"Size"),r.a.createElement(Ze.a,null,r.a.createElement(Lt,{cmp:this.state.cmp,handleStyleChange:this.handleStyleChange,handleDatasetChange:this.handleDatasetChange}))),r.a.createElement(Qe.a,{expanded:"layout-section"===t,onChange:this.handlePanelToggle("layout-section")},r.a.createElement($e.a,{className:"editor-section-title",expandIcon:r.a.createElement(tt.a,null)},"Layout"),r.a.createElement(Ze.a,null,r.a.createElement(Ut,{cmp:this.state.cmp,handleStyleChange:this.handleStyleChange,onUploadImg:this.onUploadImg,updateMediaSrc:this.updateMediaSrc}))))}},{key:"sectionTitle",get:function(){return rt.getSectionTitle(this.state.cmp.role)}}]),t}(r.a.Component),Bt={updateCmp:Ne,toggleLoader:H,displayNotificationBox:B},Rt=Object(o.b)((function(e){return{draft:e.draft}}),Bt)(Wt);function Ht(e){var t=Object(n.useState)(!0),a=Object(Pt.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(!1),o=Object(Pt.a)(l,2),s=o[0],m=o[1],p=e.addCmp,u=e.dragCmp;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe.a,{expanded:c,onChange:function(){return i(!c)}},r.a.createElement($e.a,{className:"editor-section-title",expandIcon:r.a.createElement(tt.a,null)},"Sections"),r.a.createElement(Ze.a,null,r.a.createElement("div",{className:"editor-btn-container"},r.a.createElement("button",{onClick:p,draggable:"true",onDragStart:u,"data-cmptype":"GenericSection"},r.a.createElement("i",{className:"fas fa-grip-horizontal"}),"Horizontal Section"),r.a.createElement("button",{onClick:p,draggable:"true",onDragStart:u,"data-cmptype":"VerticalSection"},r.a.createElement("i",{className:"fas fa-grip-vertical"}),"Vertical Section"),r.a.createElement("button",{onClick:p,draggable:"true",onDragStart:u,"data-cmptype":"Navbar"},r.a.createElement("i",{className:"rect"}),"Navigation Bar"),r.a.createElement("button",{onClick:p,draggable:"true",onDragStart:u,"data-cmptype":"Header"},r.a.createElement("i",{className:"rect"}),"Header"),r.a.createElement("button",{onClick:p,draggable:"true",onDragStart:u,"data-cmptype":"Cards"},r.a.createElement("i",{className:"fas fa-border-all"}),"Cards"),r.a.createElement("button",{onClick:p,draggable:"true",onDragStart:u,"data-cmptype":"Footer"},r.a.createElement("i",{className:"rect"}),"Footer")))),r.a.createElement(Qe.a,{expanded:s,onChange:function(){return m(!s)}},r.a.createElement($e.a,{className:"editor-section-title",expandIcon:r.a.createElement(tt.a,null)},"Regular Elements"),r.a.createElement(Ze.a,null,r.a.createElement("div",{className:"editor-btn-container"},r.a.createElement("button",{onClick:p,draggable:"true",onDragStart:u,"data-cmptype":"GenericText"},r.a.createElement("i",{className:"fas fa-font"}),"Text"),r.a.createElement("button",{onClick:p,draggable:"true",onDragStart:u,"data-cmptype":"Img"},r.a.createElement("i",{className:"far fa-image"}),"Image"),r.a.createElement("button",{onClick:p,draggable:"true",onDragStart:u,"data-cmptype":"Button"},r.a.createElement("i",{className:"fas fa-mouse"}),"Button"),r.a.createElement("button",{onClick:p,draggable:"true",onDragStart:u,"data-cmptype":"Card"},r.a.createElement("i",{className:"fas fa-square"}),"Card"),r.a.createElement("button",{onClick:p,draggable:"true",onDragStart:u,"data-cmptype":"Youtube"},r.a.createElement("i",{className:"fab fa-youtube"}),"Youtube Video"),r.a.createElement("button",{onClick:p,draggable:"true",onDragStart:u,"data-cmptype":"gMap"},r.a.createElement("i",{className:"fas fa-map-marked-alt"}),"Map"),r.a.createElement("button",{onClick:p,draggable:"true",onDragStart:u,"data-cmptype":"ContactForm"},r.a.createElement("i",{className:"far fa-envelope"}),"Form"),r.a.createElement("button",{onClick:p,draggable:"true",onDragStart:u,"data-cmptype":"SocialButtons"},r.a.createElement("i",{className:"fas fa-share-alt"}),"Social Buttons")))))}var Gt={selectCmp:Ce,cmpToEdit:we,placeLinkAnchor:function(e){return function(t){return t(function(e){return{type:"CMP_ANCHOR_PLACE",anchoredCmpId:e}}(e))}}},zt=Object(o.b)((function(e){return{selectedCmpId:e.draft.selectedCmpId,linkCmpId:e.draft.linkCmpId}}),Gt)((function(e){var t=e.cmp,a=e.children,c=e.selectedCmpId,i=e.linkCmpId,l=!(!a||!a.length),o=Object(n.useState)("_root"===t.role),s=Object(Pt.a)(o,2),m=s[0],p=s[1],u=(m?" expanded":"")+(c===t._id?" active":"");return r.a.createElement("li",{className:l?"expandable":""},r.a.createElement("span",{className:"cmpName"+u,onClick:function(){e.selectCmp(t._id,!1),l&&p(!m),function(){if("_rootElement"!==t._id){var e=document.querySelector(".web-site-container"),a=document.querySelector("#".concat(t._id));if(a){for(;"_root"!==a.parentNode.dataset.role;)a=a.parentNode;e.scrollTo(0,a.offsetTop)}}}()}},"_root"===t.role?"Root Element":t.cmpName||"Element",i&&r.a.createElement("button",{className:"sitemap-anchor-btn",onClick:function(a){a.stopPropagation(),e.placeLinkAnchor(t._id)}},r.a.createElement("i",{className:"fas fa-anchor"})),r.a.createElement("button",{className:"sitemap-edit-btn",onClick:function(a){a.stopPropagation(),e.cmpToEdit(t._id,"edit")}},r.a.createElement("i",{className:"fas fa-pencil-alt"}))),l&&m&&r.a.createElement("ul",{className:"sitemap-list clean-list"},a))})),Vt=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(c)))).createBranch=function(e){var t=a.props.draft.cmps[e];return r.a.createElement(zt,{cmp:t,key:e},Array.isArray(t.children)&&"object"===typeof t.children[0]&&t.children[0].cmpId?t.children.map((function(e){return a.createBranch(e.cmpId)})):void 0)},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.draft.linkCmpId&&r.a.createElement("h3",{className:"anchor-sitemap-title"},"Place the Anchor on desired target element",r.a.createElement("button",{onClick:this.props.unSetLinkCmpId},"Dismiss")),r.a.createElement("ul",{className:"sitemap-list clean-list main-list"},this.createBranch("_rootElement")))}}]),t}(r.a.Component),qt={unSetLinkCmpId:function(){return function(e){return e({type:"LINK_CMPID_UNSET"})}}},Yt=Object(o.b)((function(e){return{draft:e.draft}}),qt)(Vt),Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["Enter some text here...."],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{cmpName:"Text",htmlTagName:"span",role:"text",prefs:{style:Object(u.a)({fontSize:"16px",flexGrow:"1"},t)},children:e}},Xt=function(){return{cmpName:"Image",htmlTagName:"div",role:"img",prefs:{className:"image-wrapper"},children:[{htmlTagName:"img",role:"img",prefs:{src:"/images/upload-your-image.jpg",alt:"Image"},children:void 0}]}},Jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["click me"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{cmpName:"Button",htmlTagName:"button",role:"button",prefs:{style:Object(u.a)({padding:"7px 15px 7px 15px"},t)},children:e}},Qt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};switch(e){case"vertical":n.orientation="vertical";break;case"header":n.name="Header",n.tagName="header";break;case"footer":n.name="Footer",n.tagName="footer";break;case"nav":n.name="Navigation Bar",n.tagName="nav"}return{cmpName:n.name||"Section",htmlTagName:n.tagName||"div",role:"section",prefs:{style:Object(u.a)({padding:"12px",flexDirection:"vertical"===n.orientation?"column":"row",flexGrow:"1"},a)},children:t}},$t=function(){return{cmpName:"Card",htmlTagName:"div",role:"card",prefs:{style:{fontSize:"16px",padding:"12px",textAlign:"center",flexDirection:"column"}},children:[{cmpName:"Image",htmlTagName:"div",role:"img",prefs:{className:"image-wrapper"},children:[{htmlTagName:"img",role:"img",prefs:{src:"/images/upload-your-image.jpg",alt:"Image"},children:void 0}]},Kt()]}};function Zt(e){for(var t=[],a=0;a<e;a++)t.push($t());return t}var ea=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{cmpName:"Input",htmlTagName:"span",role:"input",prefs:{className:"input-wrapper",style:Object(u.a)({},t)},children:[{cmpName:"Input",htmlTagName:e.tagName||"input",role:"input",prefs:{className:"input-element",type:e.type||"text",required:!0,placeholder:e.placeholder||"This is a placeholder",name:e.name},children:void 0}]}},ta={VerticalSection:function(){return Qt("vertical")},GenericText:Kt,GenericSection:Qt,Img:Xt,Button:Jt,Cards:function(){return{cmpName:"Cards Section",htmlTagName:"section",role:"section",prefs:{style:{flexDirection:"row",padding:"12px"}},children:Zt(4)}},Card:$t,Header:function(){return{cmpName:"Site Header",htmlTagName:"header",role:"section",prefs:{style:{backgroundImage:"url(/images/header.jpg)",minHeight:"400px",padding:"12px",flexDirection:"column",justifyContent:"center",alignItems:"center"}},children:[{cmpName:"Section",htmlTagName:"div",role:"section",prefs:{style:{padding:"10px",flexDirection:"column",justifyContent:"center",alignItems:"center"}},children:[{cmpName:"Main text",htmlTagName:"span",role:"text",prefs:{style:{fontSize:80,fontFamily:"Pacifio",color:"#FFFFFF",textAlign:"center"}},children:["Your Brand Comes Here"]},{cmpName:"Sub text",htmlTagName:"span",role:"text",prefs:{style:{fontSize:35,fontFamily:"OpenSans"}},children:["Enter Your Website Description"]}]}]}},Navbar:function(){return{cmpName:"Navigation Bar",htmlTagName:"nav",role:"nav",prefs:{style:{padding:"10px",flexDirection:"row"}},children:[{cmpName:"Brand",htmlTagName:"span",role:"text",prefs:{style:{fontSize:27,alignItems:"center",letterSpacing:5,fontFamily:"Courgette",padding:"10px",fontWeight:"bold"}},children:["Your Brand"]},{cmpName:"Navigation Links",htmlTagName:"div",role:"section",prefs:{style:{padding:"10px",flexDirection:"row"}},children:[{cmpName:"Link",htmlTagName:"span",role:"text",prefs:{style:{fontSize:25,fontFamily:"OpenSans"}},children:["Home"]},{cmpName:"Link",htmlTagName:"span",role:"text",prefs:{style:{fontSize:25,margin:"0 0 0 50px"}},children:["Contact"]},{cmpName:"Link",htmlTagName:"span",role:"text",prefs:{style:{fontSize:25,margin:"0 0 0 50px"}},children:["About"]}]}]}},Footer:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{cmpName:"Footer",htmlTagName:"footer",role:"section",prefs:{style:{backgroundColor:"#DAD9D9",padding:"15px",flexDirection:"row"}},children:[{cmpName:"Text",htmlTagName:"span",role:"text",prefs:{style:{fontSize:"14px",flexGrow:1,textAlign:"center"}},children:["All rights Reserved"]}]}},Youtube:function(){return{cmpName:"Video",htmlTagName:"div",role:"video",prefs:{className:"iframe-wrapper",style:{maxWidth:"800px",boxShadow:"0 0 5px rgba(0,0,0,0.3)",borderRadius:"10px",overflow:"hidden"}},children:[{htmlTagName:"iframe",role:"video",prefs:{allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,src:"https://www.youtube.com/embed/VvU27gvAK40"},children:void 0}]}},gMap:function(){return{cmpName:"Map",htmlTagName:"div",role:"map",prefs:{className:"map-wrapper",style:{flexGrow:"1",maxWidth:"500px",minHeight:"300px"}},children:[{htmlTagName:"iframe",role:"map",prefs:{frameBorder:"0",scrolling:"n",marginHeight:"0",marginWidth:"0",src:"https://maps.google.com/maps?q=HaBonim%204&t=&z=15&ie=UTF8&iwloc=&output=embed"},children:void 0}]}},SocialButtons:function(){return{cmpName:"Socials Share",htmlTagName:"div",role:"section",prefs:{style:{flexDirection:"row",flexGrow:"0",justifyContent:"flex-start"}},children:[{cmpName:"Pinterest",htmlTagName:"div",role:"img",prefs:{className:"image-wrapper",style:{}},children:[{htmlTagName:"img",role:"img",prefs:{src:"https://static.wixstatic.com/media/8f6f59264a094af0b46e9f6c77dff83e.png/v1/fill/w_30,h_30,al_c,q_85,usm_0.66_1.00_0.01/8f6f59264a094af0b46e9f6c77dff83e.webp",alt:"Image"}}]},{cmpName:"Facebook",htmlTagName:"div",role:"img",prefs:{className:"image-wrapper",style:{margin:"0 0 0 24px"}},children:[{htmlTagName:"img",role:"img",prefs:{src:"https://static.wixstatic.com/media/0fdef751204647a3bbd7eaa2827ed4f9.png/v1/fill/w_30,h_30,al_c,q_85,usm_0.66_1.00_0.01/0fdef751204647a3bbd7eaa2827ed4f9.webp",alt:"Image"}}]},{cmpName:"Twitter",htmlTagName:"div",role:"img",prefs:{className:"image-wrapper",style:{margin:"0 0 0 24px"}},children:[{htmlTagName:"img",role:"img",prefs:{src:"https://static.wixstatic.com/media/c7d035ba85f6486680c2facedecdcf4d.png/v1/fill/w_30,h_30,al_c,q_85,usm_0.66_1.00_0.01/c7d035ba85f6486680c2facedecdcf4d.webp",alt:"Image"}}]},{cmpName:"Instagram",htmlTagName:"div",role:"img",prefs:{className:"image-wrapper",style:{margin:"0 0 0 24px"}},children:[{htmlTagName:"img",role:"img",prefs:{src:"https://static.wixstatic.com/media/01c3aff52f2a4dffa526d7a9843d46ea.png/v1/fill/w_30,h_30,al_c,q_85,usm_0.66_1.00_0.01/01c3aff52f2a4dffa526d7a9843d46ea.webp",alt:"Image"}}]}]}},ContactForm:function(){return{cmpName:"Form",htmlTagName:"form",role:"form",prefs:{method:"post",style:{padding:"20px 30px 20px 30px",flexDirection:"column",maxWidth:"530px",flexGrow:"1"}},children:[Kt(["Name: "],{}),ea({name:"fullName",placeholder:"John Due"}),Kt(["Your Email: "],{}),ea({name:"email",type:"email",placeholder:"John@gmail.com"}),Kt(["Phone Number: "],{}),ea({name:"phone",type:"tel",placeholder:"+972-52-823-5428"}),Kt(["Subject: "],{}),ea({name:"subject",placeholder:"Enter Your Subject"}),Kt(["Enter Your Message Here: "],{}),ea({name:"content",placeholder:"Your Message",tagName:"textarea"},{minHeight:"100px"}),Qt(void 0,[Jt(["Submit"],{backgroundColor:"rgb(99, 194, 185)",color:"#FFF",fontFamily:"Nunito"})],{padding:"2px",justifyContent:"flex-end"})]}}},aa=V.a.create({withCredentials:!0}),na=new Y("/api/users");var ra=Object(u.a)({},na,{checkCredentials:function(e){var t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.awrap(aa.post("/api/auth/login",e));case 2:if(!(t=a.sent).data.error){a.next=5;break}throw new Error(t.data.error);case 5:return a.abrupt("return",t.data);case 6:case"end":return a.stop()}}))},register:function(e){var t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.awrap(aa.post("/api/auth",e));case 2:if(!(t=a.sent).data.error){a.next=5;break}throw new Error(t.data.error);case 5:return a.abrupt("return",t.data);case 6:case"end":return a.stop()}}))},getLoggedInUser:function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(aa.get("/api/auth"));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},logOut:function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(aa.post("/api/auth/logout"));case 2:if(!(e=t.sent).data.error){t.next=5;break}throw new Error(e.data.error);case 5:return t.abrupt("return",e.data);case 6:case"end":return t.stop()}}))}}),ca=function(e){return{type:"USER_LOGIN",user:e}};function ia(){return function(e){var t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.awrap(ra.getLoggedInUser());case 2:(t=a.sent)._id&&e(ca(t));case 4:case"end":return a.stop()}}))}}var la=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={error:null},a.onSubmitForm=function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.awrap(a.props.loginUser(e));case 3:a.props.hideModal(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a.setState({error:t.t0.message});case 9:case"end":return t.stop()}}),null,null,[[0,6]])},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return r.a.createElement(ba,{onSubmitForm:this.onSubmitForm,isLoginForm:!0,error:this.state.error})}}]),t}(r.a.Component),oa={loginUser:function(e){return function(t){var a;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.awrap(ra.checkCredentials(e));case 2:a=n.sent,t(ca(a)),t(L({type:"success",message:a.firstName+", Welcome back!"}));case 5:case"end":return n.stop()}}))}},hideModal:W},sa=Object(o.b)((function(e){return{loggedInUser:e.auth.loggedInUser}}),oa)(la),ma=a(492),pa=a(482),ua=a(493),da=a(483),fa=a(480),ha=a(481),ga=Object(Ae.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var va={showModal:F},ba=Object(o.b)(void 0,va)((function(e){var t=e.isLoginForm,a=ga();return r.a.createElement("div",{className:"user-auth-form p20 "+a.paper},r.a.createElement(ma.a,{className:a.avatar},t?r.a.createElement(fa.a,null):r.a.createElement(ha.a,null)),r.a.createElement(Fe.a,{component:"h1",variant:"h5"},t?"Login":"Sign up"),r.a.createElement("form",{className:a.form,onSubmit:function(a){a.preventDefault();var n={};if(!t){var r=a.target,c=r.firstName,i=r.lastName;n.firstName=c.value,n.lastName=i.value}var l=a.target,o=l.email,s=l.password;n.email=o.value,n.password=s.value,e.onSubmitForm(n)}},r.a.createElement(pa.a,{container:!0,spacing:2},!t&&[r.a.createElement(pa.a,{key:"fName",item:!0,xs:12,sm:6},r.a.createElement(ua.a,{autoComplete:"fname",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"First Name (2-15 Characters)",autoFocus:!0})),r.a.createElement(pa.a,{key:"lName",item:!0,xs:12,sm:6},r.a.createElement(ua.a,{required:!0,fullWidth:!0,id:"lastName",label:"Last Name (2-15 Characters)",name:"lastName",autoComplete:"lname"}))],r.a.createElement(pa.a,{item:!0,xs:12},r.a.createElement(ua.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",type:"email"})),r.a.createElement(pa.a,{item:!0,xs:12},r.a.createElement(ua.a,{required:!0,fullWidth:!0,name:"password",label:"Password"+(t?"":" (6-20 Characters)"),type:"password",id:"password",autoComplete:"current-password"}))),e.error&&r.a.createElement("div",{className:"user-form-errors"},e.error),r.a.createElement(fe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},t?"Login":"Sign up"),r.a.createElement(pa.a,{container:!0,justify:"center"},r.a.createElement(pa.a,{item:!0},t?r.a.createElement(da.a,{href:"#",onClick:function(){return e.showModal({component:Ca})},variant:"body2"},"No account? Sign up"):r.a.createElement(da.a,{href:"#",onClick:function(){return e.showModal({component:sa})},variant:"body2"},"Already have an account? Sign in")))))})),Ea=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={error:null},a.onSubmitForm=function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.awrap(a.props.registerUser(e));case 3:a.props.hideModal(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a.setState({error:t.t0.message});case 9:case"end":return t.stop()}}),null,null,[[0,6]])},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return r.a.createElement(ba,{onSubmitForm:this.onSubmitForm,isLoginForm:!1,error:this.state.error})}}]),t}(r.a.Component),ya={registerUser:function(e){return function(t){var a;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.awrap(ra.register(e));case 2:a=n.sent,t(ca(a)),t(L({type:"success",message:a.firstName+", Welcome!"}));case 5:case"end":return n.stop()}}))}},hideModal:W},Ca=Object(o.b)((function(e){return{loggedInUser:e.auth.loggedInUser}}),ya)(Ea),wa=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).handleKeyPress=function(e){var t=window.event?window.event:e;90===t.keyCode&&t.ctrlKey&&a.props.historyBack()},a.onAddCmp=function(e){var t=a.props.draft.selectedCmpId,n=t,r=e.target.dataset.cmptype,c=document.querySelector(".web-site-container");"_rootElement"===t&&c.scrollTo(0,c.scrollHeight),a.props.addCmp(n,ta[r]())},a.onDragCmp=function(e){e.dataTransfer.setData("text",e.target.dataset.cmptype)},a.saveTemplate=function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.props.loggedInUser){t.next=2;break}return t.abrupt("return",a.props.showModal({component:Ca}));case 2:return t.prev=2,a.props.toggleLoader(),t.next=6,f.a.awrap(a.props.saveTemplate(a.props.draft));case 6:e=t.sent,a.props.toggleLoader(),a.moveToEdit(e,"template"),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(2);case 13:case"end":return t.stop()}}),null,null,[[2,11]])},a.publishWap=function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.props.loggedInUser){t.next=2;break}return t.abrupt("return",a.props.showModal({component:Ca}));case 2:return t.prev=2,a.props.toggleLoader(),t.next=6,f.a.awrap(a.props.publishWap(a.props.draft));case 6:e=t.sent,a.props.toggleLoader(),a.props.showModal({component:Se,websiteData:e}),a.moveToEdit(e,"wap"),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(2);case 14:case"end":return t.stop()}}),null,null,[[2,12]])},a.moveToEdit=function(e,t){var n=e._id,r="wap"===t?n+"/wap":n;a.props.history.push("/editor/".concat(r))},a.toggleActive=function(e){var t=e.target.dataset.name;a.props.cmpToEdit(void 0,t)},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){document.onkeydown=this.handleKeyPress}},{key:"componentWillUnmount",value:function(){document.onkeydown=null}},{key:"isPanelActive",value:function(e){return this.props.draft.openPanel===e}},{key:"render",value:function(){return r.a.createElement("div",{className:"editor-side-nav"},r.a.createElement("div",{className:"top-sidenav-btns"},r.a.createElement("div",{"data-name":"sitemap",className:"flex column align-center ".concat(this.isPanelActive("sitemap")&&"active"),onClick:this.toggleActive},r.a.createElement("i",{className:"fas fa-tree"}),r.a.createElement("h2",null,"Site Tree")),r.a.createElement("div",{"data-name":"add",className:"flex column align-center ".concat(this.isPanelActive("add")&&"active"),onClick:this.toggleActive},r.a.createElement("i",{className:"fas fa-plus"}),r.a.createElement("h2",null,"Elements")),r.a.createElement("div",{"data-name":"edit",className:"flex column align-center ".concat(this.isPanelActive("edit")?"active":""),onClick:this.toggleActive},r.a.createElement("i",{className:"fas fa-edit"}),r.a.createElement("h2",null,"Edit"))),r.a.createElement("div",{className:"edit-panel-container"},this.isPanelActive("sitemap")&&r.a.createElement(Yt,null),this.isPanelActive("add")&&r.a.createElement(Ht,{dragCmp:this.onDragCmp,addCmp:this.onAddCmp}),this.isPanelActive("edit")&&r.a.createElement(Rt,null)),r.a.createElement("div",{className:"bottom-sidenav-btns"},r.a.createElement("button",{onClick:this.props.historyBack},r.a.createElement("i",{className:"fas fa-undo"})),r.a.createElement("button",{onClick:this.saveTemplate},r.a.createElement("i",{className:"far fa-save"})),r.a.createElement("button",{onClick:this.publishWap},r.a.createElement("i",{className:"fas fa-cloud-upload-alt"}))))}}]),t}(n.Component),xa={addCmp:xe,cmpToEdit:we,showModal:F,historyBack:function(){return function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:try{e({type:"GO_BACK_IN_HISTORY"})}catch(a){e(L({type:"failure",message:"Failed to undo"}))}case 1:case"end":return t.stop()}}))}},publishWap:function(e){return Oe(e,"wap")},saveTemplate:function(e){return Oe(e,"template")},toggleLoader:H},Na=Object(o.b)((function(e){return{draft:e.draft,loggedInUser:e.auth.loggedInUser}}),xa)(wa),Oa=a(25),ja=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).onEditCmp=function(e){a.props.cmpToEdit(a.props.cmpId)},a.onRemoveCmp=function(e){var t=e.target.parentNode.parentNode.parentNode.id;a.props.removeCmp(t,a.props.cmpId)},a.onMoveCmp=function(e){var t=e.target.dataset.diff,n=e.target.parentNode.parentNode.parentNode.id;a.props.moveCmp(n,a.props.cmpId,+t)},a.onCloneCmp=function(e){var t=e.target.parentNode.parentNode.parentNode.id,n=a.props.draft.cmps[a.props.cmpId];a.props.addCmp(t,n)},a.stopProp=function(e){e.stopPropagation()},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return"_rootElement"===this.props.cmpId?"":r.a.createElement("div",{className:"toolbar","data-role":"toolbar",onClick:this.stopProp},r.a.createElement("i",{className:"far fa-arrow-alt-circle-up","data-diff":"-1",onClick:this.onMoveCmp}),r.a.createElement("i",{className:"far fa-arrow-alt-circle-down","data-diff":"1",onClick:this.onMoveCmp}),r.a.createElement("i",{className:"far fa-clone",onClick:this.onCloneCmp}),r.a.createElement("i",{className:"edit fas fa-edit",onClick:this.onEditCmp}),r.a.createElement("i",{className:"remove fas fa-trash-alt",onClick:this.onRemoveCmp}))}}]),t}(r.a.Component),ka={addCmp:xe,removeCmp:function(e,t){return function(a){return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:try{a(ve(e,t))}catch(r){console.log(r),a(L({type:"failure",message:"Failed to delete element"}))}case 1:case"end":return n.stop()}}))}},updateCmp:Ne,moveCmp:function(e,t,a){return function(n){return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:try{n(Ee(e,t,a))}catch(c){n(L({type:"failure",message:"Failed to move element"}))}case 1:case"end":return r.stop()}}))}},cmpToEdit:we},Sa=Object(o.b)((function(e){return{draft:e.draft}}),ka)(ja);function Ia(e,t){"text"===e.role&&(e.children=[{htmlTagName:"span",role:"text",prefs:{contentEditable:!0,suppressContentEditableWarning:!0,onBlur:t,onClick:function(e){return e.stopPropagation()},draggable:!1,onDragStart:function(e){return e.preventDefault()}},children:Object(Oa.a)(e.children)}])}function Da(e,t,a){var n=t.onSelectCmp,r=t.onDrop,c=t.allowDrop,i=t.onDragLeave,l=t.dragStart,o={onClick:n};a===e._id&&(o["data-selected"]="true"),"text"!==e.role&&e.prefs.style&&e.prefs.style.flexDirection&&(o["data-orientation"]=e.prefs.style.flexDirection),"_root"===e.role&&(o["data-orientation"]="column"),"form"===e.role&&(o.onSubmit=function(e){return e.preventDefault()}),"section"===e.role||"_root"===e.role?(o.onDrop=r,o.onDragOver=c,o.onDragLeave=i):(o.draggable=!0,o.onDragStart=l),e.prefs=Object(u.a)({},e.prefs,{},o)}function Ta(e){return r.a.createElement(e.htmlTagName,Object(u.a)({key:v()},e.prefs),e.children)}var _a=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(c)))).state={draggedElId:"",draggedElParentId:""},a.onSelectCmp=function(e){e.preventDefault(),e.stopPropagation();var t=e.target.id,n=a.props.draft.cmps;t&&n[t]&&a.props.selectCmp(t)},a.resetDrag=function(){a.setState({draggedElId:"",draggedElParentId:""})},a.onUpdateInnerText=function(e){var t=e.target,n=t.innerText,r=t.parentNode,c=a.props.draft.cmps[r.id];c.children[0]!==n&&a.props.updateCmpText(n,c)},a.onDrop=function(e){if(e.stopPropagation(),e.preventDefault(),e.target.classList.remove("dragHoverBottom","dragHoverTop"),!e.target.id||e.target.id===a.state.draggedElId)return a.resetDrag();var t=e.dataTransfer.getData("text"),n=a.state,r=n.draggedElParentId,c=n.draggedElId;if("expander"!==t){var i,l=e.target.id?e.target:e.target.parentNode,o=a.props.draft.cmps,s=e.target,m=e.target.getBoundingClientRect();if("column"===s.parentNode.dataset.orientation)i=e.clientY-m.top<(m.bottom-m.top)/2?0:1;else i=e.clientX-m.left<(m.right-m.left)/2?0:1;for(var p=t?ta[t]():o[a.state.draggedElId],u=s.id;"_rootElement"!==u&&!b(o,u,p);)u=(s=s.parentNode).id;if(a.state.draggedElId===u||!b(o,u,p))return a.resetDrag();t?a.props.addCmp(u,p,l.id,i):a.props.updateCmp(o[c],r,u,l.id,i)}else a.props.toggleExpanderDragged()},a.allowDrop=function(e){if(e.preventDefault(),e.target.id!==a.state.draggedElId){var t=e.target,n=e.clientY,r=e.clientX;if(!["section","_root","toolbar","nav","card"].includes(t.dataset.role)&&"toolbar"!==t.parentNode.dataset.role){var c,i=t.getBoundingClientRect();if("column"===t.parentNode.dataset.orientation)c=n-i.top<(i.bottom-i.top)/2?-1:1;else c=r-i.left<(i.right-i.left)/2?-1:1;-1===c?(t.classList.add("dragHoverTop"),t.classList.remove("dragHoverBottom")):1===c&&(t.classList.add("dragHoverBottom"),t.classList.remove("dragHoverTop"))}}},a.dragOver=function(e){e.preventDefault(),e.target.classList.remove("dragHoverBottom","dragHoverTop")},a.dragStart=function(e){var t=e.target.contentEditable&&!e.target.id?e.target.parentNode:e.target;a.setState({draggedElId:t.id,draggedElParentId:t.parentNode.id})},a.renderCmpsRecursive=function(e){var t=a.props.draft,n=t.cmps,c=t.selectedCmpId;return Ia(e=Object(u.a)({},e),a.onUpdateInnerText),Da(e,{onSelectCmp:a.onSelectCmp,allowDrop:a.allowDrop,onDrop:a.onDrop,onDragLeave:a.dragOver,dragStart:a.dragStart},c),r.a.createElement(e.htmlTagName,Object(u.a)({key:e._id,"data-role":e.role},e.prefs,{id:e._id}),Array.isArray(e.children)?[r.a.createElement(Sa,{cmpId:e._id,key:e._id+" toolbar"})].concat(Object(Oa.a)(e.children.map((function(e){return e.cmpId?a.renderCmpsRecursive(n[e.cmpId]):e.role?Ta(e):e})))):void 0)},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){a(396)}},{key:"render",value:function(){var e=this.props.draft.cmps;return r.a.createElement("div",{className:"web-site-container"},this.renderCmpsRecursive(e._rootElement))}}]),t}(r.a.Component),Aa={selectCmp:Ce,addCmp:xe,toggleExpanderDragged:G,updateCmp:Ne,updateCmpText:function(e,t){return function(a){var n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:try{n=Object(u.a)({},t,{children:[e]}),a(ge(n))}catch(c){a(L({type:"failure",message:"Failed to update text"}))}case 1:case"end":return r.stop()}}))}}},Ma=Object(o.b)((function(e){return{draft:e.draft,isExpanderDragged:e.modal.isExpanderDragged}}),Aa)(_a),La=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={buttonStyle:{}},a.handleDragStart=function(e){var t=e.target;e.dataTransfer.setData("text","expander"),a.props.toggleExpanderDragged();var n=t.cloneNode(!0);n.style.display="none",e.dataTransfer.setDragImage(n,0,0)},a.handleDrag=function(e){e.preventDefault();var t=e.target,n=e.clientX,r=e.clientY,c=document.body,i=c.clientWidth,l=c.clientHeight;if(!(n<=0||r<=0||n>=i-t.offsetWidth/2||r>=l-t.offsetHeight/2)){var o=r-t.offsetHeight/2+"px",s=n-t.offsetWidth/2+"px";a.setState({buttonStyle:{left:s,top:o}})}},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{style:this.state.buttonStyle,onDragStart:this.handleDragStart,onDrag:this.handleDrag,draggable:!0,onClick:this.props.toggleEditorExpansion,className:"editor-expander"},this.props.isEditorExpanded?r.a.createElement("i",{className:"fas fa-compress"}):r.a.createElement("i",{className:"fas fa-expand"}))}}]),t}(r.a.Component),Ua={toggleEditorExpansion:R,toggleExpanderDragged:G},Pa=Object(o.b)((function(e){return{isEditorExpanded:e.modal.isEditorExpanded}}),Ua)(La),Fa=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).loadDraft=function(){var e,t,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:e=a.props.match.params,t=e.id,n=e.type,a.props.loadDraft(t,n);case 2:case"end":return r.stop()}}))},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"componentDidUpdate",value:function(e){e.match.params.id!==this.props.match.params.id&&this.loadDraft()}},{key:"componentDidMount",value:function(){this.loadDraft()}},{key:"componentWillUnmount",value:function(){this.props.resetDraft()}},{key:"render",value:function(){return this.props.draft.cmps?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"editor flex"},r.a.createElement(Na,{history:this.props.history}),r.a.createElement(Ma,null),r.a.createElement(Pa,null)),r.a.createElement("div",{className:"editor-mobile-message flex auto-center"},"Editor is available only on desktop and tablet")):r.a.createElement(ae,null)}}]),t}(r.a.Component),Wa={resetDraft:function(){return function(e){return e(ye({}))}},loadDraft:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"template";return function(a){var n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e){r.next=18;break}if(r.prev=1,"wap"!==t){r.next=8;break}return r.next=5,f.a.awrap(de.getById(e));case 5:r.t0=r.sent,r.next=11;break;case 8:return r.next=10,f.a.awrap(X.getById(e));case 10:r.t0=r.sent;case 11:n=r.t0,r.next=18;break;case 14:r.prev=14,r.t1=r.catch(1),a(L({type:"failure",message:"Failed to load "+("wap"===t?"Website":"Template")}));case 18:n||(n={type:"template",settings:{name:"",thumbnailUrl:""},cmps:{_rootElement:{_id:"_rootElement",htmlTagName:"div",role:"_root",prefs:{className:"web-wrapper"},children:[]}}}),a(ye(n,t));case 20:case"end":return r.stop()}}),null,null,[[1,14]])}}},Ba=Object(o.b)((function(e){return{draft:e.draft}}),Wa)(Fa),Ra=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).closeMenu=function(){window.onscroll=null,a.props.closeMenu()},a.onKeyUp=function(e){"Escape"===e.key&&a.props.closeMenu()},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.closeMenu),window.addEventListener("keyup",this.onKeyUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.closeMenu),window.removeEventListener("keyup",this.onKeyUp)}},{key:"render",value:function(){return r.a.createElement("div",{className:"menus-toggler",onClick:this.closeMenu})}}]),t}(r.a.Component),Ha=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={isMenuOpen:!1},a.onSignup=function(){return a.props.showModal({component:Ca})},a.onLogin=function(){return a.props.showModal({component:sa})},a.showTemplates=function(){return a.props.showModal({component:ie})},a.toggleMenu=function(){return a.setState((function(e){return{isMenuOpen:!e.isMenuOpen}}))},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.props.getLoggedUser()}},{key:"render",value:function(){return r.a.createElement("nav",{className:"main-navbar flex align-center"+this.navClassNames},this.state.isMenuOpen&&r.a.createElement(Ra,{closeMenu:this.toggleMenu}),r.a.createElement("div",{className:"flex space-between align-center nav-content"},r.a.createElement($.b,{to:"/"},r.a.createElement("span",{className:"brand fs40"},"Webify")),r.a.createElement("div",{className:"flex"},r.a.createElement("ul",{className:"links clean-list flex align-center"},r.a.createElement("li",null,r.a.createElement($.b,{to:"/",exact:!0,activeClassName:"active"},"Home")),this.editorLinks,r.a.createElement("li",null,r.a.createElement($.a,{to:"#",onClick:this.props.showChat},"Support")),this.authLinks),this.props.loggedInUser&&r.a.createElement($.a,{to:"/dashboard",className:"nav-user-thumb"},r.a.createElement(Ie,null)),r.a.createElement("button",{className:"nav-hamburger",onClick:this.toggleMenu},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)))))}},{key:"authLinks",get:function(){return this.props.loggedInUser?r.a.createElement("li",null,r.a.createElement($.a,{to:"#",onClick:this.props.logoutUser},"Signout")):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement($.a,{to:"#",onClick:this.onLogin},"Login")),r.a.createElement("li",null,r.a.createElement($.a,{to:"#",onClick:this.onSignup},"Signup")))}},{key:"editorLinks",get:function(){return"editor"===this.props.match.params.pathName?r.a.createElement("li",null,r.a.createElement($.a,{to:"#",onClick:this.showTemplates},"Templates")):r.a.createElement("li",null,r.a.createElement($.b,{to:"/editor"},"Editor"))}},{key:"navClassNames",get:function(){var e=this.state.isMenuOpen,t="editor"===this.props.match.params.pathName;return(e?" menu-open":"")+(t?" in-editor":"")+(t&&this.props.isEditorExpanded?" editor-expanded":"")}}]),t}(n.Component),Ga={showModal:F,getLoggedUser:ia,logoutUser:function(){return function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.awrap(ra.logOut());case 3:e({type:"USER_LOGOUT"}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e(L({type:"failure",message:"Failed to logout"}));case 9:case"end":return t.stop()}}),null,null,[[0,6]])}},showChat:function(e){return function(e){return e(P(!0))}}},za=Object(o.b)((function(e){return{isEditorExpanded:e.modal.isEditorExpanded,loggedInUser:e.auth.loggedInUser,dragAddCmpFunc:e.draft.dragAddCmpFunc}}),Ga)(Ha),Va=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={isClosing:!1},a.onModalClose=function(){a.setState((function(){return setTimeout((function(){return a.props.hideModal()}),400),{isClosing:!0}}))},a.onKeyUp=function(e){"Escape"===e.key&&a.onModalClose()},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keyup",this.onKeyUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this.onKeyUp)}},{key:"render",value:function(){var e=this.props.modalData.component;return r.a.createElement("div",{className:"modal-wrapper"+(this.state.isClosing?" fade-out":""),onClick:this.onModalClose},r.a.createElement("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()}},r.a.createElement("button",{onClick:this.onModalClose,className:"dismiss simple-button normal-trans"},"\xd7"),r.a.createElement(e,{onModalClose:this.onModalClose,transData:this.props.modalData})))}}]),t}(r.a.Component),qa={hideModal:W},Ya=Object(o.b)(null,qa)(Va),Ka=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={timerOut:null},a.setBoxTimer=function(){a.setState({timerOut:setTimeout(a.props.hideNotificationBox,2700)})},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"componentDidUpdate",value:function(e){e.notificationData!==this.props.notificationData&&this.state.timerOut&&(clearTimeout(this.state.timerOut),this.setState({timerOut:null},this.setBoxTimer))}},{key:"componentDidMount",value:function(){this.setBoxTimer()}},{key:"render",value:function(){return this.state.timerOut&&this.props.notificationData.message?r.a.createElement("div",{className:"notification-box "+this.props.notificationData.type},this.props.notificationData.message):""}}]),t}(r.a.Component),Xa={hideNotificationBox:function(){return function(e){return e({type:"NOTIFICATION_BOX_HIDE"})}}},Ja=Object(o.b)(void 0,Xa)(Ka);function Qa(){return r.a.createElement("div",{className:"page-loading-screen flex auto-center"},r.a.createElement(ae,null))}var $a=a(194),Za=a.n($a),en=null,tn=function(){en=Za()("/")},an=function(){en=null},nn=function(e,t){return en.on(e,t)},rn=function(e,t){return en.emit(e,t)},cn=function(e){function t(){return Object(S.a)(this,t),Object(D.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this.props.message,t=e.by===this.props.loggedUser?"user-msg":"";return r.a.createElement("li",{className:t},r.a.createElement("div",{className:"flex space-between"}),e.txt)}}]),t}(r.a.Component),ln=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={msgTxt:"",messages:[],loggedUser:"Guest"},a.onSubmitMsg=function(e){e.preventDefault(),a.state.msgTxt&&(rn("chat msg",a.state.msgTxt),a.setState({msgTxt:""}))},a.handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(Je.a)({},t,n))},a.componentDidMount=function(){a.initChat()},a.initChat=function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.awrap(a.props.getLoggedUser());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),a.props.displayNotificationBox({type:"failure",message:"Failed to upload image"});case 8:a.props.loggedInUser&&(e=a.props.loggedInUser.firstName,a.setState({loggedUser:e})),tn(),rn("chat join",a.state.loggedUser),nn("chat newMsg",(function(e){a.setState((function(t){return{messages:[].concat(Object(Oa.a)(t.messages),[e])}}))})),nn("chat newJoin",(function(e){a.setState((function(t){return{messages:[].concat(Object(Oa.a)(t.messages),[{by:"System",txt:e+" just joined!"}])}}))}));case 13:case"end":return t.stop()}}),null,null,[[0,5]])},a}return Object(_.a)(t,e),Object(I.a)(t,[{key:"componentWillUnmount",value:function(){an()}},{key:"render",value:function(){var e=this.state,t=e.loggedUser,a=e.messages,n=e.msgTxt;return r.a.createElement("div",{className:"chat-wrapper flex column"},r.a.createElement("span",{className:"close-chat-btn",onClick:this.props.hideChat},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("div",{className:"chat-title"},r.a.createElement("span",null,"Webichat"),r.a.createElement("small",null,"Guide to explore Webify")),r.a.createElement("div",{className:"chat-content"},r.a.createElement("ul",{className:"chat-messages clean-list"},a.map((function(e,a){return r.a.createElement(cn,{message:e,loggedUser:t,key:a})}))),r.a.createElement("div",{className:"chat-notifications text-center"})),r.a.createElement("form",{onSubmit:this.onSubmitMsg,className:"chat-inputs flex space-between"},r.a.createElement("input",{autoComplete:"off",type:"text",name:"msgTxt",onChange:this.handleChange,value:n}),r.a.createElement("button",null,r.a.createElement("i",{className:"fas fa-paper-plane"}))))}}]),t}(r.a.Component),on={getLoggedUser:ia,hideChat:function(){return function(e){return e(P(!1))}},displayNotificationBox:B},sn=Object(o.b)((function(e){return{loggedInUser:e.auth.loggedInUser,isChatShown:e.modal.isChatShown}}),on)(ln),mn=function(e){function t(){return Object(S.a)(this,t),Object(D.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this.props,t=e.notificationBox,a=e.regularModal,n=e.isLoading,c=e.isChatShown;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(Ja,{notificationData:t}),a&&r.a.createElement(Ya,{modalData:a}),n&&r.a.createElement(Qa,null),c&&r.a.createElement(sn,null))}}]),t}(r.a.Component),pn={toggleEditorExpansion:R},un=Object(o.b)((function(e){return{notificationBox:e.modal.notificationBox,regularModal:e.modal.regularModal,isLoading:e.modal.isLoading,isChatShown:e.modal.isChatShown}}),pn)(mn),dn=Object(M.a)(),fn=function(e){function t(){return Object(S.a)(this,t),Object(D.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return r.a.createElement(A.b,{history:dn},r.a.createElement(A.a,{path:"/:pathName?",component:za}),r.a.createElement("div",{className:"content-wrapper"},r.a.createElement(A.c,null,r.a.createElement(A.a,{path:"/dashboard",component:Ke}),r.a.createElement(A.a,{path:"/editor/:id?/:type?",component:Ba}),r.a.createElement(A.a,{path:"/about",component:Xe,exact:!0}),r.a.createElement(A.a,{path:"/",component:pe}))),r.a.createElement(un,null))}}]),t}(r.a.Component),hn=Object(l.c)({draft:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"DRAFT_SET":var a=t.draft.cmps?O(t.draft):t.draft;return Object(u.a)({},a,{type:t.draftType,selectedCmpId:"_rootElement",openPanel:"add",linkCmpId:null,history:[]});case"SETTINGS_UPDATE":return Object(u.a)({},e,{settings:Object(u.a)({},t.settings)});case"CMP_SELECT":var n=t.selectedCmpId,r=t.switchPanel,c=["text","img"];if(!n)return e;var i=e.cmps[n].role;return c.includes(i)?Object(u.a)({},e,{selectedCmpId:n,openPanel:r?"edit":e.openPanel}):Object(u.a)({},e,{selectedCmpId:n,openPanel:r?"add":e.openPanel});case"CMP_EDIT":var l=t.selectedCmpId,o=t.openPanel;return l?Object(u.a)({},e,{selectedCmpId:l,openPanel:"edit"}):Object(u.a)({},e,{openPanel:o});case"CMP_UPDATE":var s=N(e),m=t.parentId,p=t.targetParentId,d=t.cmpData,f=t.targetId,h=t.diff;if(!d||!d._id)return e;var g=Object(u.a)({},e.cmps);return(m!==p||f)&&y(g,m,p,d,f,h),g[d._id]=Object(u.a)({},d),Object(u.a)({},e,{cmps:g,history:s});case"CMP_ADD":var v=N(e),w=t.parentCmpId,j=t.cmpData,k=t.targetId,S=t.diff;if(!j)return e;if(w=w||e.selectedCmpId,!b(e.cmps,w,j))throw new Error("You need to drop this element inside a section");var I=Object(u.a)({},e.cmps),D=C(j,I);return I[w]=Object(u.a)({},I[w]),I[w].children=x(I[w].children,k,D,S),Object(u.a)({},e,{cmps:I,selectedCmpId:w,history:v});case"CMP_REMOVE":var T=N(e),_=t.parentCmpId,A=t.cmpId;if(!A||!_||"_rootElement"===A)return e;var M=Object(u.a)({},e.cmps);return M[_]=Object(u.a)({},M[_]),M[_].children=M[_].children.filter((function(e){return e.cmpId!==A})),E(M,A),Object(u.a)({},e,{cmps:M,selectedCmpId:_,history:T});case"CMP_MOVE":var L=N(e),U=t.parentCmpId,P=t.cmpId,F=t.diff;if(!P||!U||"_rootElement"===P)return e;var W=Object(u.a)({},e.cmps);W[U]=Object(u.a)({},W[U]);var B=W[U].children.findIndex((function(e){return e.cmpId===P})),R=W[U].children.slice();if(0===B&&-1===F)return e;if("_rootElement"===W[U]._id){if(B===W._rootElement.children.length-1&&1===F)return e}else if(B===R.length-1&&1===F)return e;var H=R[B];return R.splice(B,1,R[B+F]),R.splice(B+F,1,H),W[U].children=R,Object(u.a)({},e,{cmps:W,selectedCmpId:U,history:L});case"LINK_CMPID_SET":var G=t.linkCmpId;return G?Object(u.a)({},e,{linkCmpId:G,openPanel:"sitemap"}):e;case"LINK_CMPID_UNSET":return Object(u.a)({},e,{linkCmpId:null});case"CMP_NAME_CHANGE":var z=N(e),V=t.cmpName;if(!V)return e;var q=Object(u.a)({},e.cmps);return q[e.selectedCmpId]=Object(u.a)({},q[e.selectedCmpId],{cmpName:V}),Object(u.a)({},e,{cmps:q,history:z});case"CMP_ANCHOR_PLACE":var Y=N(e),K=t.anchoredCmpId;if(!K||!e.linkCmpId)return e;var X=Object(u.a)({},e.cmps),J=X[e.linkCmpId],Q=Object(u.a)({},J,{htmlTagName:"a",prefs:Object(u.a)({},J.prefs,{href:"#"+K})});return X[e.linkCmpId]=Q,Object(u.a)({},e,{cmps:X,selectedCmpId:e.linkCmpId,openPanel:"edit",linkCmpId:null,history:Y});case"GO_BACK_IN_HISTORY":if(!e.history.length)return e;var $=e.history.slice(),Z=$.pop();return Object(u.a)({},e,{},Z,{history:$});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"USER_LOGIN":return Object(u.a)({},e,{loggedInUser:t.user});case"USER_LOGOUT":return Object(u.a)({},e,{loggedInUser:null});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"TOGGLE_MODAL":return Object(u.a)({},e,{regularModal:t.modalData&&Object(u.a)({},t.modalData)});case"TOGGLE_CHAT":return Object(u.a)({},e,{isChatShown:t.chatData});case"NOTIFICATION_BOX_DISPLAY":return Object(u.a)({},e,{notificationBox:Object(u.a)({},t.notificationData)});case"NOTIFICATION_BOX_HIDE":return Object(u.a)({},e,{notificationBox:null});case"TOGGLE_EDITOR_EXPANSION":var a;return a=t.isExpanded?"expand"===t.isExpanded:!e.isEditorExpanded,Object(u.a)({},e,{isEditorExpanded:a});case"TOGGLE_LOADER":return Object(u.a)({},e,{isLoading:!e.isLoading});case"TOGGLE_EXPANDER_DRAGGED":return Object(u.a)({},e,{isExpanderDragged:!e.isExpanderDragged});default:return e}}}),gn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,vn=Object(l.e)(hn,gn(Object(l.a)(s.a)));i.a.render(r.a.createElement(o.a,{store:vn},r.a.createElement(fn,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");m?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):p(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):p(t,e)}))}}()}},[[203,1,2]]]);
//# sourceMappingURL=main.03a4f6de.chunk.js.map